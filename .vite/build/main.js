"use strict";const K=require("electron"),it=require("path"),af=require("url"),sf=require("fs/promises"),Fe=require("util"),lt=require("os"),ia=require("stream"),Hr=require("buffer"),xu=require("events"),Wt=require("fs"),Mu=require("zlib"),of=require("tty"),uf=require("string_decoder"),lf=require("http"),ff=require("https"),Eu=require("crypto");var ln=typeof document<"u"?document.currentScript:null;function aa(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const H=aa(it),ye=aa(sf),Ya=aa(Wt);var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ru(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ou(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var fn={},Zt={},cn,Wa;function Re(){if(Wa)return cn;Wa=1;class e extends Error{constructor(r){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${r.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,e)}}return cn=t=>{if(t.length>2)throw new e(t);function r(i={}){this.options=i}r.prototype.transform=t;function n(i){return new r(i)}return n.Format=r,n},cn}var kt={exports:{}},dn={exports:{}},hn={exports:{}},mn={exports:{}},Ua;function cf(){return Ua||(Ua=1,function(e){var t={};e.exports=t;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(n){var i=r[n],a=t[n]=[];a.open="\x1B["+i[0]+"m",a.close="\x1B["+i[1]+"m"})}(mn)),mn.exports}var gn,Ha;function df(){return Ha||(Ha=1,gn=function(e,t){t=t||process.argv||[];var r=t.indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return i!==-1&&(r===-1?!0:i<r)}),gn}var pn,za;function hf(){if(za)return pn;za=1;var e=lt,t=df(),r=process.env,n=void 0;t("no-color")||t("no-colors")||t("color=false")?n=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(n=!0),"FORCE_COLOR"in r&&(n=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function i(f){return f===0?!1:{level:f,hasBasic:!0,has256:f>=2,has16m:f>=3}}function a(f){if(n===!1)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(f&&!f.isTTY&&n!==!0)return 0;var o=n?1:0;if(process.platform==="win32"){var l=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(p){return p in r})||r.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in r){var h=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return h>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",o)}function s(f){var o=a(f);return i(o)}return pn={supportsColor:s,stdout:s(process.stdout),stderr:s(process.stderr)},pn}var yn={exports:{}},Ga;function mf(){return Ga||(Ga=1,function(e){e.exports=function(r,n){var i="";r=r||"Run the trap, drop the bass",r=r.split("");var a={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return r.forEach(function(s){s=s.toLowerCase();var f=a[s]||[" "],o=Math.floor(Math.random()*f.length);typeof a[s]<"u"?i+=a[s][o]:i+=s}),i}}(yn)),yn.exports}var vn={exports:{}},Va;function gf(){return Va||(Va=1,function(e){e.exports=function(r,n){r=r||"   he is here   ";var i={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},a=[].concat(i.up,i.down,i.mid);function s(l){var h=Math.floor(Math.random()*l);return h}function f(l){var h=!1;return a.filter(function(p){h=p===l}),h}function o(l,h){var p="",u,c;h=h||{},h.up=typeof h.up<"u"?h.up:!0,h.mid=typeof h.mid<"u"?h.mid:!0,h.down=typeof h.down<"u"?h.down:!0,h.size=typeof h.size<"u"?h.size:"maxi",l=l.split("");for(c in l)if(!f(c)){switch(p=p+l[c],u={up:0,down:0,mid:0},h.size){case"mini":u.up=s(8),u.mid=s(2),u.down=s(8);break;case"maxi":u.up=s(16)+3,u.mid=s(4)+1,u.down=s(64)+3;break;default:u.up=s(8)+1,u.mid=s(6)/2,u.down=s(8)+1;break}var m=["up","mid","down"];for(var d in m)for(var g=m[d],y=0;y<=u[g];y++)h[g]&&(p=p+i[g][s(i[g].length)])}return p}return o(r,n)}}(vn)),vn.exports}var wn={exports:{}},Ba;function pf(){return Ba||(Ba=1,function(e){e.exports=function(t){return function(r,n,i){if(r===" ")return r;switch(n%3){case 0:return t.red(r);case 1:return t.white(r);case 2:return t.blue(r)}}}}(wn)),wn.exports}var _n={exports:{}},Ja;function yf(){return Ja||(Ja=1,function(e){e.exports=function(t){return function(r,n,i){return n%2===0?r:t.inverse(r)}}}(_n)),_n.exports}var bn={exports:{}},Za;function vf(){return Za||(Za=1,function(e){e.exports=function(t){var r=["red","yellow","green","blue","magenta"];return function(n,i,a){return n===" "?n:t[r[i++%r.length]](n)}}}(bn)),bn.exports}var Sn={exports:{}},Ka;function wf(){return Ka||(Ka=1,function(e){e.exports=function(t){var r=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,i,a){return n===" "?n:t[r[Math.round(Math.random()*(r.length-2))]](n)}}}(Sn)),Sn.exports}var Qa;function _f(){return Qa||(Qa=1,function(e){var t={};e.exports=t,t.themes={};var r=Fe,n=t.styles=cf(),i=Object.defineProperties,a=new RegExp(/[\r\n]+/g);t.supportsColor=hf().supportsColor,typeof t.enabled>"u"&&(t.enabled=t.supportsColor()!==!1),t.enable=function(){t.enabled=!0},t.disable=function(){t.enabled=!1},t.stripColors=t.strip=function(d){return(""+d).replace(/\x1B\[\d+m/g,"")},t.stylize=function(g,y){if(!t.enabled)return g+"";var v=n[y];return!v&&y in t?t[y](g):v.open+g+v.close};var s=/[|\\{}()[\]^$+*?.]/g,f=function(d){if(typeof d!="string")throw new TypeError("Expected a string");return d.replace(s,"\\$&")};function o(d){var g=function y(){return p.apply(y,arguments)};return g._styles=d,g.__proto__=h,g}var l=function(){var d={};return n.grey=n.gray,Object.keys(n).forEach(function(g){n[g].closeRe=new RegExp(f(n[g].close),"g"),d[g]={get:function(){return o(this._styles.concat(g))}}}),d}(),h=i(function(){},l);function p(){var d=Array.prototype.slice.call(arguments),g=d.map(function(x){return x!=null&&x.constructor===String?x:r.inspect(x)}).join(" ");if(!t.enabled||!g)return g;for(var y=g.indexOf(`
`)!=-1,v=this._styles,w=v.length;w--;){var S=n[v[w]];g=S.open+g.replace(S.closeRe,S.open)+S.close,y&&(g=g.replace(a,function(x){return S.close+x+S.open}))}return g}t.setTheme=function(d){if(typeof d=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var g in d)(function(y){t[y]=function(v){if(typeof d[y]=="object"){var w=v;for(var S in d[y])w=t[d[y][S]](w);return w}return t[d[y]](v)}})(g)};function u(){var d={};return Object.keys(l).forEach(function(g){d[g]={get:function(){return o([g])}}}),d}var c=function(g,y){var v=y.split("");return v=v.map(g),v.join("")};t.trap=mf(),t.zalgo=gf(),t.maps={},t.maps.america=pf()(t),t.maps.zebra=yf()(t),t.maps.rainbow=vf()(t),t.maps.random=wf()(t);for(var m in t.maps)(function(d){t[d]=function(g){return c(t.maps[d],g)}})(m);i(t,u())}(hn)),hn.exports}var Xa;function Du(){return Xa||(Xa=1,function(e){var t=_f();e.exports=t}(dn)),dn.exports}var xn={},Mn={},Kt={},es;function bf(){return es||(es=1,Kt.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},Kt.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}),Kt}var Qt={},ts;function Sf(){return ts||(ts=1,Qt.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},Qt.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}),Qt}var Xt={},rs;function xf(){return rs||(rs=1,Xt.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},Xt.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}),Xt}var ns;function Mf(){return ns||(ns=1,function(e){Object.defineProperty(e,"cli",{value:bf()}),Object.defineProperty(e,"npm",{value:Sf()}),Object.defineProperty(e,"syslog",{value:xf()})}(Mn)),Mn}var is;function _e(){return is||(is=1,function(e){Object.defineProperty(e,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(e,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(e,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(e,"configs",{value:Mf()})}(xn)),xn}var as;function sa(){if(as)return kt.exports;as=1;const e=Du(),{LEVEL:t,MESSAGE:r}=_e();e.enabled=!0;const n=/\s+/;class i{constructor(s={}){s.colors&&this.addColors(s.colors),this.options=s}static addColors(s){const f=Object.keys(s).reduce((o,l)=>(o[l]=n.test(s[l])?s[l].split(n):s[l],o),{});return i.allColors=Object.assign({},i.allColors||{},f),i.allColors}addColors(s){return i.addColors(s)}colorize(s,f,o){if(typeof o>"u"&&(o=f),!Array.isArray(i.allColors[s]))return e[i.allColors[s]](o);for(let l=0,h=i.allColors[s].length;l<h;l++)o=e[i.allColors[s][l]](o);return o}transform(s,f){return f.all&&typeof s[r]=="string"&&(s[r]=this.colorize(s[t],s.level,s[r])),(f.level||f.all||!f.message)&&(s.level=this.colorize(s[t],s.level)),(f.all||f.message)&&(s.message=this.colorize(s[t],s.level,s.message)),s}}return kt.exports=a=>new i(a),kt.exports.Colorizer=kt.exports.Format=i,kt.exports}var En,ss;function Ef(){if(ss)return En;ss=1;const{Colorizer:e}=sa();return En=t=>(e.addColors(t.colors||t),t),En}var Rn,os;function Rf(){return os||(os=1,Rn=Re()(t=>(t.message=`	${t.message}`,t))),Rn}var On,us;function Of(){if(us)return On;us=1;const e=Re(),{LEVEL:t,MESSAGE:r}=_e();return On=e((n,{stack:i,cause:a})=>{if(n instanceof Error){const f=Object.assign({},n,{level:n.level,[t]:n[t]||n.level,message:n.message,[r]:n[r]||n.message});return i&&(f.stack=n.stack),a&&(f.cause=n.cause),f}if(!(n.message instanceof Error))return n;const s=n.message;return Object.assign(n,s),n.message=s.message,n[r]=s.message,i&&(n.stack=s.stack),a&&(n.cause=s.cause),n}),On}var er={exports:{}},At={exports:{}},ls;function Tu(){if(ls)return At.exports;ls=1;const{configs:e,LEVEL:t,MESSAGE:r}=_e();class n{constructor(a={levels:e.npm.levels}){this.paddings=n.paddingForLevels(a.levels,a.filler),this.options=a}static getLongestLevel(a){const s=Object.keys(a).map(f=>f.length);return Math.max(...s)}static paddingForLevel(a,s,f){const o=f+1-a.length,l=Math.floor(o/s.length);return`${s}${s.repeat(l)}`.slice(0,o)}static paddingForLevels(a,s=" "){const f=n.getLongestLevel(a);return Object.keys(a).reduce((o,l)=>(o[l]=n.paddingForLevel(l,s,f),o),{})}transform(a,s){return a.message=`${this.paddings[a[t]]}${a.message}`,a[r]&&(a[r]=`${this.paddings[a[t]]}${a[r]}`),a}}return At.exports=i=>new n(i),At.exports.Padder=At.exports.Format=n,At.exports}var fs;function Df(){if(fs)return er.exports;fs=1;const{Colorizer:e}=sa(),{Padder:t}=Tu(),{configs:r,MESSAGE:n}=_e();class i{constructor(s={}){s.levels||(s.levels=r.cli.levels),this.colorizer=new e(s),this.padder=new t(s),this.options=s}transform(s,f){return this.colorizer.transform(this.padder.transform(s,f),f),s[n]=`${s.level}:${s.message}`,s}}return er.exports=a=>new i(a),er.exports.Format=i,er.exports}var tr={exports:{}},cs;function Tf(){if(cs)return tr.exports;cs=1;const e=Re();function t(n){if(n.every(r))return i=>{let a=i;for(let s=0;s<n.length;s++)if(a=n[s].transform(a,n[s].options),!a)return!1;return a}}function r(n){if(typeof n.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}return tr.exports=(...n)=>{const i=e(t(n)),a=i();return a.Format=i.Format,a},tr.exports.cascade=t,tr.exports}var rr={exports:{}},ds;function zr(){return ds||(ds=1,function(e,t){const{hasOwnProperty:r}=Object.prototype,n=y();n.configure=y,n.stringify=n,n.default=n,t.stringify=n,t.configure=y,e.exports=n;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function a(v){return v.length<5e3&&!i.test(v)?`"${v}"`:JSON.stringify(v)}function s(v,w){if(v.length>200||w)return v.sort(w);for(let S=1;S<v.length;S++){const x=v[S];let R=S;for(;R!==0&&v[R-1]>x;)v[R]=v[R-1],R--;v[R]=x}return v}const f=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function o(v){return f.call(v)!==void 0&&v.length!==0}function l(v,w,S){v.length<S&&(S=v.length);const x=w===","?"":" ";let R=`"0":${x}${v[0]}`;for(let O=1;O<S;O++)R+=`${w}"${O}":${x}${v[O]}`;return R}function h(v){if(r.call(v,"circularValue")){const w=v.circularValue;if(typeof w=="string")return`"${w}"`;if(w==null)return w;if(w===Error||w===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function p(v){let w;if(r.call(v,"deterministic")&&(w=v.deterministic,typeof w!="boolean"&&typeof w!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return w===void 0?!0:w}function u(v,w){let S;if(r.call(v,w)&&(S=v[w],typeof S!="boolean"))throw new TypeError(`The "${w}" argument must be of type boolean`);return S===void 0?!0:S}function c(v,w){let S;if(r.call(v,w)){if(S=v[w],typeof S!="number")throw new TypeError(`The "${w}" argument must be of type number`);if(!Number.isInteger(S))throw new TypeError(`The "${w}" argument must be an integer`);if(S<1)throw new RangeError(`The "${w}" argument must be >= 1`)}return S===void 0?1/0:S}function m(v){return v===1?"1 item":`${v} items`}function d(v){const w=new Set;for(const S of v)(typeof S=="string"||typeof S=="number")&&w.add(String(S));return w}function g(v){if(r.call(v,"strict")){const w=v.strict;if(typeof w!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(w)return S=>{let x=`Object can not safely be stringified. Received type ${typeof S}`;throw typeof S!="function"&&(x+=` (${S.toString()})`),new Error(x)}}}function y(v){v={...v};const w=g(v);w&&(v.bigint===void 0&&(v.bigint=!1),"circularValue"in v||(v.circularValue=Error));const S=h(v),x=u(v,"bigint"),R=p(v),O=typeof R=="function"?R:void 0,k=c(v,"maximumDepth"),D=c(v,"maximumBreadth");function Z(le,T,L,I,V,G){let W=T[le];switch(typeof W=="object"&&W!==null&&typeof W.toJSON=="function"&&(W=W.toJSON(le)),W=I.call(T,le,W),typeof W){case"string":return a(W);case"object":{if(W===null)return"null";if(L.indexOf(W)!==-1)return S;let B="",X=",";const he=G;if(Array.isArray(W)){if(W.length===0)return"[]";if(k<L.length+1)return'"[Array]"';L.push(W),V!==""&&(G+=V,B+=`
${G}`,X=`,
${G}`);const z=Math.min(W.length,D);let _=0;for(;_<z-1;_++){const C=Z(String(_),W,L,I,V,G);B+=C!==void 0?C:"null",B+=X}const b=Z(String(_),W,L,I,V,G);if(B+=b!==void 0?b:"null",W.length-1>D){const C=W.length-D-1;B+=`${X}"... ${m(C)} not stringified"`}return V!==""&&(B+=`
${he}`),L.pop(),`[${B}]`}let se=Object.keys(W);const E=se.length;if(E===0)return"{}";if(k<L.length+1)return'"[Object]"';let M="",A="";V!==""&&(G+=V,X=`,
${G}`,M=" ");const j=Math.min(E,D);R&&!o(W)&&(se=s(se,O)),L.push(W);for(let z=0;z<j;z++){const _=se[z],b=Z(_,W,L,I,V,G);b!==void 0&&(B+=`${A}${a(_)}:${M}${b}`,A=X)}if(E>D){const z=E-D;B+=`${A}"...":${M}"${m(z)} not stringified"`,A=X}return V!==""&&A.length>1&&(B=`
${G}${B}
${he}`),L.pop(),`{${B}}`}case"number":return isFinite(W)?String(W):w?w(W):"null";case"boolean":return W===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(W);default:return w?w(W):void 0}}function ge(le,T,L,I,V,G){switch(typeof T=="object"&&T!==null&&typeof T.toJSON=="function"&&(T=T.toJSON(le)),typeof T){case"string":return a(T);case"object":{if(T===null)return"null";if(L.indexOf(T)!==-1)return S;const W=G;let B="",X=",";if(Array.isArray(T)){if(T.length===0)return"[]";if(k<L.length+1)return'"[Array]"';L.push(T),V!==""&&(G+=V,B+=`
${G}`,X=`,
${G}`);const E=Math.min(T.length,D);let M=0;for(;M<E-1;M++){const j=ge(String(M),T[M],L,I,V,G);B+=j!==void 0?j:"null",B+=X}const A=ge(String(M),T[M],L,I,V,G);if(B+=A!==void 0?A:"null",T.length-1>D){const j=T.length-D-1;B+=`${X}"... ${m(j)} not stringified"`}return V!==""&&(B+=`
${W}`),L.pop(),`[${B}]`}L.push(T);let he="";V!==""&&(G+=V,X=`,
${G}`,he=" ");let se="";for(const E of I){const M=ge(E,T[E],L,I,V,G);M!==void 0&&(B+=`${se}${a(E)}:${he}${M}`,se=X)}return V!==""&&se.length>1&&(B=`
${G}${B}
${W}`),L.pop(),`{${B}}`}case"number":return isFinite(T)?String(T):w?w(T):"null";case"boolean":return T===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(T);default:return w?w(T):void 0}}function ue(le,T,L,I,V){switch(typeof T){case"string":return a(T);case"object":{if(T===null)return"null";if(typeof T.toJSON=="function"){if(T=T.toJSON(le),typeof T!="object")return ue(le,T,L,I,V);if(T===null)return"null"}if(L.indexOf(T)!==-1)return S;const G=V;if(Array.isArray(T)){if(T.length===0)return"[]";if(k<L.length+1)return'"[Array]"';L.push(T),V+=I;let M=`
${V}`;const A=`,
${V}`,j=Math.min(T.length,D);let z=0;for(;z<j-1;z++){const b=ue(String(z),T[z],L,I,V);M+=b!==void 0?b:"null",M+=A}const _=ue(String(z),T[z],L,I,V);if(M+=_!==void 0?_:"null",T.length-1>D){const b=T.length-D-1;M+=`${A}"... ${m(b)} not stringified"`}return M+=`
${G}`,L.pop(),`[${M}]`}let W=Object.keys(T);const B=W.length;if(B===0)return"{}";if(k<L.length+1)return'"[Object]"';V+=I;const X=`,
${V}`;let he="",se="",E=Math.min(B,D);o(T)&&(he+=l(T,X,D),W=W.slice(T.length),E-=T.length,se=X),R&&(W=s(W,O)),L.push(T);for(let M=0;M<E;M++){const A=W[M],j=ue(A,T[A],L,I,V);j!==void 0&&(he+=`${se}${a(A)}: ${j}`,se=X)}if(B>D){const M=B-D;he+=`${se}"...": "${m(M)} not stringified"`,se=X}return se!==""&&(he=`
${V}${he}
${G}`),L.pop(),`{${he}}`}case"number":return isFinite(T)?String(T):w?w(T):"null";case"boolean":return T===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(T);default:return w?w(T):void 0}}function ve(le,T,L){switch(typeof T){case"string":return a(T);case"object":{if(T===null)return"null";if(typeof T.toJSON=="function"){if(T=T.toJSON(le),typeof T!="object")return ve(le,T,L);if(T===null)return"null"}if(L.indexOf(T)!==-1)return S;let I="";const V=T.length!==void 0;if(V&&Array.isArray(T)){if(T.length===0)return"[]";if(k<L.length+1)return'"[Array]"';L.push(T);const he=Math.min(T.length,D);let se=0;for(;se<he-1;se++){const M=ve(String(se),T[se],L);I+=M!==void 0?M:"null",I+=","}const E=ve(String(se),T[se],L);if(I+=E!==void 0?E:"null",T.length-1>D){const M=T.length-D-1;I+=`,"... ${m(M)} not stringified"`}return L.pop(),`[${I}]`}let G=Object.keys(T);const W=G.length;if(W===0)return"{}";if(k<L.length+1)return'"[Object]"';let B="",X=Math.min(W,D);V&&o(T)&&(I+=l(T,",",D),G=G.slice(T.length),X-=T.length,B=","),R&&(G=s(G,O)),L.push(T);for(let he=0;he<X;he++){const se=G[he],E=ve(se,T[se],L);E!==void 0&&(I+=`${B}${a(se)}:${E}`,B=",")}if(W>D){const he=W-D;I+=`${B}"...":"${m(he)} not stringified"`}return L.pop(),`{${I}}`}case"number":return isFinite(T)?String(T):w?w(T):"null";case"boolean":return T===!0?"true":"false";case"undefined":return;case"bigint":if(x)return String(T);default:return w?w(T):void 0}}function Ae(le,T,L){if(arguments.length>1){let I="";if(typeof L=="number"?I=" ".repeat(Math.min(L,10)):typeof L=="string"&&(I=L.slice(0,10)),T!=null){if(typeof T=="function")return Z("",{"":le},[],T,I,"");if(Array.isArray(T))return ge("",le,[],d(T),I,"")}if(I.length!==0)return ue("",le,[],I,"")}return ve("",le,[])}return Ae}}(rr,rr.exports)),rr.exports}var Dn,hs;function ku(){if(hs)return Dn;hs=1;const e=Re(),{MESSAGE:t}=_e(),r=zr();function n(i,a){return typeof a=="bigint"?a.toString():a}return Dn=e((i,a)=>{const s=r.configure(a);return i[t]=s(i,a.replacer||n,a.space),i}),Dn}var Tn,ms;function kf(){return ms||(ms=1,Tn=Re()((t,r)=>r.message?(t.message=`[${r.label}] ${t.message}`,t):(t.label=r.label,t))),Tn}var kn,gs;function Af(){if(gs)return kn;gs=1;const e=Re(),{MESSAGE:t}=_e(),r=zr();return kn=e(n=>{const i={};return n.message&&(i["@message"]=n.message,delete n.message),n.timestamp&&(i["@timestamp"]=n.timestamp,delete n.timestamp),i["@fields"]=n,n[t]=r(i),n}),kn}var An,ps;function Cf(){if(ps)return An;ps=1;const e=Re();function t(n,i,a){const s=i.reduce((o,l)=>(o[l]=n[l],delete n[l],o),{}),f=Object.keys(n).reduce((o,l)=>(o[l]=n[l],delete n[l],o),{});return Object.assign(n,s,{[a]:f}),n}function r(n,i,a){return n[a]=i.reduce((s,f)=>(s[f]=n[f],delete n[f],s),{}),n}return An=e((n,i={})=>{let a="metadata";i.key&&(a=i.key);let s=[];return!i.fillExcept&&!i.fillWith&&(s.push("level"),s.push("message")),i.fillExcept&&(s=i.fillExcept),s.length>0?t(n,s,a):i.fillWith?r(n,i.fillWith,a):n}),An}var Cn,ys;function Pf(){if(ys)return Cn;ys=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;Cn=function(h,p){p=p||{};var u=typeof h;if(u==="string"&&h.length>0)return s(h);if(u==="number"&&isFinite(h))return p.long?o(h):f(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function s(h){if(h=String(h),!(h.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(p){var u=parseFloat(p[1]),c=(p[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*i;case"days":case"day":case"d":return u*n;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*t;case"seconds":case"second":case"secs":case"sec":case"s":return u*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function f(h){var p=Math.abs(h);return p>=n?Math.round(h/n)+"d":p>=r?Math.round(h/r)+"h":p>=t?Math.round(h/t)+"m":p>=e?Math.round(h/e)+"s":h+"ms"}function o(h){var p=Math.abs(h);return p>=n?l(h,p,n,"day"):p>=r?l(h,p,r,"hour"):p>=t?l(h,p,t,"minute"):p>=e?l(h,p,e,"second"):h+" ms"}function l(h,p,u,c){var m=p>=u*1.5;return Math.round(h/u)+" "+c+(m?"s":"")}return Cn}var Pn,vs;function Lf(){if(vs)return Pn;vs=1;const e=Re(),t=Pf();return Pn=e(r=>{const n=+new Date;return this.diff=n-(this.prevTime||n),this.prevTime=n,r.ms=`+${t(this.diff)}`,r}),Pn}var Ln,ws;function Ff(){if(ws)return Ln;ws=1;const e=Fe.inspect,t=Re(),{LEVEL:r,MESSAGE:n,SPLAT:i}=_e();return Ln=t((a,s={})=>{const f=Object.assign({},a);return delete f[r],delete f[n],delete f[i],a[n]=e(f,!1,s.depth||null,s.colorize),a}),Ln}var Ct={exports:{}},_s;function Nf(){if(_s)return Ct.exports;_s=1;const{MESSAGE:e}=_e();class t{constructor(n){this.template=n}transform(n){return n[e]=this.template(n),n}}return Ct.exports=r=>new t(r),Ct.exports.Printf=Ct.exports.Format=t,Ct.exports}var Fn,bs;function qf(){if(bs)return Fn;bs=1;const e=Re(),{MESSAGE:t}=_e(),r=zr();return Fn=e(n=>{const i=r(Object.assign({},n,{level:void 0,message:void 0,splat:void 0})),a=n.padding&&n.padding[n.level]||"";return i!=="{}"?n[t]=`${n.level}:${a} ${n.message} ${i}`:n[t]=`${n.level}:${a} ${n.message}`,n}),Fn}var Nn,Ss;function $f(){if(Ss)return Nn;Ss=1;const e=Fe,{SPLAT:t}=_e(),r=/%[scdjifoO%]/g,n=/%%/g;class i{constructor(s){this.options=s}_splat(s,f){const o=s.message,l=s[t]||s.splat||[],h=o.match(n),p=h&&h.length||0,c=f.length-p-l.length,m=c<0?l.splice(c,-1*c):[],d=m.length;if(d)for(let g=0;g<d;g++)Object.assign(s,m[g]);return s.message=e.format(o,...l),s}transform(s){const f=s.message,o=s[t]||s.splat;if(!o||!o.length)return s;const l=f&&f.match&&f.match(r);if(!l&&(o||o.length)){const h=o.length>1?o.splice(0):o,p=h.length;if(p)for(let u=0;u<p;u++)Object.assign(s,h[u]);return s}return l?this._splat(s,l):s}}return Nn=a=>new i(a),Nn}var Au=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,et="\\d\\d?",Xe="\\d\\d",If="\\d{3}",jf="\\d{4}",Ft="[^\\s]+",Cu=/\[([^]*?)\]/gm;function Pu(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}var xs=function(e){return function(t,r){var n=r[e].map(function(a){return a.toLowerCase()}),i=n.indexOf(t.toLowerCase());return i>-1?i:null}};function at(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var a=i[n];for(var s in a)e[s]=a[s]}return e}var Lu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Fu=["January","February","March","April","May","June","July","August","September","October","November","December"],Yf=Pu(Fu,3),Wf=Pu(Lu,3),oa={dayNamesShort:Wf,dayNames:Lu,monthNamesShort:Yf,monthNames:Fu,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},Nr=at({},oa),Nu=function(e){return Nr=at(Nr,e)},Ms=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Me=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},Uf={D:function(e){return String(e.getDate())},DD:function(e){return Me(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Me(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Me(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return Me(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Me(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Me(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Me(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Me(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Me(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Me(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Me(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Me(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Me(Math.floor(Math.abs(t)/60),2)+":"+Me(Math.abs(t)%60,2)}},Es=function(e){return+e-1},Rs=[null,et],Os=[null,Ft],Ds=["isPm",Ft,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],Ts=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=+t[1]*60+parseInt(t[2],10);return t[0]==="+"?r:-r}return 0}],Hf={D:["day",et],DD:["day",Xe],Do:["day",et+Ft,function(e){return parseInt(e,10)}],M:["month",et,Es],MM:["month",Xe,Es],YY:["year",Xe,function(e){var t=new Date,r=+(""+t.getFullYear()).substr(0,2);return+(""+(+e>68?r-1:r)+e)}],h:["hour",et,void 0,"isPm"],hh:["hour",Xe,void 0,"isPm"],H:["hour",et],HH:["hour",Xe],m:["minute",et],mm:["minute",Xe],s:["second",et],ss:["second",Xe],YYYY:["year",jf],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",Xe,function(e){return+e*10}],SSS:["millisecond",If],d:Rs,dd:Rs,ddd:Os,dddd:Os,MMM:["month",Ft,xs("monthNamesShort")],MMMM:["month",Ft,xs("monthNames")],a:Ds,A:Ds,ZZ:Ts,Z:Ts},qr={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},qu=function(e){return at(qr,e)},$u=function(e,t,r){if(t===void 0&&(t=qr.default),r===void 0&&(r={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=qr[t]||t;var n=[];t=t.replace(Cu,function(a,s){return n.push(s),"@@@"});var i=at(at({},Nr),r);return t=t.replace(Au,function(a){return Uf[a](e,i)}),t.replace(/@@@/g,function(){return n.shift()})};function Iu(e,t,r){if(r===void 0&&(r={}),typeof t!="string")throw new Error("Invalid format in fecha parse");if(t=qr[t]||t,e.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],s=[],f=t.replace(Cu,function(S,x){return s.push(Ms(x)),"@@@"}),o={},l={};f=Ms(f).replace(Au,function(S){var x=Hf[S],R=x[0],O=x[1],k=x[3];if(o[R])throw new Error("Invalid format. "+R+" specified twice in format");return o[R]=!0,k&&(l[k]=!0),a.push(x),"("+O+")"}),Object.keys(l).forEach(function(S){if(!o[S])throw new Error("Invalid format. "+S+" is required in specified format")}),f=f.replace(/@@@/g,function(){return s.shift()});var h=e.match(new RegExp(f,"i"));if(!h)return null;for(var p=at(at({},Nr),r),u=1;u<h.length;u++){var c=a[u-1],m=c[0],d=c[2],g=d?d(h[u],p):+h[u];if(g==null)return null;i[m]=g}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var y;if(i.timezoneOffset==null){y=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var v=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],u=0,w=v.length;u<w;u++)if(o[v[u][0]]&&i[v[u][0]]!==y[v[u][1]]())return null}else if(y=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return y}var zf={format:$u,parse:Iu,defaultI18n:oa,setGlobalDateI18n:Nu,setGlobalDateMasks:qu};const Gf=Object.freeze(Object.defineProperty({__proto__:null,assign:at,default:zf,defaultI18n:oa,format:$u,parse:Iu,setGlobalDateI18n:Nu,setGlobalDateMasks:qu},Symbol.toStringTag,{value:"Module"})),Vf=Ou(Gf);var qn,ks;function Bf(){if(ks)return qn;ks=1;const e=Vf;return qn=Re()((r,n={})=>(n.format&&(r.timestamp=typeof n.format=="function"?n.format():e.format(new Date,n.format)),r.timestamp||(r.timestamp=new Date().toISOString()),n.alias&&(r[n.alias]=r.timestamp),r)),qn}var $n,As;function Jf(){if(As)return $n;As=1;const e=Du(),t=Re(),{MESSAGE:r}=_e();return $n=t((n,i)=>(i.level!==!1&&(n.level=e.strip(n.level)),i.message!==!1&&(n.message=e.strip(String(n.message))),i.raw!==!1&&n[r]&&(n[r]=e.strip(String(n[r]))),n)),$n}var Cs;function ju(){if(Cs)return Zt;Cs=1;const e=Zt.format=Re();Zt.levels=Ef();function t(r,n){Object.defineProperty(e,r,{get(){return n()},configurable:!0})}return t("align",function(){return Rf()}),t("errors",function(){return Of()}),t("cli",function(){return Df()}),t("combine",function(){return Tf()}),t("colorize",function(){return sa()}),t("json",function(){return ku()}),t("label",function(){return kf()}),t("logstash",function(){return Af()}),t("metadata",function(){return Cf()}),t("ms",function(){return Lf()}),t("padLevels",function(){return Tu()}),t("prettyPrint",function(){return Ff()}),t("printf",function(){return Nf()}),t("simple",function(){return qf()}),t("splat",function(){return $f()}),t("timestamp",function(){return Bf()}),t("uncolorize",function(){return Jf()}),Zt}var In={},Ps;function Yu(){return Ps||(Ps=1,function(e){const{format:t}=Fe;e.warn={deprecated(r){return()=>{throw new Error(t("{ %s } was removed in winston@3.0.0.",r))}},useFormat(r){return()=>{throw new Error([t("{ %s } was removed in winston@3.0.0.",r),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(r,n,i){i.forEach(a=>{r[a]=e.warn[n](a)})},forProperties(r,n,i){i.forEach(a=>{const s=e.warn[n](a);Object.defineProperty(r,a,{get:s,set:s})})}}}(In)),In}const Zf="3.17.0",Kf={version:Zf};var jn={},nr={exports:{}},Yn={exports:{}},Wn,Ls;function Qf(){return Ls||(Ls=1,Wn=Fe.deprecate),Wn}var Un,Fs;function Wu(){return Fs||(Fs=1,Un=ia),Un}var Hn,Ns;function Uu(){if(Ns)return Hn;Ns=1;function e(s,f){var o=this,l=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return l||h?(f?f(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,s)):process.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(p){!f&&p?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,p)):process.nextTick(t,o,p):f?(process.nextTick(r,o),f(p)):process.nextTick(r,o)}),this)}function t(s,f){i(s,f),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(s,f){s.emit("error",f)}function a(s,f){var o=s._readableState,l=s._writableState;o&&o.autoDestroy||l&&l.autoDestroy?s.destroy(f):s.emit("error",f)}return Hn={destroy:e,undestroy:n,errorOrDestroy:a},Hn}var zn={},qs;function ft(){if(qs)return zn;qs=1;const e={};function t(s,f,o){o||(o=Error);function l(p,u,c){return typeof f=="string"?f:f(p,u,c)}class h extends o{constructor(u,c,m){super(l(u,c,m))}}h.prototype.name=o.name,h.prototype.code=s,e[s]=h}function r(s,f){if(Array.isArray(s)){const o=s.length;return s=s.map(l=>String(l)),o>2?`one of ${f} ${s.slice(0,o-1).join(", ")}, or `+s[o-1]:o===2?`one of ${f} ${s[0]} or ${s[1]}`:`of ${f} ${s[0]}`}else return`of ${f} ${String(s)}`}function n(s,f,o){return s.substr(0,f.length)===f}function i(s,f,o){return(o===void 0||o>s.length)&&(o=s.length),s.substring(o-f.length,o)===f}function a(s,f,o){return typeof o!="number"&&(o=0),o+f.length>s.length?!1:s.indexOf(f,o)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,f){return'The value "'+f+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,f,o){let l;typeof f=="string"&&n(f,"not ")?(l="must not be",f=f.replace(/^not /,"")):l="must be";let h;if(i(s," argument"))h=`The ${s} ${l} ${r(f,"type")}`;else{const p=a(s,".")?"property":"argument";h=`The "${s}" ${p} ${l} ${r(f,"type")}`}return h+=`. Received type ${typeof o}`,h},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),zn.codes=e,zn}var Gn,$s;function Hu(){if($s)return Gn;$s=1;var e=ft().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,s){var f=t(i,s,a);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var o=s?a:"highWaterMark";throw new e(o,f)}return Math.floor(f)}return n.objectMode?16:16*1024}return Gn={getHighWaterMark:r},Gn}var ir={exports:{}},ar={exports:{}},Is;function Xf(){return Is||(Is=1,typeof Object.create=="function"?ar.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ar.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),ar.exports}var js;function Ut(){if(js)return ir.exports;js=1;try{var e=require("util");if(typeof e.inherits!="function")throw"";ir.exports=e.inherits}catch{ir.exports=Xf()}return ir.exports}var Vn,Ys;function ec(){if(Ys)return Vn;Ys=1;function e(m,d){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(m);d&&(y=y.filter(function(v){return Object.getOwnPropertyDescriptor(m,v).enumerable})),g.push.apply(g,y)}return g}function t(m){for(var d=1;d<arguments.length;d++){var g=arguments[d]!=null?arguments[d]:{};d%2?e(Object(g),!0).forEach(function(y){r(m,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(g,y))})}return m}function r(m,d,g){return d=s(d),d in m?Object.defineProperty(m,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[d]=g,m}function n(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}function i(m,d){for(var g=0;g<d.length;g++){var y=d[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,s(y.key),y)}}function a(m,d,g){return d&&i(m.prototype,d),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var d=f(m,"string");return typeof d=="symbol"?d:String(d)}function f(m,d){if(typeof m!="object"||m===null)return m;var g=m[Symbol.toPrimitive];if(g!==void 0){var y=g.call(m,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var o=Hr,l=o.Buffer,h=Fe,p=h.inspect,u=p&&p.custom||"inspect";function c(m,d,g){l.prototype.copy.call(m,d,g)}return Vn=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return a(m,[{key:"push",value:function(g){var y={data:g,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(g){var y={data:g,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var y=this.head,v=""+y.data;y=y.next;)v+=g+y.data;return v}},{key:"concat",value:function(g){if(this.length===0)return l.alloc(0);for(var y=l.allocUnsafe(g>>>0),v=this.head,w=0;v;)c(v.data,y,w),w+=v.data.length,v=v.next;return y}},{key:"consume",value:function(g,y){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?v=this.shift():v=y?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var y=this.head,v=1,w=y.data;for(g-=w.length;y=y.next;){var S=y.data,x=g>S.length?S.length:g;if(x===S.length?w+=S:w+=S.slice(0,g),g-=x,g===0){x===S.length?(++v,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=S.slice(x));break}++v}return this.length-=v,w}},{key:"_getBuffer",value:function(g){var y=l.allocUnsafe(g),v=this.head,w=1;for(v.data.copy(y),g-=v.data.length;v=v.next;){var S=v.data,x=g>S.length?S.length:g;if(S.copy(y,y.length-g,0,x),g-=x,g===0){x===S.length?(++w,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=S.slice(x));break}++w}return this.length-=w,y}},{key:u,value:function(g,y){return p(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),m}(),Vn}var Bn={},sr={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ws;function tc(){return Ws||(Ws=1,function(e,t){var r=Hr,n=r.Buffer;function i(s,f){for(var o in s)f[o]=s[o]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(s,f,o){return n(s,f,o)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,f,o){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,f,o)},a.alloc=function(s,f,o){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=n(s);return f!==void 0?typeof o=="string"?l.fill(f,o):l.fill(f):l.fill(0),l},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(sr,sr.exports)),sr.exports}var Us;function Hs(){if(Us)return Bn;Us=1;var e=tc().Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var v;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(v)return;y=(""+y).toLowerCase(),v=!0}}function n(y){var v=r(y);if(typeof v!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return v||y}Bn.StringDecoder=i;function i(y){this.encoding=n(y);var v;switch(this.encoding){case"utf16le":this.text=p,this.end=u,v=4;break;case"utf8":this.fillLast=o,v=4;break;case"base64":this.text=c,this.end=m,v=3;break;default:this.write=d,this.end=g;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(v)}i.prototype.write=function(y){if(y.length===0)return"";var v,w;if(this.lastNeed){if(v=this.fillLast(y),v===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<y.length?v?v+this.text(y,w):this.text(y,w):v||""},i.prototype.end=h,i.prototype.text=l,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function a(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function s(y,v,w){var S=v.length-1;if(S<w)return 0;var x=a(v[S]);return x>=0?(x>0&&(y.lastNeed=x-1),x):--S<w||x===-2?0:(x=a(v[S]),x>=0?(x>0&&(y.lastNeed=x-2),x):--S<w||x===-2?0:(x=a(v[S]),x>=0?(x>0&&(x===2?x=0:y.lastNeed=x-3),x):0))}function f(y,v,w){if((v[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return y.lastNeed=2,"�"}}function o(y){var v=this.lastTotal-this.lastNeed,w=f(this,y);if(w!==void 0)return w;if(this.lastNeed<=y.length)return y.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,v,0,y.length),this.lastNeed-=y.length}function l(y,v){var w=s(this,y,v);if(!this.lastNeed)return y.toString("utf8",v);this.lastTotal=w;var S=y.length-(w-this.lastNeed);return y.copy(this.lastChar,0,S),y.toString("utf8",v,S)}function h(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+"�":v}function p(y,v){if((y.length-v)%2===0){var w=y.toString("utf16le",v);if(w){var S=w.charCodeAt(w.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",v,y.length-1)}function u(y){var v=y&&y.length?this.write(y):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,w)}return v}function c(y,v){var w=(y.length-v)%3;return w===0?y.toString("base64",v):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",v,y.length-w))}function m(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function d(y){return y.toString(this.encoding)}function g(y){return y&&y.length?this.write(y):""}return Bn}var Jn,zs;function ua(){if(zs)return Jn;zs=1;var e=ft().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var s=!1;return function(){if(!s){s=!0;for(var f=arguments.length,o=new Array(f),l=0;l<f;l++)o[l]=arguments[l];a.apply(this,o)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,s,f){if(typeof s=="function")return i(a,null,s);s||(s={}),f=t(f||r);var o=s.readable||s.readable!==!1&&a.readable,l=s.writable||s.writable!==!1&&a.writable,h=function(){a.writable||u()},p=a._writableState&&a._writableState.finished,u=function(){l=!1,p=!0,o||f.call(a)},c=a._readableState&&a._readableState.endEmitted,m=function(){o=!1,c=!0,l||f.call(a)},d=function(w){f.call(a,w)},g=function(){var w;if(o&&!c)return(!a._readableState||!a._readableState.ended)&&(w=new e),f.call(a,w);if(l&&!p)return(!a._writableState||!a._writableState.ended)&&(w=new e),f.call(a,w)},y=function(){a.req.on("finish",u)};return n(a)?(a.on("complete",u),a.on("abort",g),a.req?y():a.on("request",y)):l&&!a._writableState&&(a.on("end",h),a.on("close",h)),a.on("end",m),a.on("finish",u),s.error!==!1&&a.on("error",d),a.on("close",g),function(){a.removeListener("complete",u),a.removeListener("abort",g),a.removeListener("request",y),a.req&&a.req.removeListener("finish",u),a.removeListener("end",h),a.removeListener("close",h),a.removeListener("finish",u),a.removeListener("end",m),a.removeListener("error",d),a.removeListener("close",g)}}return Jn=i,Jn}var Zn,Gs;function rc(){if(Gs)return Zn;Gs=1;var e;function t(w,S,x){return S=r(S),S in w?Object.defineProperty(w,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[S]=x,w}function r(w){var S=n(w,"string");return typeof S=="symbol"?S:String(S)}function n(w,S){if(typeof w!="object"||w===null)return w;var x=w[Symbol.toPrimitive];if(x!==void 0){var R=x.call(w,S);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}var i=ua(),a=Symbol("lastResolve"),s=Symbol("lastReject"),f=Symbol("error"),o=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function u(w,S){return{value:w,done:S}}function c(w){var S=w[a];if(S!==null){var x=w[p].read();x!==null&&(w[l]=null,w[a]=null,w[s]=null,S(u(x,!1)))}}function m(w){process.nextTick(c,w)}function d(w,S){return function(x,R){w.then(function(){if(S[o]){x(u(void 0,!0));return}S[h](x,R)},R)}}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[p]},next:function(){var S=this,x=this[f];if(x!==null)return Promise.reject(x);if(this[o])return Promise.resolve(u(void 0,!0));if(this[p].destroyed)return new Promise(function(D,Z){process.nextTick(function(){S[f]?Z(S[f]):D(u(void 0,!0))})});var R=this[l],O;if(R)O=new Promise(d(R,this));else{var k=this[p].read();if(k!==null)return Promise.resolve(u(k,!1));O=new Promise(this[h])}return this[l]=O,O}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var S=this;return new Promise(function(x,R){S[p].destroy(null,function(O){if(O){R(O);return}x(u(void 0,!0))})})}),e),g),v=function(S){var x,R=Object.create(y,(x={},t(x,p,{value:S,writable:!0}),t(x,a,{value:null,writable:!0}),t(x,s,{value:null,writable:!0}),t(x,f,{value:null,writable:!0}),t(x,o,{value:S._readableState.endEmitted,writable:!0}),t(x,h,{value:function(k,D){var Z=R[p].read();Z?(R[l]=null,R[a]=null,R[s]=null,k(u(Z,!1))):(R[a]=k,R[s]=D)},writable:!0}),x));return R[l]=null,i(S,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=R[s];k!==null&&(R[l]=null,R[a]=null,R[s]=null,k(O)),R[f]=O;return}var D=R[a];D!==null&&(R[l]=null,R[a]=null,R[s]=null,D(u(void 0,!0))),R[o]=!0}),S.on("readable",m.bind(null,R)),R};return Zn=v,Zn}var Kn,Vs;function nc(){if(Vs)return Kn;Vs=1;function e(l,h,p,u,c,m,d){try{var g=l[m](d),y=g.value}catch(v){p(v);return}g.done?h(y):Promise.resolve(y).then(u,c)}function t(l){return function(){var h=this,p=arguments;return new Promise(function(u,c){var m=l.apply(h,p);function d(y){e(m,u,c,d,g,"next",y)}function g(y){e(m,u,c,d,g,"throw",y)}d(void 0)})}}function r(l,h){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);h&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),p.push.apply(p,u)}return p}function n(l){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?r(Object(p),!0).forEach(function(u){i(l,u,p[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):r(Object(p)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(p,u))})}return l}function i(l,h,p){return h=a(h),h in l?Object.defineProperty(l,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[h]=p,l}function a(l){var h=s(l,"string");return typeof h=="symbol"?h:String(h)}function s(l,h){if(typeof l!="object"||l===null)return l;var p=l[Symbol.toPrimitive];if(p!==void 0){var u=p.call(l,h);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(l)}var f=ft().codes.ERR_INVALID_ARG_TYPE;function o(l,h,p){var u;if(h&&typeof h.next=="function")u=h;else if(h&&h[Symbol.asyncIterator])u=h[Symbol.asyncIterator]();else if(h&&h[Symbol.iterator])u=h[Symbol.iterator]();else throw new f("iterable",["Iterable"],h);var c=new l(n({objectMode:!0},p)),m=!1;c._read=function(){m||(m=!0,d())};function d(){return g.apply(this,arguments)}function g(){return g=t(function*(){try{var y=yield u.next(),v=y.value,w=y.done;w?c.push(null):c.push(yield v)?d():m=!1}catch(S){c.destroy(S)}}),g.apply(this,arguments)}return c}return Kn=o,Kn}var Qn,Bs;function zu(){if(Bs)return Qn;Bs=1,Qn=D;var e;D.ReadableState=k,xu.EventEmitter;var t=function(b,C){return b.listeners(C).length},r=Wu(),n=Hr.Buffer,i=(typeof Fr<"u"?Fr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(_){return n.from(_)}function s(_){return n.isBuffer(_)||_ instanceof i}var f=Fe,o;f&&f.debuglog?o=f.debuglog("stream"):o=function(){};var l=ec(),h=Uu(),p=Hu(),u=p.getHighWaterMark,c=ft().codes,m=c.ERR_INVALID_ARG_TYPE,d=c.ERR_STREAM_PUSH_AFTER_EOF,g=c.ERR_METHOD_NOT_IMPLEMENTED,y=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,w,S;Ut()(D,r);var x=h.errorOrDestroy,R=["error","close","destroy","pause","resume"];function O(_,b,C){if(typeof _.prependListener=="function")return _.prependListener(b,C);!_._events||!_._events[b]?_.on(b,C):Array.isArray(_._events[b])?_._events[b].unshift(C):_._events[b]=[C,_._events[b]]}function k(_,b,C){e=e||St(),_=_||{},typeof C!="boolean"&&(C=b instanceof e),this.objectMode=!!_.objectMode,C&&(this.objectMode=this.objectMode||!!_.readableObjectMode),this.highWaterMark=u(this,_,"readableHighWaterMark",C),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.destroyed=!1,this.defaultEncoding=_.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_.encoding&&(v||(v=Hs().StringDecoder),this.decoder=new v(_.encoding),this.encoding=_.encoding)}function D(_){if(e=e||St(),!(this instanceof D))return new D(_);var b=this instanceof e;this._readableState=new k(_,this,b),this.readable=!0,_&&(typeof _.read=="function"&&(this._read=_.read),typeof _.destroy=="function"&&(this._destroy=_.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(b){this._readableState&&(this._readableState.destroyed=b)}}),D.prototype.destroy=h.destroy,D.prototype._undestroy=h.undestroy,D.prototype._destroy=function(_,b){b(_)},D.prototype.push=function(_,b){var C=this._readableState,q;return C.objectMode?q=!0:typeof _=="string"&&(b=b||C.defaultEncoding,b!==C.encoding&&(_=n.from(_,b),b=""),q=!0),Z(this,_,b,!1,q)},D.prototype.unshift=function(_){return Z(this,_,null,!0,!1)};function Z(_,b,C,q,pe){o("readableAddChunk",b);var ee=_._readableState;if(b===null)ee.reading=!1,T(_,ee);else{var fe;if(pe||(fe=ue(ee,b)),fe)x(_,fe);else if(ee.objectMode||b&&b.length>0)if(typeof b!="string"&&!ee.objectMode&&Object.getPrototypeOf(b)!==n.prototype&&(b=a(b)),q)ee.endEmitted?x(_,new y):ge(_,ee,b,!0);else if(ee.ended)x(_,new d);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!C?(b=ee.decoder.write(b),ee.objectMode||b.length!==0?ge(_,ee,b,!1):V(_,ee)):ge(_,ee,b,!1)}else q||(ee.reading=!1,V(_,ee))}return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function ge(_,b,C,q){b.flowing&&b.length===0&&!b.sync?(b.awaitDrain=0,_.emit("data",C)):(b.length+=b.objectMode?1:C.length,q?b.buffer.unshift(C):b.buffer.push(C),b.needReadable&&L(_)),V(_,b)}function ue(_,b){var C;return!s(b)&&typeof b!="string"&&b!==void 0&&!_.objectMode&&(C=new m("chunk",["string","Buffer","Uint8Array"],b)),C}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(_){v||(v=Hs().StringDecoder);var b=new v(_);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var C=this._readableState.buffer.head,q="";C!==null;)q+=b.write(C.data),C=C.next;return this._readableState.buffer.clear(),q!==""&&this._readableState.buffer.push(q),this._readableState.length=q.length,this};var ve=1073741824;function Ae(_){return _>=ve?_=ve:(_--,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_++),_}function le(_,b){return _<=0||b.length===0&&b.ended?0:b.objectMode?1:_!==_?b.flowing&&b.length?b.buffer.head.data.length:b.length:(_>b.highWaterMark&&(b.highWaterMark=Ae(_)),_<=b.length?_:b.ended?b.length:(b.needReadable=!0,0))}D.prototype.read=function(_){o("read",_),_=parseInt(_,10);var b=this._readableState,C=_;if(_!==0&&(b.emittedReadable=!1),_===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return o("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?A(this):L(this),null;if(_=le(_,b),_===0&&b.ended)return b.length===0&&A(this),null;var q=b.needReadable;o("need readable",q),(b.length===0||b.length-_<b.highWaterMark)&&(q=!0,o("length less than watermark",q)),b.ended||b.reading?(q=!1,o("reading or ended",q)):q&&(o("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(_=le(C,b)));var pe;return _>0?pe=M(_,b):pe=null,pe===null?(b.needReadable=b.length<=b.highWaterMark,_=0):(b.length-=_,b.awaitDrain=0),b.length===0&&(b.ended||(b.needReadable=!0),C!==_&&b.ended&&A(this)),pe!==null&&this.emit("data",pe),pe};function T(_,b){if(o("onEofChunk"),!b.ended){if(b.decoder){var C=b.decoder.end();C&&C.length&&(b.buffer.push(C),b.length+=b.objectMode?1:C.length)}b.ended=!0,b.sync?L(_):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,I(_)))}}function L(_){var b=_._readableState;o("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(o("emitReadable",b.flowing),b.emittedReadable=!0,process.nextTick(I,_))}function I(_){var b=_._readableState;o("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(_.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,E(_)}function V(_,b){b.readingMore||(b.readingMore=!0,process.nextTick(G,_,b))}function G(_,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){var C=b.length;if(o("maybeReadMore read 0"),_.read(0),C===b.length)break}b.readingMore=!1}D.prototype._read=function(_){x(this,new g("_read()"))},D.prototype.pipe=function(_,b){var C=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=_;break;case 1:q.pipes=[q.pipes,_];break;default:q.pipes.push(_);break}q.pipesCount+=1,o("pipe count=%d opts=%j",q.pipesCount,b);var pe=(!b||b.end!==!1)&&_!==process.stdout&&_!==process.stderr,ee=pe?dt:Tt;q.endEmitted?process.nextTick(ee):C.once("end",ee),_.on("unpipe",fe);function fe(ht,mt){o("onunpipe"),ht===C&&mt&&mt.hasUnpiped===!1&&(mt.hasUnpiped=!0,nf())}function dt(){o("onend"),_.end()}var Jt=W(C);_.on("drain",Jt);var Ia=!1;function nf(){o("cleanup"),_.removeListener("close",on),_.removeListener("finish",un),_.removeListener("drain",Jt),_.removeListener("error",sn),_.removeListener("unpipe",fe),C.removeListener("end",dt),C.removeListener("end",Tt),C.removeListener("data",ja),Ia=!0,q.awaitDrain&&(!_._writableState||_._writableState.needDrain)&&Jt()}C.on("data",ja);function ja(ht){o("ondata");var mt=_.write(ht);o("dest.write",mt),mt===!1&&((q.pipesCount===1&&q.pipes===_||q.pipesCount>1&&z(q.pipes,_)!==-1)&&!Ia&&(o("false write response, pause",q.awaitDrain),q.awaitDrain++),C.pause())}function sn(ht){o("onerror",ht),Tt(),_.removeListener("error",sn),t(_,"error")===0&&x(_,ht)}O(_,"error",sn);function on(){_.removeListener("finish",un),Tt()}_.once("close",on);function un(){o("onfinish"),_.removeListener("close",on),Tt()}_.once("finish",un);function Tt(){o("unpipe"),C.unpipe(_)}return _.emit("pipe",C),q.flowing||(o("pipe resume"),C.resume()),_};function W(_){return function(){var C=_._readableState;o("pipeOnDrain",C.awaitDrain),C.awaitDrain&&C.awaitDrain--,C.awaitDrain===0&&t(_,"data")&&(C.flowing=!0,E(_))}}D.prototype.unpipe=function(_){var b=this._readableState,C={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1)return _&&_!==b.pipes?this:(_||(_=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,_&&_.emit("unpipe",this,C),this);if(!_){var q=b.pipes,pe=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var ee=0;ee<pe;ee++)q[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=z(b.pipes,_);return fe===-1?this:(b.pipes.splice(fe,1),b.pipesCount-=1,b.pipesCount===1&&(b.pipes=b.pipes[0]),_.emit("unpipe",this,C),this)},D.prototype.on=function(_,b){var C=r.prototype.on.call(this,_,b),q=this._readableState;return _==="data"?(q.readableListening=this.listenerCount("readable")>0,q.flowing!==!1&&this.resume()):_==="readable"&&!q.endEmitted&&!q.readableListening&&(q.readableListening=q.needReadable=!0,q.flowing=!1,q.emittedReadable=!1,o("on readable",q.length,q.reading),q.length?L(this):q.reading||process.nextTick(X,this)),C},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(_,b){var C=r.prototype.removeListener.call(this,_,b);return _==="readable"&&process.nextTick(B,this),C},D.prototype.removeAllListeners=function(_){var b=r.prototype.removeAllListeners.apply(this,arguments);return(_==="readable"||_===void 0)&&process.nextTick(B,this),b};function B(_){var b=_._readableState;b.readableListening=_.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:_.listenerCount("data")>0&&_.resume()}function X(_){o("readable nexttick read 0"),_.read(0)}D.prototype.resume=function(){var _=this._readableState;return _.flowing||(o("resume"),_.flowing=!_.readableListening,he(this,_)),_.paused=!1,this};function he(_,b){b.resumeScheduled||(b.resumeScheduled=!0,process.nextTick(se,_,b))}function se(_,b){o("resume",b.reading),b.reading||_.read(0),b.resumeScheduled=!1,_.emit("resume"),E(_),b.flowing&&!b.reading&&_.read(0)}D.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function E(_){var b=_._readableState;for(o("flow",b.flowing);b.flowing&&_.read()!==null;);}D.prototype.wrap=function(_){var b=this,C=this._readableState,q=!1;_.on("end",function(){if(o("wrapped end"),C.decoder&&!C.ended){var fe=C.decoder.end();fe&&fe.length&&b.push(fe)}b.push(null)}),_.on("data",function(fe){if(o("wrapped data"),C.decoder&&(fe=C.decoder.write(fe)),!(C.objectMode&&fe==null)&&!(!C.objectMode&&(!fe||!fe.length))){var dt=b.push(fe);dt||(q=!0,_.pause())}});for(var pe in _)this[pe]===void 0&&typeof _[pe]=="function"&&(this[pe]=function(dt){return function(){return _[dt].apply(_,arguments)}}(pe));for(var ee=0;ee<R.length;ee++)_.on(R[ee],this.emit.bind(this,R[ee]));return this._read=function(fe){o("wrapped _read",fe),q&&(q=!1,_.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=rc()),w(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}}),D._fromList=M,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function M(_,b){if(b.length===0)return null;var C;return b.objectMode?C=b.buffer.shift():!_||_>=b.length?(b.decoder?C=b.buffer.join(""):b.buffer.length===1?C=b.buffer.first():C=b.buffer.concat(b.length),b.buffer.clear()):C=b.buffer.consume(_,b.decoder),C}function A(_){var b=_._readableState;o("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,process.nextTick(j,b,_))}function j(_,b){if(o("endReadableNT",_.endEmitted,_.length),!_.endEmitted&&_.length===0&&(_.endEmitted=!0,b.readable=!1,b.emit("end"),_.autoDestroy)){var C=b._writableState;(!C||C.autoDestroy&&C.finished)&&b.destroy()}}typeof Symbol=="function"&&(D.from=function(_,b){return S===void 0&&(S=nc()),S(D,_,b)});function z(_,b){for(var C=0,q=_.length;C<q;C++)if(_[C]===b)return C;return-1}return Qn}var Xn,Js;function St(){if(Js)return Xn;Js=1;var e=Object.keys||function(l){var h=[];for(var p in l)h.push(p);return h};Xn=s;var t=zu(),r=la();Ut()(s,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(l){if(!(this instanceof s))return new s(l);t.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process.nextTick(o,this)}function o(l){l.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),Xn}var ei,Zs;function la(){if(Zs)return ei;Zs=1,ei=k;function e(E){var M=this;this.next=null,this.entry=null,this.finish=function(){se(M,E)}}var t;k.WritableState=R;var r={deprecate:Qf()},n=Wu(),i=Hr.Buffer,a=(typeof Fr<"u"?Fr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(E){return i.from(E)}function f(E){return i.isBuffer(E)||E instanceof a}var o=Uu(),l=Hu(),h=l.getHighWaterMark,p=ft().codes,u=p.ERR_INVALID_ARG_TYPE,c=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,d=p.ERR_STREAM_CANNOT_PIPE,g=p.ERR_STREAM_DESTROYED,y=p.ERR_STREAM_NULL_VALUES,v=p.ERR_STREAM_WRITE_AFTER_END,w=p.ERR_UNKNOWN_ENCODING,S=o.errorOrDestroy;Ut()(k,n);function x(){}function R(E,M,A){t=t||St(),E=E||{},typeof A!="boolean"&&(A=M instanceof t),this.objectMode=!!E.objectMode,A&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=h(this,E,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=E.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){T(M,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}R.prototype.getBuffer=function(){for(var M=this.bufferedRequest,A=[];M;)A.push(M),M=M.next;return A},function(){try{Object.defineProperty(R.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(M){return O.call(this,M)?!0:this!==k?!1:M&&M._writableState instanceof R}})):O=function(M){return M instanceof this};function k(E){t=t||St();var M=this instanceof t;if(!M&&!O.call(k,this))return new k(E);this._writableState=new R(E,this,M),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),n.call(this)}k.prototype.pipe=function(){S(this,new d)};function D(E,M){var A=new v;S(E,A),process.nextTick(M,A)}function Z(E,M,A,j){var z;return A===null?z=new y:typeof A!="string"&&!M.objectMode&&(z=new u("chunk",["string","Buffer"],A)),z?(S(E,z),process.nextTick(j,z),!1):!0}k.prototype.write=function(E,M,A){var j=this._writableState,z=!1,_=!j.objectMode&&f(E);return _&&!i.isBuffer(E)&&(E=s(E)),typeof M=="function"&&(A=M,M=null),_?M="buffer":M||(M=j.defaultEncoding),typeof A!="function"&&(A=x),j.ending?D(this,A):(_||Z(this,j,E,A))&&(j.pendingcb++,z=ue(this,j,_,E,M,A)),z},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,!E.writing&&!E.corked&&!E.bufferProcessing&&E.bufferedRequest&&V(this,E))},k.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new w(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ge(E,M,A){return!E.objectMode&&E.decodeStrings!==!1&&typeof M=="string"&&(M=i.from(M,A)),M}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ue(E,M,A,j,z,_){if(!A){var b=ge(M,j,z);j!==b&&(A=!0,z="buffer",j=b)}var C=M.objectMode?1:j.length;M.length+=C;var q=M.length<M.highWaterMark;if(q||(M.needDrain=!0),M.writing||M.corked){var pe=M.lastBufferedRequest;M.lastBufferedRequest={chunk:j,encoding:z,isBuf:A,callback:_,next:null},pe?pe.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else ve(E,M,!1,C,j,z,_);return q}function ve(E,M,A,j,z,_,b){M.writelen=j,M.writecb=b,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new g("write")):A?E._writev(z,M.onwrite):E._write(z,_,M.onwrite),M.sync=!1}function Ae(E,M,A,j,z){--M.pendingcb,A?(process.nextTick(z,j),process.nextTick(X,E,M),E._writableState.errorEmitted=!0,S(E,j)):(z(j),E._writableState.errorEmitted=!0,S(E,j),X(E,M))}function le(E){E.writing=!1,E.writecb=null,E.length-=E.writelen,E.writelen=0}function T(E,M){var A=E._writableState,j=A.sync,z=A.writecb;if(typeof z!="function")throw new m;if(le(A),M)Ae(E,A,j,M,z);else{var _=G(A)||E.destroyed;!_&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&V(E,A),j?process.nextTick(L,E,A,_,z):L(E,A,_,z)}}function L(E,M,A,j){A||I(E,M),M.pendingcb--,j(),X(E,M)}function I(E,M){M.length===0&&M.needDrain&&(M.needDrain=!1,E.emit("drain"))}function V(E,M){M.bufferProcessing=!0;var A=M.bufferedRequest;if(E._writev&&A&&A.next){var j=M.bufferedRequestCount,z=new Array(j),_=M.corkedRequestsFree;_.entry=A;for(var b=0,C=!0;A;)z[b]=A,A.isBuf||(C=!1),A=A.next,b+=1;z.allBuffers=C,ve(E,M,!0,M.length,z,"",_.finish),M.pendingcb++,M.lastBufferedRequest=null,_.next?(M.corkedRequestsFree=_.next,_.next=null):M.corkedRequestsFree=new e(M),M.bufferedRequestCount=0}else{for(;A;){var q=A.chunk,pe=A.encoding,ee=A.callback,fe=M.objectMode?1:q.length;if(ve(E,M,!1,fe,q,pe,ee),A=A.next,M.bufferedRequestCount--,M.writing)break}A===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=A,M.bufferProcessing=!1}k.prototype._write=function(E,M,A){A(new c("_write()"))},k.prototype._writev=null,k.prototype.end=function(E,M,A){var j=this._writableState;return typeof E=="function"?(A=E,E=null,M=null):typeof M=="function"&&(A=M,M=null),E!=null&&this.write(E,M),j.corked&&(j.corked=1,this.uncork()),j.ending||he(this,j,A),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function G(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function W(E,M){E._final(function(A){M.pendingcb--,A&&S(E,A),M.prefinished=!0,E.emit("prefinish"),X(E,M)})}function B(E,M){!M.prefinished&&!M.finalCalled&&(typeof E._final=="function"&&!M.destroyed?(M.pendingcb++,M.finalCalled=!0,process.nextTick(W,E,M)):(M.prefinished=!0,E.emit("prefinish")))}function X(E,M){var A=G(M);if(A&&(B(E,M),M.pendingcb===0&&(M.finished=!0,E.emit("finish"),M.autoDestroy))){var j=E._readableState;(!j||j.autoDestroy&&j.endEmitted)&&E.destroy()}return A}function he(E,M,A){M.ending=!0,X(E,M),A&&(M.finished?process.nextTick(A):E.once("finish",A)),M.ended=!0,E.writable=!1}function se(E,M,A){var j=E.entry;for(E.entry=null;j;){var z=j.callback;M.pendingcb--,z(A),j=j.next}M.corkedRequestsFree.next=E}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),k.prototype.destroy=o.destroy,k.prototype._undestroy=o.undestroy,k.prototype._destroy=function(E,M){M(E)},ei}var Ks;function Gu(){if(Ks)return Yn.exports;Ks=1;const e=Fe,t=la(),{LEVEL:r}=_e(),n=Yn.exports=function(a={}){t.call(this,{objectMode:!0,highWaterMark:a.highWaterMark}),this.format=a.format,this.level=a.level,this.handleExceptions=a.handleExceptions,this.handleRejections=a.handleRejections,this.silent=a.silent,a.log&&(this.log=a.log),a.logv&&(this.logv=a.logv),a.close&&(this.close=a.close),this.once("pipe",s=>{this.levels=s.levels,this.parent=s}),this.once("unpipe",s=>{s===this.parent&&(this.parent=null,this.close&&this.close())})};return e.inherits(n,t),n.prototype._write=function(a,s,f){if(this.silent||a.exception===!0&&!this.handleExceptions)return f(null);const o=this.level||this.parent&&this.parent.level;if(!o||this.levels[o]>=this.levels[a[r]]){if(a&&!this.format)return this.log(a,f);let l,h;try{h=this.format.transform(Object.assign({},a),this.format.options)}catch(p){l=p}if(l||!h){if(f(),l)throw l;return}return this.log(h,f)}return this._writableState.sync=!1,f(null)},n.prototype._writev=function(a,s){if(this.logv){const f=a.filter(this._accept,this);return f.length?this.logv(f,s):s(null)}for(let f=0;f<a.length;f++){if(!this._accept(a[f]))continue;if(a[f].chunk&&!this.format){this.log(a[f].chunk,a[f].callback);continue}let o,l;try{l=this.format.transform(Object.assign({},a[f].chunk),this.format.options)}catch(h){o=h}if(o||!l){if(a[f].callback(),o)throw s(null),o}else this.log(l,a[f].callback)}return s(null)},n.prototype._accept=function(a){const s=a.chunk;if(this.silent)return!1;const f=this.level||this.parent&&this.parent.level;return!!((s.exception===!0||!f||this.levels[f]>=this.levels[s[r]])&&(this.handleExceptions||s.exception!==!0))},n.prototype._nop=function(){},Yn.exports}var ti={exports:{}},Qs;function Vu(){if(Qs)return ti.exports;Qs=1;const e=Fe,{LEVEL:t}=_e(),r=Gu(),n=ti.exports=function(a={}){if(r.call(this,a),!a.transport||typeof a.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=a.transport,this.level=this.level||a.transport.level,this.handleExceptions=this.handleExceptions||a.transport.handleExceptions,this._deprecated();function s(f){this.emit("error",f,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=s.bind(this),this.transport.on("error",this.transport.__winstonError))};return e.inherits(n,r),n.prototype._write=function(a,s,f){if(this.silent||a.exception===!0&&!this.handleExceptions)return f(null);(!this.level||this.levels[this.level]>=this.levels[a[t]])&&this.transport.log(a[t],a.message,a,this._nop),f(null)},n.prototype._writev=function(a,s){for(let f=0;f<a.length;f++)this._accept(a[f])&&(this.transport.log(a[f].chunk[t],a[f].chunk.message,a[f].chunk,this._nop),a[f].callback());return s(null)},n.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},n.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)},ti.exports}var Xs;function xt(){return Xs||(Xs=1,nr.exports=Gu(),nr.exports.LegacyTransportStream=Vu()),nr.exports}var ri,eo;function ic(){if(eo)return ri;eo=1;const e=lt,{LEVEL:t,MESSAGE:r}=_e(),n=xt();return ri=class extends n{constructor(a={}){super(a),this.name=a.name||"console",this.stderrLevels=this._stringArrayToSet(a.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(a.consoleWarnLevels),this.eol=typeof a.eol=="string"?a.eol:e.EOL,this.forceConsole=a.forceConsole||!1,this._consoleLog=console.log.bind(console),this._consoleWarn=console.warn.bind(console),this._consoleError=console.error.bind(console),this.setMaxListeners(30)}log(a,s){if(setImmediate(()=>this.emit("logged",a)),this.stderrLevels[a[t]]){console._stderr&&!this.forceConsole?console._stderr.write(`${a[r]}${this.eol}`):this._consoleError(a[r]),s&&s();return}else if(this.consoleWarnLevels[a[t]]){console._stderr&&!this.forceConsole?console._stderr.write(`${a[r]}${this.eol}`):this._consoleWarn(a[r]),s&&s();return}console._stdout&&!this.forceConsole?console._stdout.write(`${a[r]}${this.eol}`):this._consoleLog(a[r]),s&&s()}_stringArrayToSet(a,s){if(!a)return{};if(s=s||"Cannot make set from type other than Array of string elements",!Array.isArray(a))throw new Error(s);return a.reduce((f,o)=>{if(typeof o!="string")throw new Error(s);return f[o]=!0,f},{})}},ri}var or={exports:{}},ur={exports:{}},lr={exports:{}},to;function fa(){return to||(to=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return n&&typeof n.length=="number"&&n.length>=0&&n.length%1===0}e.exports=t.default}(lr,lr.exports)),lr.exports}var qe={},fr={exports:{}},cr={exports:{}},ro;function ac(){return ro||(ro=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return function(...n){var i=n.pop();return r.call(this,n,i)}},e.exports=t.default}(cr,cr.exports)),cr.exports}var We={},no;function sc(){if(no)return We;no=1,Object.defineProperty(We,"__esModule",{value:!0}),We.fallback=n,We.wrap=i;var e=We.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,t=We.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,r=We.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function n(s){setTimeout(s,0)}function i(s){return(f,...o)=>s(()=>f(...o))}var a;return e?a=queueMicrotask:t?a=setImmediate:r?a=process.nextTick:a=n,We.default=i(a),We}var io;function oc(){return io||(io=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=ac(),n=f(r),i=sc(),a=f(i),s=Mt();function f(p){return p&&p.__esModule?p:{default:p}}function o(p){return(0,s.isAsync)(p)?function(...u){const c=u.pop(),m=p.apply(this,u);return l(m,c)}:(0,n.default)(function(u,c){var m;try{m=p.apply(this,u)}catch(d){return c(d)}if(m&&typeof m.then=="function")return l(m,c);c(null,m)})}function l(p,u){return p.then(c=>{h(u,null,c)},c=>{h(u,c&&(c instanceof Error||c.message)?c:new Error(c))})}function h(p,u,c){try{p(u,c)}catch(m){(0,a.default)(d=>{throw d},m)}}e.exports=t.default}(fr,fr.exports)),fr.exports}var ao;function Mt(){if(ao)return qe;ao=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.isAsyncIterable=qe.isAsyncGenerator=qe.isAsync=void 0;var e=oc(),t=r(e);function r(f){return f&&f.__esModule?f:{default:f}}function n(f){return f[Symbol.toStringTag]==="AsyncFunction"}function i(f){return f[Symbol.toStringTag]==="AsyncGenerator"}function a(f){return typeof f[Symbol.asyncIterator]=="function"}function s(f){if(typeof f!="function")throw new Error("expected a function");return n(f)?(0,t.default)(f):f}return qe.default=s,qe.isAsync=n,qe.isAsyncGenerator=i,qe.isAsyncIterable=a,qe}var dr={exports:{}},so;function Ht(){return so||(so=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,i){if(i||(i=n.length),!i)throw new Error("arity is undefined");function a(...s){return typeof s[i-1]=="function"?n.apply(this,s):new Promise((f,o)=>{s[i-1]=(l,...h)=>{if(l)return o(l);f(h.length>1?h:h[0])},n.apply(this,s)})}return a}e.exports=t.default}(dr,dr.exports)),dr.exports}var oo;function uc(){return oo||(oo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=fa(),n=o(r),i=Mt(),a=o(i),s=Ht(),f=o(s);function o(l){return l&&l.__esModule?l:{default:l}}t.default=(0,f.default)((l,h,p)=>{var u=(0,n.default)(h)?[]:{};l(h,(c,m,d)=>{(0,a.default)(c)((g,...y)=>{y.length<2&&([y]=y),u[m]=y,d(g)})},c=>p(c,u))},3),e.exports=t.default}(ur,ur.exports)),ur.exports}var hr={exports:{}},mr={exports:{}},gr={exports:{}},pr={exports:{}},uo;function Bu(){return uo||(uo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){function i(...a){if(n!==null){var s=n;n=null,s.apply(this,a)}}return Object.assign(i,n),i}e.exports=t.default}(pr,pr.exports)),pr.exports}var yr={exports:{}},vr={exports:{}},lo;function lc(){return lo||(lo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()},e.exports=t.default}(vr,vr.exports)),vr.exports}var fo;function fc(){return fo||(fo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=fa(),n=s(r),i=lc(),a=s(i);function s(p){return p&&p.__esModule?p:{default:p}}function f(p){var u=-1,c=p.length;return function(){return++u<c?{value:p[u],key:u}:null}}function o(p){var u=-1;return function(){var m=p.next();return m.done?null:(u++,{value:m.value,key:u})}}function l(p){var u=p?Object.keys(p):[],c=-1,m=u.length;return function d(){var g=u[++c];return g==="__proto__"?d():c<m?{value:p[g],key:g}:null}}function h(p){if((0,n.default)(p))return f(p);var u=(0,a.default)(p);return u?o(u):l(p)}e.exports=t.default}(yr,yr.exports)),yr.exports}var wr={exports:{}},co;function Ju(){return co||(co=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(...i){if(n===null)throw new Error("Callback was already called.");var a=n;n=null,a.apply(this,i)}}e.exports=t.default}(wr,wr.exports)),wr.exports}var _r={exports:{}},br={exports:{}},ho;function ca(){return ho||(ho=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={};t.default=r,e.exports=t.default}(br,br.exports)),br.exports}var mo;function cc(){return mo||(mo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=ca(),n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,f,o,l){let h=!1,p=!1,u=!1,c=0,m=0;function d(){c>=f||u||h||(u=!0,s.next().then(({value:v,done:w})=>{if(!(p||h)){if(u=!1,w){h=!0,c<=0&&l(null);return}c++,o(v,m,g),m++,d()}}).catch(y))}function g(v,w){if(c-=1,!p){if(v)return y(v);if(v===!1){h=!0,p=!0;return}if(w===n.default||h&&c<=0)return h=!0,l(null);d()}}function y(v){p||(u=!1,h=!0,l(v))}d()}e.exports=t.default}(_r,_r.exports)),_r.exports}var go;function dc(){return go||(go=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Bu(),n=c(r),i=fc(),a=c(i),s=Ju(),f=c(s),o=Mt(),l=cc(),h=c(l),p=ca(),u=c(p);function c(m){return m&&m.__esModule?m:{default:m}}t.default=m=>(d,g,y)=>{if(y=(0,n.default)(y),m<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!d)return y(null);if((0,o.isAsyncGenerator)(d))return(0,h.default)(d,m,g,y);if((0,o.isAsyncIterable)(d))return(0,h.default)(d[Symbol.asyncIterator](),m,g,y);var v=(0,a.default)(d),w=!1,S=!1,x=0,R=!1;function O(D,Z){if(!S)if(x-=1,D)w=!0,y(D);else if(D===!1)w=!0,S=!0;else{if(Z===u.default||w&&x<=0)return w=!0,y(null);R||k()}}function k(){for(R=!0;x<m&&!w;){var D=v();if(D===null){w=!0,x<=0&&y(null);return}x+=1,g(D.value,D.key,(0,f.default)(O))}R=!1}k()},e.exports=t.default}(gr,gr.exports)),gr.exports}var po;function Zu(){return po||(po=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=dc(),n=o(r),i=Mt(),a=o(i),s=Ht(),f=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p,u,c){return(0,n.default)(p)(h,(0,a.default)(u),c)}t.default=(0,f.default)(l,4),e.exports=t.default}(mr,mr.exports)),mr.exports}var yo;function hc(){return yo||(yo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Zu(),n=s(r),i=Ht(),a=s(i);function s(o){return o&&o.__esModule?o:{default:o}}function f(o,l,h){return(0,n.default)(o,1,l,h)}t.default=(0,a.default)(f,3),e.exports=t.default}(hr,hr.exports)),hr.exports}var vo;function mc(){return vo||(vo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=uc(),n=s(r),i=hc(),a=s(i);function s(o){return o&&o.__esModule?o:{default:o}}function f(o,l){return(0,n.default)(a.default,o,l)}e.exports=t.default}(or,or.exports)),or.exports}var Sr={exports:{}},ni,wo;function Ku(){if(wo)return ni;wo=1,ni=f;var e=ft().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=St();Ut()(f,a);function s(h,p){var u=this._transformState;u.transforming=!1;var c=u.writecb;if(c===null)return this.emit("error",new r);u.writechunk=null,u.writecb=null,p!=null&&this.push(p),c(h);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function f(h){if(!(this instanceof f))return new f(h);a.call(this,h),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",o)}function o(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,u){l(h,p,u)}):l(this,null,null)}f.prototype.push=function(h,p){return this._transformState.needTransform=!1,a.prototype.push.call(this,h,p)},f.prototype._transform=function(h,p,u){u(new t("_transform()"))},f.prototype._write=function(h,p,u){var c=this._transformState;if(c.writecb=u,c.writechunk=h,c.writeencoding=p,!c.transforming){var m=this._readableState;(c.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},f.prototype._read=function(h){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},f.prototype._destroy=function(h,p){a.prototype._destroy.call(this,h,function(u){p(u)})};function l(h,p,u){if(p)return h.emit("error",p);if(u!=null&&h.push(u),h._writableState.length)throw new i;if(h._transformState.transforming)throw new n;return h.push(null)}return ni}var ii,_o;function gc(){if(_o)return ii;_o=1,ii=t;var e=Ku();Ut()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},ii}var ai,bo;function pc(){if(bo)return ai;bo=1;var e;function t(u){var c=!1;return function(){c||(c=!0,u.apply(void 0,arguments))}}var r=ft().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(u){if(u)throw u}function s(u){return u.setHeader&&typeof u.abort=="function"}function f(u,c,m,d){d=t(d);var g=!1;u.on("close",function(){g=!0}),e===void 0&&(e=ua()),e(u,{readable:c,writable:m},function(v){if(v)return d(v);g=!0,d()});var y=!1;return function(v){if(!g&&!y){if(y=!0,s(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();d(v||new i("pipe"))}}}function o(u){u()}function l(u,c){return u.pipe(c)}function h(u){return!u.length||typeof u[u.length-1]!="function"?a:u.pop()}function p(){for(var u=arguments.length,c=new Array(u),m=0;m<u;m++)c[m]=arguments[m];var d=h(c);if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new n("streams");var g,y=c.map(function(v,w){var S=w<c.length-1,x=w>0;return f(v,S,x,function(R){g||(g=R),R&&y.forEach(o),!S&&(y.forEach(o),d(g))})});return c.reduce(l)}return ai=p,ai}var So;function Et(){return So||(So=1,function(e,t){var r=ia;process.env.READABLE_STREAM==="disable"&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):(t=e.exports=zu(),t.Stream=r||t,t.Readable=t,t.Writable=la(),t.Duplex=St(),t.Transform=Ku(),t.PassThrough=gc(),t.finished=ua(),t.pipeline=pc())}(Sr,Sr.exports)),Sr.exports}var xr={exports:{}},si,xo;function Qu(){if(xo)return si;xo=1;var e=[],t=[],r=function(){};function n(u){return~e.indexOf(u)?!1:(e.push(u),!0)}function i(u){r=u}function a(u){for(var c=[],m=0;m<e.length;m++){if(e[m].async){c.push(e[m]);continue}if(e[m](u))return!0}return c.length?new Promise(function(g){Promise.all(c.map(function(v){return v(u)})).then(function(v){g(v.some(Boolean))})}):!1}function s(u){return~t.indexOf(u)?!1:(t.push(u),!0)}function f(){r.apply(r,arguments)}function o(u){for(var c=0;c<t.length;c++)u=t[c].apply(t[c],arguments);return u}function l(u,c){var m=Object.prototype.hasOwnProperty;for(var d in c)m.call(c,d)&&(u[d]=c[d]);return u}function h(u){return u.enabled=!1,u.modify=s,u.set=i,u.use=n,l(function(){return!1},u)}function p(u){function c(){var m=Array.prototype.slice.call(arguments,0);return f.call(f,u,o(m,u)),!0}return u.enabled=!0,u.modify=s,u.set=i,u.use=n,l(c,u)}return si=function(c){return c.introduce=l,c.enabled=a,c.process=o,c.modify=s,c.write=f,c.nope=h,c.yep=p,c.set=i,c.use=n,c},si}var oi,Mo;function yc(){if(Mo)return oi;Mo=1;var e=Qu(),t=e(function r(n,i){return i=i||{},i.namespace=n,i.prod=!0,i.dev=!1,i.force||r.force?r.yep(i):r.nope(i)});return oi=t,oi}var ui={exports:{}},li,Eo;function vc(){return Eo||(Eo=1,li={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),li}var fi={exports:{}},ci,Ro;function wc(){return Ro||(Ro=1,ci=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}),ci}var Oo;function _c(){if(Oo)return fi.exports;Oo=1;var e=wc(),t=Array.prototype.concat,r=Array.prototype.slice,n=fi.exports=function(a){for(var s=[],f=0,o=a.length;f<o;f++){var l=a[f];e(l)?s=t.call(s,r.call(l)):s.push(l)}return s};return n.wrap=function(i){return function(){return i(n(arguments))}},fi.exports}var Do;function bc(){if(Do)return ui.exports;Do=1;var e=vc(),t=_c(),r=Object.hasOwnProperty,n=Object.create(null);for(var i in e)r.call(e,i)&&(n[e[i]]=i);var a=ui.exports={to:{},get:{}};a.get=function(o){var l=o.substring(0,3).toLowerCase(),h,p;switch(l){case"hsl":h=a.get.hsl(o),p="hsl";break;case"hwb":h=a.get.hwb(o),p="hwb";break;default:h=a.get.rgb(o),p="rgb";break}return h?{model:p,value:h}:null},a.get.rgb=function(o){if(!o)return null;var l=/^#([a-f0-9]{3,4})$/i,h=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,p=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,u=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,c=/^(\w+)$/,m=[0,0,0,1],d,g,y;if(d=o.match(h)){for(y=d[2],d=d[1],g=0;g<3;g++){var v=g*2;m[g]=parseInt(d.slice(v,v+2),16)}y&&(m[3]=parseInt(y,16)/255)}else if(d=o.match(l)){for(d=d[1],y=d[3],g=0;g<3;g++)m[g]=parseInt(d[g]+d[g],16);y&&(m[3]=parseInt(y+y,16)/255)}else if(d=o.match(p)){for(g=0;g<3;g++)m[g]=parseInt(d[g+1],0);d[4]&&(d[5]?m[3]=parseFloat(d[4])*.01:m[3]=parseFloat(d[4]))}else if(d=o.match(u)){for(g=0;g<3;g++)m[g]=Math.round(parseFloat(d[g+1])*2.55);d[4]&&(d[5]?m[3]=parseFloat(d[4])*.01:m[3]=parseFloat(d[4]))}else return(d=o.match(c))?d[1]==="transparent"?[0,0,0,0]:r.call(e,d[1])?(m=e[d[1]],m[3]=1,m):null:null;for(g=0;g<3;g++)m[g]=s(m[g],0,255);return m[3]=s(m[3],0,1),m},a.get.hsl=function(o){if(!o)return null;var l=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,h=o.match(l);if(h){var p=parseFloat(h[4]),u=(parseFloat(h[1])%360+360)%360,c=s(parseFloat(h[2]),0,100),m=s(parseFloat(h[3]),0,100),d=s(isNaN(p)?1:p,0,1);return[u,c,m,d]}return null},a.get.hwb=function(o){if(!o)return null;var l=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,h=o.match(l);if(h){var p=parseFloat(h[4]),u=(parseFloat(h[1])%360+360)%360,c=s(parseFloat(h[2]),0,100),m=s(parseFloat(h[3]),0,100),d=s(isNaN(p)?1:p,0,1);return[u,c,m,d]}return null},a.to.hex=function(){var o=t(arguments);return"#"+f(o[0])+f(o[1])+f(o[2])+(o[3]<1?f(Math.round(o[3]*255)):"")},a.to.rgb=function(){var o=t(arguments);return o.length<4||o[3]===1?"rgb("+Math.round(o[0])+", "+Math.round(o[1])+", "+Math.round(o[2])+")":"rgba("+Math.round(o[0])+", "+Math.round(o[1])+", "+Math.round(o[2])+", "+o[3]+")"},a.to.rgb.percent=function(){var o=t(arguments),l=Math.round(o[0]/255*100),h=Math.round(o[1]/255*100),p=Math.round(o[2]/255*100);return o.length<4||o[3]===1?"rgb("+l+"%, "+h+"%, "+p+"%)":"rgba("+l+"%, "+h+"%, "+p+"%, "+o[3]+")"},a.to.hsl=function(){var o=t(arguments);return o.length<4||o[3]===1?"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)":"hsla("+o[0]+", "+o[1]+"%, "+o[2]+"%, "+o[3]+")"},a.to.hwb=function(){var o=t(arguments),l="";return o.length>=4&&o[3]!==1&&(l=", "+o[3]),"hwb("+o[0]+", "+o[1]+"%, "+o[2]+"%"+l+")"},a.to.keyword=function(o){return n[o.slice(0,3)]};function s(o,l,h){return Math.min(Math.max(l,o),h)}function f(o){var l=Math.round(o).toString(16).toUpperCase();return l.length<2?"0"+l:l}return ui.exports}var di={exports:{}},hi,To;function Sc(){return To||(To=1,hi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),hi}var ko;function Xu(){if(ko)return di.exports;ko=1;var e=Sc(),t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);var n=di.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var i in n)if(n.hasOwnProperty(i)){if(!("channels"in n[i]))throw new Error("missing channels property: "+i);if(!("labels"in n[i]))throw new Error("missing channel labels property: "+i);if(n[i].labels.length!==n[i].channels)throw new Error("channel and label counts mismatch: "+i);var a=n[i].channels,s=n[i].labels;delete n[i].channels,delete n[i].labels,Object.defineProperty(n[i],"channels",{value:a}),Object.defineProperty(n[i],"labels",{value:s})}n.rgb.hsl=function(o){var l=o[0]/255,h=o[1]/255,p=o[2]/255,u=Math.min(l,h,p),c=Math.max(l,h,p),m=c-u,d,g,y;return c===u?d=0:l===c?d=(h-p)/m:h===c?d=2+(p-l)/m:p===c&&(d=4+(l-h)/m),d=Math.min(d*60,360),d<0&&(d+=360),y=(u+c)/2,c===u?g=0:y<=.5?g=m/(c+u):g=m/(2-c-u),[d,g*100,y*100]},n.rgb.hsv=function(o){var l,h,p,u,c,m=o[0]/255,d=o[1]/255,g=o[2]/255,y=Math.max(m,d,g),v=y-Math.min(m,d,g),w=function(S){return(y-S)/6/v+1/2};return v===0?u=c=0:(c=v/y,l=w(m),h=w(d),p=w(g),m===y?u=p-h:d===y?u=1/3+l-p:g===y&&(u=2/3+h-l),u<0?u+=1:u>1&&(u-=1)),[u*360,c*100,y*100]},n.rgb.hwb=function(o){var l=o[0],h=o[1],p=o[2],u=n.rgb.hsl(o)[0],c=1/255*Math.min(l,Math.min(h,p));return p=1-1/255*Math.max(l,Math.max(h,p)),[u,c*100,p*100]},n.rgb.cmyk=function(o){var l=o[0]/255,h=o[1]/255,p=o[2]/255,u,c,m,d;return d=Math.min(1-l,1-h,1-p),u=(1-l-d)/(1-d)||0,c=(1-h-d)/(1-d)||0,m=(1-p-d)/(1-d)||0,[u*100,c*100,m*100,d*100]};function f(o,l){return Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)+Math.pow(o[2]-l[2],2)}return n.rgb.keyword=function(o){var l=t[o];if(l)return l;var h=1/0,p;for(var u in e)if(e.hasOwnProperty(u)){var c=e[u],m=f(o,c);m<h&&(h=m,p=u)}return p},n.keyword.rgb=function(o){return e[o]},n.rgb.xyz=function(o){var l=o[0]/255,h=o[1]/255,p=o[2]/255;l=l>.04045?Math.pow((l+.055)/1.055,2.4):l/12.92,h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92,p=p>.04045?Math.pow((p+.055)/1.055,2.4):p/12.92;var u=l*.4124+h*.3576+p*.1805,c=l*.2126+h*.7152+p*.0722,m=l*.0193+h*.1192+p*.9505;return[u*100,c*100,m*100]},n.rgb.lab=function(o){var l=n.rgb.xyz(o),h=l[0],p=l[1],u=l[2],c,m,d;return h/=95.047,p/=100,u/=108.883,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,p=p>.008856?Math.pow(p,1/3):7.787*p+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,c=116*p-16,m=500*(h-p),d=200*(p-u),[c,m,d]},n.hsl.rgb=function(o){var l=o[0]/360,h=o[1]/100,p=o[2]/100,u,c,m,d,g;if(h===0)return g=p*255,[g,g,g];p<.5?c=p*(1+h):c=p+h-p*h,u=2*p-c,d=[0,0,0];for(var y=0;y<3;y++)m=l+1/3*-(y-1),m<0&&m++,m>1&&m--,6*m<1?g=u+(c-u)*6*m:2*m<1?g=c:3*m<2?g=u+(c-u)*(2/3-m)*6:g=u,d[y]=g*255;return d},n.hsl.hsv=function(o){var l=o[0],h=o[1]/100,p=o[2]/100,u=h,c=Math.max(p,.01),m,d;return p*=2,h*=p<=1?p:2-p,u*=c<=1?c:2-c,d=(p+h)/2,m=p===0?2*u/(c+u):2*h/(p+h),[l,m*100,d*100]},n.hsv.rgb=function(o){var l=o[0]/60,h=o[1]/100,p=o[2]/100,u=Math.floor(l)%6,c=l-Math.floor(l),m=255*p*(1-h),d=255*p*(1-h*c),g=255*p*(1-h*(1-c));switch(p*=255,u){case 0:return[p,g,m];case 1:return[d,p,m];case 2:return[m,p,g];case 3:return[m,d,p];case 4:return[g,m,p];case 5:return[p,m,d]}},n.hsv.hsl=function(o){var l=o[0],h=o[1]/100,p=o[2]/100,u=Math.max(p,.01),c,m,d;return d=(2-h)*p,c=(2-h)*u,m=h*u,m/=c<=1?c:2-c,m=m||0,d/=2,[l,m*100,d*100]},n.hwb.rgb=function(o){var l=o[0]/360,h=o[1]/100,p=o[2]/100,u=h+p,c,m,d,g;u>1&&(h/=u,p/=u),c=Math.floor(6*l),m=1-p,d=6*l-c,(c&1)!==0&&(d=1-d),g=h+d*(m-h);var y,v,w;switch(c){default:case 6:case 0:y=m,v=g,w=h;break;case 1:y=g,v=m,w=h;break;case 2:y=h,v=m,w=g;break;case 3:y=h,v=g,w=m;break;case 4:y=g,v=h,w=m;break;case 5:y=m,v=h,w=g;break}return[y*255,v*255,w*255]},n.cmyk.rgb=function(o){var l=o[0]/100,h=o[1]/100,p=o[2]/100,u=o[3]/100,c,m,d;return c=1-Math.min(1,l*(1-u)+u),m=1-Math.min(1,h*(1-u)+u),d=1-Math.min(1,p*(1-u)+u),[c*255,m*255,d*255]},n.xyz.rgb=function(o){var l=o[0]/100,h=o[1]/100,p=o[2]/100,u,c,m;return u=l*3.2406+h*-1.5372+p*-.4986,c=l*-.9689+h*1.8758+p*.0415,m=l*.0557+h*-.204+p*1.057,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c*12.92,m=m>.0031308?1.055*Math.pow(m,1/2.4)-.055:m*12.92,u=Math.min(Math.max(0,u),1),c=Math.min(Math.max(0,c),1),m=Math.min(Math.max(0,m),1),[u*255,c*255,m*255]},n.xyz.lab=function(o){var l=o[0],h=o[1],p=o[2],u,c,m;return l/=95.047,h/=100,p/=108.883,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,p=p>.008856?Math.pow(p,1/3):7.787*p+16/116,u=116*h-16,c=500*(l-h),m=200*(h-p),[u,c,m]},n.lab.xyz=function(o){var l=o[0],h=o[1],p=o[2],u,c,m;c=(l+16)/116,u=h/500+c,m=c-p/200;var d=Math.pow(c,3),g=Math.pow(u,3),y=Math.pow(m,3);return c=d>.008856?d:(c-16/116)/7.787,u=g>.008856?g:(u-16/116)/7.787,m=y>.008856?y:(m-16/116)/7.787,u*=95.047,c*=100,m*=108.883,[u,c,m]},n.lab.lch=function(o){var l=o[0],h=o[1],p=o[2],u,c,m;return u=Math.atan2(p,h),c=u*360/2/Math.PI,c<0&&(c+=360),m=Math.sqrt(h*h+p*p),[l,m,c]},n.lch.lab=function(o){var l=o[0],h=o[1],p=o[2],u,c,m;return m=p/360*2*Math.PI,u=h*Math.cos(m),c=h*Math.sin(m),[l,u,c]},n.rgb.ansi16=function(o){var l=o[0],h=o[1],p=o[2],u=1 in arguments?arguments[1]:n.rgb.hsv(o)[2];if(u=Math.round(u/50),u===0)return 30;var c=30+(Math.round(p/255)<<2|Math.round(h/255)<<1|Math.round(l/255));return u===2&&(c+=60),c},n.hsv.ansi16=function(o){return n.rgb.ansi16(n.hsv.rgb(o),o[2])},n.rgb.ansi256=function(o){var l=o[0],h=o[1],p=o[2];if(l===h&&h===p)return l<8?16:l>248?231:Math.round((l-8)/247*24)+232;var u=16+36*Math.round(l/255*5)+6*Math.round(h/255*5)+Math.round(p/255*5);return u},n.ansi16.rgb=function(o){var l=o%10;if(l===0||l===7)return o>50&&(l+=3.5),l=l/10.5*255,[l,l,l];var h=(~~(o>50)+1)*.5,p=(l&1)*h*255,u=(l>>1&1)*h*255,c=(l>>2&1)*h*255;return[p,u,c]},n.ansi256.rgb=function(o){if(o>=232){var l=(o-232)*10+8;return[l,l,l]}o-=16;var h,p=Math.floor(o/36)/5*255,u=Math.floor((h=o%36)/6)/5*255,c=h%6/5*255;return[p,u,c]},n.rgb.hex=function(o){var l=((Math.round(o[0])&255)<<16)+((Math.round(o[1])&255)<<8)+(Math.round(o[2])&255),h=l.toString(16).toUpperCase();return"000000".substring(h.length)+h},n.hex.rgb=function(o){var l=o.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!l)return[0,0,0];var h=l[0];l[0].length===3&&(h=h.split("").map(function(d){return d+d}).join(""));var p=parseInt(h,16),u=p>>16&255,c=p>>8&255,m=p&255;return[u,c,m]},n.rgb.hcg=function(o){var l=o[0]/255,h=o[1]/255,p=o[2]/255,u=Math.max(Math.max(l,h),p),c=Math.min(Math.min(l,h),p),m=u-c,d,g;return m<1?d=c/(1-m):d=0,m<=0?g=0:u===l?g=(h-p)/m%6:u===h?g=2+(p-l)/m:g=4+(l-h)/m+4,g/=6,g%=1,[g*360,m*100,d*100]},n.hsl.hcg=function(o){var l=o[1]/100,h=o[2]/100,p=1,u=0;return h<.5?p=2*l*h:p=2*l*(1-h),p<1&&(u=(h-.5*p)/(1-p)),[o[0],p*100,u*100]},n.hsv.hcg=function(o){var l=o[1]/100,h=o[2]/100,p=l*h,u=0;return p<1&&(u=(h-p)/(1-p)),[o[0],p*100,u*100]},n.hcg.rgb=function(o){var l=o[0]/360,h=o[1]/100,p=o[2]/100;if(h===0)return[p*255,p*255,p*255];var u=[0,0,0],c=l%1*6,m=c%1,d=1-m,g=0;switch(Math.floor(c)){case 0:u[0]=1,u[1]=m,u[2]=0;break;case 1:u[0]=d,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=m;break;case 3:u[0]=0,u[1]=d,u[2]=1;break;case 4:u[0]=m,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=d}return g=(1-h)*p,[(h*u[0]+g)*255,(h*u[1]+g)*255,(h*u[2]+g)*255]},n.hcg.hsv=function(o){var l=o[1]/100,h=o[2]/100,p=l+h*(1-l),u=0;return p>0&&(u=l/p),[o[0],u*100,p*100]},n.hcg.hsl=function(o){var l=o[1]/100,h=o[2]/100,p=h*(1-l)+.5*l,u=0;return p>0&&p<.5?u=l/(2*p):p>=.5&&p<1&&(u=l/(2*(1-p))),[o[0],u*100,p*100]},n.hcg.hwb=function(o){var l=o[1]/100,h=o[2]/100,p=l+h*(1-l);return[o[0],(p-l)*100,(1-p)*100]},n.hwb.hcg=function(o){var l=o[1]/100,h=o[2]/100,p=1-h,u=p-l,c=0;return u<1&&(c=(p-u)/(1-u)),[o[0],u*100,c*100]},n.apple.rgb=function(o){return[o[0]/65535*255,o[1]/65535*255,o[2]/65535*255]},n.rgb.apple=function(o){return[o[0]/255*65535,o[1]/255*65535,o[2]/255*65535]},n.gray.rgb=function(o){return[o[0]/100*255,o[0]/100*255,o[0]/100*255]},n.gray.hsl=n.gray.hsv=function(o){return[0,0,o[0]]},n.gray.hwb=function(o){return[0,100,o[0]]},n.gray.cmyk=function(o){return[0,0,0,o[0]]},n.gray.lab=function(o){return[o[0],0,0]},n.gray.hex=function(o){var l=Math.round(o[0]/100*255)&255,h=(l<<16)+(l<<8)+l,p=h.toString(16).toUpperCase();return"000000".substring(p.length)+p},n.rgb.gray=function(o){var l=(o[0]+o[1]+o[2])/3;return[l/255*100]},di.exports}var mi,Ao;function xc(){if(Ao)return mi;Ao=1;var e=Xu();function t(){for(var a={},s=Object.keys(e),f=s.length,o=0;o<f;o++)a[s[o]]={distance:-1,parent:null};return a}function r(a){var s=t(),f=[a];for(s[a].distance=0;f.length;)for(var o=f.pop(),l=Object.keys(e[o]),h=l.length,p=0;p<h;p++){var u=l[p],c=s[u];c.distance===-1&&(c.distance=s[o].distance+1,c.parent=o,f.unshift(u))}return s}function n(a,s){return function(f){return s(a(f))}}function i(a,s){for(var f=[s[a].parent,a],o=e[s[a].parent][a],l=s[a].parent;s[l].parent;)f.unshift(s[l].parent),o=n(e[s[l].parent][l],o),l=s[l].parent;return o.conversion=f,o}return mi=function(a){for(var s=r(a),f={},o=Object.keys(s),l=o.length,h=0;h<l;h++){var p=o[h],u=s[p];u.parent!==null&&(f[p]=i(p,s))}return f},mi}var gi,Co;function Mc(){if(Co)return gi;Co=1;var e=Xu(),t=xc(),r={},n=Object.keys(e);function i(s){var f=function(o){return o==null?o:(arguments.length>1&&(o=Array.prototype.slice.call(arguments)),s(o))};return"conversion"in s&&(f.conversion=s.conversion),f}function a(s){var f=function(o){if(o==null)return o;arguments.length>1&&(o=Array.prototype.slice.call(arguments));var l=s(o);if(typeof l=="object")for(var h=l.length,p=0;p<h;p++)l[p]=Math.round(l[p]);return l};return"conversion"in s&&(f.conversion=s.conversion),f}return n.forEach(function(s){r[s]={},Object.defineProperty(r[s],"channels",{value:e[s].channels}),Object.defineProperty(r[s],"labels",{value:e[s].labels});var f=t(s),o=Object.keys(f);o.forEach(function(l){var h=f[l];r[s][l]=a(h),r[s][l].raw=i(h)})}),gi=r,gi}var pi,Po;function Ec(){if(Po)return pi;Po=1;var e=bc(),t=Mc(),r=[].slice,n=["keyword","gray","hex"],i={};Object.keys(t).forEach(function(c){i[r.call(t[c].labels).sort().join("")]=c});var a={};function s(c,m){if(!(this instanceof s))return new s(c,m);if(m&&m in n&&(m=null),m&&!(m in t))throw new Error("Unknown model: "+m);var d,g;if(c==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(c instanceof s)this.model=c.model,this.color=c.color.slice(),this.valpha=c.valpha;else if(typeof c=="string"){var y=e.get(c);if(y===null)throw new Error("Unable to parse color from string: "+c);this.model=y.model,g=t[this.model].channels,this.color=y.value.slice(0,g),this.valpha=typeof y.value[g]=="number"?y.value[g]:1}else if(c.length){this.model=m||"rgb",g=t[this.model].channels;var v=r.call(c,0,g);this.color=u(v,g),this.valpha=typeof c[g]=="number"?c[g]:1}else if(typeof c=="number")c&=16777215,this.model="rgb",this.color=[c>>16&255,c>>8&255,c&255],this.valpha=1;else{this.valpha=1;var w=Object.keys(c);"alpha"in c&&(w.splice(w.indexOf("alpha"),1),this.valpha=typeof c.alpha=="number"?c.alpha:0);var S=w.sort().join("");if(!(S in i))throw new Error("Unable to parse color from object: "+JSON.stringify(c));this.model=i[S];var x=t[this.model].labels,R=[];for(d=0;d<x.length;d++)R.push(c[x[d]]);this.color=u(R)}if(a[this.model])for(g=t[this.model].channels,d=0;d<g;d++){var O=a[this.model][d];O&&(this.color[d]=O(this.color[d]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}s.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(c){var m=this.model in e.to?this:this.rgb();m=m.round(typeof c=="number"?c:1);var d=m.valpha===1?m.color:m.color.concat(this.valpha);return e.to[m.model](d)},percentString:function(c){var m=this.rgb().round(typeof c=="number"?c:1),d=m.valpha===1?m.color:m.color.concat(this.valpha);return e.to.rgb.percent(d)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var c={},m=t[this.model].channels,d=t[this.model].labels,g=0;g<m;g++)c[d[g]]=this.color[g];return this.valpha!==1&&(c.alpha=this.valpha),c},unitArray:function(){var c=this.rgb().color;return c[0]/=255,c[1]/=255,c[2]/=255,this.valpha!==1&&c.push(this.valpha),c},unitObject:function(){var c=this.rgb().object();return c.r/=255,c.g/=255,c.b/=255,this.valpha!==1&&(c.alpha=this.valpha),c},round:function(c){return c=Math.max(c||0,0),new s(this.color.map(o(c)).concat(this.valpha),this.model)},alpha:function(c){return arguments.length?new s(this.color.concat(Math.max(0,Math.min(1,c))),this.model):this.valpha},red:l("rgb",0,h(255)),green:l("rgb",1,h(255)),blue:l("rgb",2,h(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,function(c){return(c%360+360)%360}),saturationl:l("hsl",1,h(100)),lightness:l("hsl",2,h(100)),saturationv:l("hsv",1,h(100)),value:l("hsv",2,h(100)),chroma:l("hcg",1,h(100)),gray:l("hcg",2,h(100)),white:l("hwb",1,h(100)),wblack:l("hwb",2,h(100)),cyan:l("cmyk",0,h(100)),magenta:l("cmyk",1,h(100)),yellow:l("cmyk",2,h(100)),black:l("cmyk",3,h(100)),x:l("xyz",0,h(100)),y:l("xyz",1,h(100)),z:l("xyz",2,h(100)),l:l("lab",0,h(100)),a:l("lab",1),b:l("lab",2),keyword:function(c){return arguments.length?new s(c):t[this.model].keyword(this.color)},hex:function(c){return arguments.length?new s(c):e.to.hex(this.rgb().round().color)},rgbNumber:function(){var c=this.rgb().color;return(c[0]&255)<<16|(c[1]&255)<<8|c[2]&255},luminosity:function(){for(var c=this.rgb().color,m=[],d=0;d<c.length;d++){var g=c[d]/255;m[d]=g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)}return .2126*m[0]+.7152*m[1]+.0722*m[2]},contrast:function(c){var m=this.luminosity(),d=c.luminosity();return m>d?(m+.05)/(d+.05):(d+.05)/(m+.05)},level:function(c){var m=this.contrast(c);return m>=7.1?"AAA":m>=4.5?"AA":""},isDark:function(){var c=this.rgb().color,m=(c[0]*299+c[1]*587+c[2]*114)/1e3;return m<128},isLight:function(){return!this.isDark()},negate:function(){for(var c=this.rgb(),m=0;m<3;m++)c.color[m]=255-c.color[m];return c},lighten:function(c){var m=this.hsl();return m.color[2]+=m.color[2]*c,m},darken:function(c){var m=this.hsl();return m.color[2]-=m.color[2]*c,m},saturate:function(c){var m=this.hsl();return m.color[1]+=m.color[1]*c,m},desaturate:function(c){var m=this.hsl();return m.color[1]-=m.color[1]*c,m},whiten:function(c){var m=this.hwb();return m.color[1]+=m.color[1]*c,m},blacken:function(c){var m=this.hwb();return m.color[2]+=m.color[2]*c,m},grayscale:function(){var c=this.rgb().color,m=c[0]*.3+c[1]*.59+c[2]*.11;return s.rgb(m,m,m)},fade:function(c){return this.alpha(this.valpha-this.valpha*c)},opaquer:function(c){return this.alpha(this.valpha+this.valpha*c)},rotate:function(c){var m=this.hsl(),d=m.color[0];return d=(d+c)%360,d=d<0?360+d:d,m.color[0]=d,m},mix:function(c,m){if(!c||!c.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof c);var d=c.rgb(),g=this.rgb(),y=m===void 0?.5:m,v=2*y-1,w=d.alpha()-g.alpha(),S=((v*w===-1?v:(v+w)/(1+v*w))+1)/2,x=1-S;return s.rgb(S*d.red()+x*g.red(),S*d.green()+x*g.green(),S*d.blue()+x*g.blue(),d.alpha()*y+g.alpha()*(1-y))}},Object.keys(t).forEach(function(c){if(n.indexOf(c)===-1){var m=t[c].channels;s.prototype[c]=function(){if(this.model===c)return new s(this);if(arguments.length)return new s(arguments,c);var d=typeof arguments[m]=="number"?m:this.valpha;return new s(p(t[this.model][c].raw(this.color)).concat(d),c)},s[c]=function(d){return typeof d=="number"&&(d=u(r.call(arguments),m)),new s(d,c)}}});function f(c,m){return Number(c.toFixed(m))}function o(c){return function(m){return f(m,c)}}function l(c,m,d){return c=Array.isArray(c)?c:[c],c.forEach(function(g){(a[g]||(a[g]=[]))[m]=d}),c=c[0],function(g){var y;return arguments.length?(d&&(g=d(g)),y=this[c](),y.color[m]=g,y):(y=this[c]().color[m],d&&(y=d(y)),y)}}function h(c){return function(m){return Math.max(0,Math.min(c,m))}}function p(c){return Array.isArray(c)?c:[c]}function u(c,m){for(var d=0;d<m;d++)typeof c[d]!="number"&&(c[d]=0);return c}return pi=s,pi}var yi,Lo;function Rc(){return Lo||(Lo=1,yi=function(t){for(var r=0,n=0;r<t.length;n=t.charCodeAt(r++)+((n<<5)-n));var i=Math.floor(Math.abs(Math.sin(n)*1e4%1*16777216)).toString(16);return"#"+Array(6-i.length+1).join("0")+i}),yi}var vi,Fo;function Oc(){if(Fo)return vi;Fo=1;var e=Ec(),t=Rc();return vi=function(n,i){var a=n.split(i||":"),s=t(a[0]);if(!a.length)return s;for(var f=0,o=a.length-1;f<o;f++)s=e(s).mix(e(t(a[f+1]))).saturate(1).hex();return s},vi}var wi,No;function Dc(){if(No)return wi;No=1;function e(t,r){if(r)return new e(t).style(r);if(!(this instanceof e))return new e(t);this.text=t}return e.prototype.prefix="\x1B[",e.prototype.suffix="m",e.prototype.hex=function(r){r=r[0]==="#"?r.substring(1):r,r.length===3&&(r=r.split(""),r[5]=r[2],r[4]=r[2],r[3]=r[1],r[2]=r[1],r[1]=r[0],r=r.join(""));var n=r.substring(0,2),i=r.substring(2,4),a=r.substring(4,6);return[parseInt(n,16),parseInt(i,16),parseInt(a,16)]},e.prototype.rgb=function(r,n,i){var a=r/255*5,s=n/255*5,f=i/255*5;return this.ansi(a,s,f)},e.prototype.ansi=function(r,n,i){var a=Math.round(r),s=Math.round(n),f=Math.round(i);return 16+a*36+s*6+f},e.prototype.reset=function(){return this.prefix+"39;49"+this.suffix},e.prototype.style=function(r){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(r))+this.suffix+this.text+this.reset()},wi=e,wi}var _i,qo;function Tc(){if(qo)return _i;qo=1;var e=Oc(),t=Dc();return _i=function(n,i){var a=i.namespace,s=i.colors!==!1?t(a+":",e(a)):a+":";return n[0]=s+" "+n[0],n},_i}var bi,$o;function kc(){return $o||($o=1,bi=function(t,r){if(!r)return!1;for(var n=r.split(/[\s,]+/),i=0;i<n.length;i++){if(r=n[i].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(t))return!1;continue}if(new RegExp("^"+r+"$").test(t))return!0}return!1}),bi}var Si,Io;function Ac(){if(Io)return Si;Io=1;var e=kc();return Si=function(r){return function(i){try{return e(i,r())}catch{}return!1}},Si}var xi,jo;function Cc(){if(jo)return xi;jo=1;var e=Ac();return xi=e(function(){return process.env.DEBUG||process.env.DIAGNOSTICS}),xi}var Mi,Yo;function Pc(){return Yo||(Yo=1,Mi=function(e,t){try{Function.prototype.apply.call(console.log,console,t)}catch{}}),Mi}var Ei,Wo;function Lc(){if(Wo)return Ei;Wo=1;var e=Qu(),t=of.isatty(1),r=e(function n(i,a){return a=a||{},a.colors="colors"in a?a.colors:t,a.namespace=i,a.prod=!1,a.dev=!0,!n.enabled(i)&&!(a.force||n.force)?n.nope(a):n.yep(a)});return r.modify(Tc()),r.use(Cc()),r.set(Pc()),Ei=r,Ei}var Uo;function Gr(){return Uo||(Uo=1,process.env.NODE_ENV==="production"?xr.exports=yc():xr.exports=Lc()),xr.exports}var Ri,Ho;function Fc(){if(Ho)return Ri;Ho=1;const e=Wt,{StringDecoder:t}=uf,{Stream:r}=Et();function n(){}return Ri=(i,a)=>{const s=Buffer.alloc(65536),f=new t("utf8"),o=new r;let l="",h=0,p=0;return i.start===-1&&delete i.start,o.readable=!0,o.destroy=()=>{o.destroyed=!0,o.emit("end"),o.emit("close")},e.open(i.file,"a+","0644",(u,c)=>{if(u){a?a(u):o.emit("error",u),o.destroy();return}(function m(){if(o.destroyed){e.close(c,n);return}return e.read(c,s,0,s.length,h,(d,g)=>{if(d){a?a(d):o.emit("error",d),o.destroy();return}if(!g)return l&&((i.start==null||p>i.start)&&(a?a(null,l):o.emit("line",l)),p++,l=""),setTimeout(m,1e3);let y=f.write(s.slice(0,g));a||o.emit("data",y),y=(l+y).split(/\n+/);const v=y.length-1;let w=0;for(;w<v;w++)(i.start==null||p>i.start)&&(a?a(null,y[w]):o.emit("line",y[w])),p++;return l=y[v],h+=g,m()})})()}),a?o.destroy:o},Ri}var Oi,zo;function Nc(){if(zo)return Oi;zo=1;const e=Wt,t=it,r=mc(),n=Mu,{MESSAGE:i}=_e(),{Stream:a,PassThrough:s}=Et(),f=xt(),o=Gr()("winston:file"),l=lt,h=Fc();return Oi=class extends f{constructor(u={}){super(u),this.name=u.name||"file";function c(m,...d){d.slice(1).forEach(g=>{if(u[g])throw new Error(`Cannot set ${g} and ${m} together`)})}if(this._stream=new s,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),u.filename||u.dirname)c("filename or dirname","stream"),this._basename=this.filename=u.filename?t.basename(u.filename):"winston.log",this.dirname=u.dirname||t.dirname(u.filename),this.options=u.options||{flags:"a"};else if(u.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),c("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(u.stream)),this.dirname=t.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=u.maxsize||null,this.rotationFormat=u.rotationFormat||!1,this.zippedArchive=u.zippedArchive||!1,this.maxFiles=u.maxFiles||null,this.eol=typeof u.eol=="string"?u.eol:l.EOL,this.tailable=u.tailable||!1,this.lazy=u.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(u,c=()=>{}){if(this.silent)return c(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(u,c)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(u,c)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(u,c)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(u,c)})});return}}const m=`${u[i]}${this.eol}`,d=Buffer.byteLength(m);function g(){if(this._size+=d,this._pendingSize-=d,o("logged %s %s",this._size,m),this.emit("logged",u),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=d,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const y=this._stream.write(m,g.bind(this));return y?c():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,c()})),o("written",y,this._drain),this.finishIfEnding(),y}query(u,c){typeof u=="function"&&(c=u,u={}),u=R(u);const m=t.join(this.dirname,this.filename);let d="",g=[],y=0;const v=e.createReadStream(m,{encoding:"utf8"});v.on("error",O=>{if(v.readable&&v.destroy(),!!c)return O.code!=="ENOENT"?c(O):c(null,g)}),v.on("data",O=>{O=(d+O).split(/\n+/);const k=O.length-1;let D=0;for(;D<k;D++)(!u.start||y>=u.start)&&w(O[D]),y++;d=O[k]}),v.on("close",()=>{d&&w(d,!0),u.order==="desc"&&(g=g.reverse()),c&&c(null,g)});function w(O,k){try{const D=JSON.parse(O);x(D)&&S(D)}catch(D){k||v.emit("error",D)}}function S(O){if(u.rows&&g.length>=u.rows&&u.order!=="desc"){v.readable&&v.destroy();return}u.fields&&(O=u.fields.reduce((k,D)=>(k[D]=O[D],k),{})),u.order==="desc"&&g.length>=u.rows&&g.shift(),g.push(O)}function x(O){if(!O||typeof O!="object")return;const k=new Date(O.timestamp);if(!(u.from&&k<u.from||u.until&&k>u.until||u.level&&u.level!==O.level))return!0}function R(O){return O=O||{},O.rows=O.rows||O.limit||10,O.start=O.start||0,O.until=O.until||new Date,typeof O.until!="object"&&(O.until=new Date(O.until)),O.from=O.from||O.until-24*60*60*1e3,typeof O.from!="object"&&(O.from=new Date(O.from)),O.order=O.order||"desc",O}}stream(u={}){const c=t.join(this.dirname,this.filename),m=new a,d={file:c,start:u.start};return m.destroy=h(d,(g,y)=>{if(g)return m.emit("error",g);try{m.emit("data",y),y=JSON.parse(y),m.emit("log",y)}catch(v){m.emit("error",v)}}),m}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((u,c)=>{if(u)return this.emit("error",u);o("stat done: %s { size: %s }",this.filename,c),this._size=c,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.emit("rotate")||(this._rotate=!1)})})))}stat(u){const c=this._getFile(),m=t.join(this.dirname,c);e.stat(m,(d,g)=>{if(d&&d.code==="ENOENT")return o("ENOENT ok",m),this.filename=c,u(null,0);if(d)return o(`err ${d.code} ${m}`),u(d);if(!g||this._needsNewFile(g.size))return this._incFile(()=>this.stat(u));this.filename=c,u(null,g.size)})}close(u){this._stream&&this._stream.end(()=>{u&&u(),this.emit("flush"),this.emit("closed")})}_needsNewFile(u){return u=u||this._size,this.maxsize&&u>=this.maxsize}_onError(u){this.emit("error",u)}_setupStream(u){return u.on("error",this._onError),u}_cleanupStream(u){return u.removeListener("error",this._onError),u.destroy(),u}_rotateFile(){this._incFile(()=>this.open())}_endStream(u=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),u()})):u()}_createStream(u){const c=t.join(this.dirname,this.filename);o("create stream start",c,this.options);const m=e.createWriteStream(c,this.options).on("error",d=>o(d)).on("close",()=>o("close",m.path,m.bytesWritten)).on("open",()=>{o("file open ok",c),this.emit("open",c),u.pipe(m),this.rotatedWhileOpening&&(this._stream=new s,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(m),u.end())});return o("create stream ok",c),m}_incFile(u){o("_incFile",this.filename);const c=t.extname(this._basename),m=t.basename(this._basename,c),d=[];this.zippedArchive&&d.push((function(g){const y=this._created>0&&!this.tailable?this._created:"";this._compressFile(t.join(this.dirname,`${m}${y}${c}`),t.join(this.dirname,`${m}${y}${c}.gz`),g)}).bind(this)),d.push((function(g){this.tailable?this._checkMaxFilesTailable(c,m,g):(this._created+=1,this._checkMaxFilesIncrementing(c,m,g))}).bind(this)),r(d,u)}_getFile(){const u=t.extname(this._basename),c=t.basename(this._basename,u),m=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${c}${m}${u}`:`${c}${u}`}_checkMaxFilesIncrementing(u,c,m){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(m);const d=this._created-this.maxFiles,g=d!==0?d:"",y=this.zippedArchive?".gz":"",v=`${c}${g}${u}${y}`,w=t.join(this.dirname,v);e.unlink(w,m)}_checkMaxFilesTailable(u,c,m){const d=[];if(!this.maxFiles)return;const g=this.zippedArchive?".gz":"";for(let y=this.maxFiles-1;y>1;y--)d.push((function(v,w){let S=`${c}${v-1}${u}${g}`;const x=t.join(this.dirname,S);e.exists(x,R=>{if(!R)return w(null);S=`${c}${v}${u}${g}`,e.rename(x,t.join(this.dirname,S),w)})}).bind(this,y));r(d,()=>{e.rename(t.join(this.dirname,`${c}${u}${g}`),t.join(this.dirname,`${c}1${u}${g}`),m)})}_compressFile(u,c,m){e.access(u,e.F_OK,d=>{if(d)return m();var g=n.createGzip(),y=e.createReadStream(u),v=e.createWriteStream(c);v.on("finish",()=>{e.unlink(u,m)}),y.pipe(g).pipe(v)})}_createLogDirIfNotExist(u){e.existsSync(u)||e.mkdirSync(u,{recursive:!0})}},Oi}var Di,Go;function qc(){if(Go)return Di;Go=1;const e=lf,t=ff,{Stream:r}=Et(),n=xt(),{configure:i}=zr();return Di=class extends n{constructor(s={}){super(s),this.options=s,this.name=s.name||"http",this.ssl=!!s.ssl,this.host=s.host||"localhost",this.port=s.port,this.auth=s.auth,this.path=s.path||"",this.maximumDepth=s.maximumDepth,this.agent=s.agent,this.headers=s.headers||{},this.headers["content-type"]="application/json",this.batch=s.batch||!1,this.batchInterval=s.batchInterval||5e3,this.batchCount=s.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(s,f){this._request(s,null,null,(o,l)=>{l&&l.statusCode!==200&&(o=new Error(`Invalid HTTP Status Code: ${l.statusCode}`)),o?this.emit("warn",o):this.emit("logged",s)}),f&&setImmediate(f)}query(s,f){typeof s=="function"&&(f=s,s={}),s={method:"query",params:this.normalizeQuery(s)};const o=s.params.auth||null;delete s.params.auth;const l=s.params.path||null;delete s.params.path,this._request(s,o,l,(h,p,u)=>{if(p&&p.statusCode!==200&&(h=new Error(`Invalid HTTP Status Code: ${p.statusCode}`)),h)return f(h);if(typeof u=="string")try{u=JSON.parse(u)}catch(c){return f(c)}f(null,u)})}stream(s={}){const f=new r;s={method:"stream",params:s};const o=s.params.path||null;delete s.params.path;const l=s.params.auth||null;delete s.params.auth;let h="";const p=this._request(s,l,o);return f.destroy=()=>p.destroy(),p.on("data",u=>{u=(h+u).split(/\n+/);const c=u.length-1;let m=0;for(;m<c;m++)try{f.emit("log",JSON.parse(u[m]))}catch(d){f.emit("error",d)}h=u[c]}),p.on("error",u=>f.emit("error",u)),f}_request(s,f,o,l){s=s||{},f=f||this.auth,o=o||this.path||"",this.batch?this._doBatch(s,l,f,o):this._doRequest(s,l,f,o)}_doBatch(s,f,o,l){if(this.batchOptions.push(s),this.batchOptions.length===1){const h=this;this.batchCallback=f,this.batchTimeoutID=setTimeout(function(){h.batchTimeoutID=-1,h._doBatchRequest(h.batchCallback,o,l)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,o,l)}_doBatchRequest(s,f,o){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);const l=this.batchOptions.slice();this.batchOptions=[],this._doRequest(l,s,f,o)}_doRequest(s,f,o,l){const h=Object.assign({},this.headers);o&&o.bearer&&(h.Authorization=`Bearer ${o.bearer}`);const p=(this.ssl?t:e).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${l.replace(/^\//,"")}`,headers:h,auth:o&&o.username&&o.password?`${o.username}:${o.password}`:"",agent:this.agent});p.on("error",f),p.on("response",c=>c.on("end",()=>f(null,c)).resume());const u=i({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});p.end(Buffer.from(u(s,this.options.replacer),"utf8"))}},Di}var Ti,Vo;function el(){if(Vo)return Ti;Vo=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",Ti=e,Ti}var ki,Bo;function $c(){if(Bo)return ki;Bo=1;const e=el(),{MESSAGE:t}=_e(),r=lt,n=xt();return ki=class extends n{constructor(a={}){if(super(a),!a.stream||!e(a.stream))throw new Error("options.stream is required.");this._stream=a.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=a.stream._writableState.objectMode,this.eol=typeof a.eol=="string"?a.eol:r.EOL}log(a,s){if(setImmediate(()=>this.emit("logged",a)),this.isObjectMode){this._stream.write(a),s&&s();return}this._stream.write(`${a[t]}${this.eol}`),s&&s()}},ki}var Jo;function Ic(){return Jo||(Jo=1,function(e){Object.defineProperty(e,"Console",{configurable:!0,enumerable:!0,get(){return ic()}}),Object.defineProperty(e,"File",{configurable:!0,enumerable:!0,get(){return Nc()}}),Object.defineProperty(e,"Http",{configurable:!0,enumerable:!0,get(){return qc()}}),Object.defineProperty(e,"Stream",{configurable:!0,enumerable:!0,get(){return $c()}})}(jn)),jn}var gt={},Zo;function da(){if(Zo)return gt;Zo=1;const e=ju(),{configs:t}=_e();return gt.cli=e.levels(t.cli),gt.npm=e.levels(t.npm),gt.syslog=e.levels(t.syslog),gt.addColors=e.levels,gt}var Mr={exports:{}},Er={exports:{}},Ko;function jc(){return Ko||(Ko=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=fa(),n=g(r),i=ca(),a=g(i),s=Zu(),f=g(s),o=Bu(),l=g(o),h=Ju(),p=g(h),u=Mt(),c=g(u),m=Ht(),d=g(m);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,x,R){R=(0,l.default)(R);var O=0,k=0,{length:D}=S,Z=!1;D===0&&R(null);function ge(ue,ve){ue===!1&&(Z=!0),Z!==!0&&(ue?R(ue):(++k===D||ve===a.default)&&R(null))}for(;O<D;O++)x(S[O],O,(0,p.default)(ge))}function v(S,x,R){return(0,f.default)(S,1/0,x,R)}function w(S,x,R){var O=(0,n.default)(S)?y:v;return O(S,(0,c.default)(x),R)}t.default=(0,d.default)(w,3),e.exports=t.default}(Er,Er.exports)),Er.exports}var Rr={exports:{}},Qo;function Yc(){return Qo||(Qo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return(i,a,s)=>n(i,s)}e.exports=t.default}(Rr,Rr.exports)),Rr.exports}var Xo;function ha(){return Xo||(Xo=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=jc(),n=h(r),i=Yc(),a=h(i),s=Mt(),f=h(s),o=Ht(),l=h(o);function h(u){return u&&u.__esModule?u:{default:u}}function p(u,c,m){return(0,n.default)(u,(0,a.default)((0,f.default)(c)),m)}t.default=(0,l.default)(p,3),e.exports=t.default}(Mr,Mr.exports)),Mr.exports}var Ai,eu;function Wc(){if(eu)return Ai;eu=1;var e=Object.prototype.toString;return Ai=function(r){if(typeof r.displayName=="string"&&r.constructor.name)return r.displayName;if(typeof r.name=="string"&&r.name)return r.name;if(typeof r=="object"&&r.constructor&&typeof r.constructor.name=="string")return r.constructor.name;var n=r.toString(),i=e.call(r).slice(8,-1);return i==="Function"?n=n.substring(n.indexOf("(")+1,n.indexOf(")")):n=i,n||"anonymous"},Ai}var Ci,tu;function tl(){if(tu)return Ci;tu=1;var e=Wc();return Ci=function(r){var n=0,i;function a(){return n||(n=1,i=r.apply(this,arguments),r=null),i}return a.displayName=e(r),a},Ci}var Pi={},ru;function rl(){return ru||(ru=1,function(e){e.get=function(i){var a=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var s={},f=Error.prepareStackTrace;Error.prepareStackTrace=function(l,h){return h},Error.captureStackTrace(s,i||e.get);var o=s.stack;return Error.prepareStackTrace=f,Error.stackTraceLimit=a,o},e.parse=function(i){if(!i.stack)return[];var a=this,s=i.stack.split(`
`).slice(1);return s.map(function(f){if(f.match(/^\s*[-]{4,}$/))return a._createParsedCallSite({fileName:f,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var o=f.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(o){var l=null,h=null,p=null,u=null,c=null,m=o[5]==="native";if(o[1]){p=o[1];var d=p.lastIndexOf(".");if(p[d-1]=="."&&d--,d>0){l=p.substr(0,d),h=p.substr(d+1);var g=l.indexOf(".Module");g>0&&(p=p.substr(g+1),l=l.substr(0,g))}u=null}h&&(u=l,c=h),h==="<anonymous>"&&(c=null,p=null);var y={fileName:o[2]||null,lineNumber:parseInt(o[3],10)||null,functionName:p,typeName:u,methodName:c,columnNumber:parseInt(o[4],10)||null,native:m};return a._createParsedCallSite(y)}}).filter(function(f){return!!f})};function t(i){for(var a in i)this[a]=i[a]}var r=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],n=["topLevel","eval","native","constructor"];r.forEach(function(i){t.prototype[i]=null,t.prototype["get"+i[0].toUpperCase()+i.substr(1)]=function(){return this[i]}}),n.forEach(function(i){t.prototype[i]=!1,t.prototype["is"+i[0].toUpperCase()+i.substr(1)]=function(){return this[i]}}),e._createParsedCallSite=function(i){return new t(i)}}(Pi)),Pi}var Li,nu;function Uc(){if(nu)return Li;nu=1;const{Writable:e}=Et();return Li=class extends e{constructor(r){if(super({objectMode:!0}),!r)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=r}_write(r,n,i){return r.exception?this.transport.log(r,i):(i(),!0)}},Li}var Fi,iu;function nl(){if(iu)return Fi;iu=1;const e=lt,t=ha(),r=Gr()("winston:exception"),n=tl(),i=rl(),a=Uc();return Fi=class{constructor(f){if(!f)throw new Error("Logger is required to handle exceptions");this.logger=f,this.handlers=new Map}handle(...f){f.forEach(o=>{if(Array.isArray(o))return o.forEach(l=>this._addHandler(l));this._addHandler(o)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(f=>this.logger.unpipe(f)))}getAllInfo(f){let o=null;return f&&(o=typeof f=="string"?f:f.message),{error:f,level:"error",message:[`uncaughtException: ${o||"(no error message)"}`,f&&f.stack||"  No stack trace"].join(`
`),stack:f&&f.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(f)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:e.loadavg(),uptime:e.uptime()}}getTrace(f){return(f?i.parse(f):i.get()).map(l=>({column:l.getColumnNumber(),file:l.getFileName(),function:l.getFunctionName(),line:l.getLineNumber(),method:l.getMethodName(),native:l.isNative()}))}_addHandler(f){if(!this.handlers.has(f)){f.handleExceptions=!0;const o=new a(f);this.handlers.set(f,o),this.logger.pipe(o)}}_uncaughtException(f){const o=this.getAllInfo(f),l=this._getExceptionHandlers();let h=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(f):this.logger.exitOnError,p;!l.length&&h&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),h=!1);function u(){r("doExit",h),r("process._exiting",process._exiting),h&&!process._exiting&&(p&&clearTimeout(p),process.exit(1))}if(!l||l.length===0)return process.nextTick(u);t(l,(c,m)=>{const d=n(m),g=c.transport||c;function y(v){return()=>{r(v),d()}}g._ending=!0,g.once("finish",y("finished")),g.once("error",y("error"))},()=>h&&u()),this.logger.log(o),h&&(p=setTimeout(u,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(f=>(f.transport||f).handleExceptions)}},Fi}var Ni,au;function Hc(){if(au)return Ni;au=1;const{Writable:e}=Et();return Ni=class extends e{constructor(r){if(super({objectMode:!0}),!r)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=r}_write(r,n,i){return r.rejection?this.transport.log(r,i):(i(),!0)}},Ni}var qi,su;function il(){if(su)return qi;su=1;const e=lt,t=ha(),r=Gr()("winston:rejection"),n=tl(),i=rl(),a=Hc();return qi=class{constructor(f){if(!f)throw new Error("Logger is required to handle rejections");this.logger=f,this.handlers=new Map}handle(...f){f.forEach(o=>{if(Array.isArray(o))return o.forEach(l=>this._addHandler(l));this._addHandler(o)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(f=>this.logger.unpipe(f)))}getAllInfo(f){let o=null;return f&&(o=typeof f=="string"?f:f.message),{error:f,level:"error",message:[`unhandledRejection: ${o||"(no error message)"}`,f&&f.stack||"  No stack trace"].join(`
`),stack:f&&f.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(f)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:e.loadavg(),uptime:e.uptime()}}getTrace(f){return(f?i.parse(f):i.get()).map(l=>({column:l.getColumnNumber(),file:l.getFileName(),function:l.getFunctionName(),line:l.getLineNumber(),method:l.getMethodName(),native:l.isNative()}))}_addHandler(f){if(!this.handlers.has(f)){f.handleRejections=!0;const o=new a(f);this.handlers.set(f,o),this.logger.pipe(o)}}_unhandledRejection(f){const o=this.getAllInfo(f),l=this._getRejectionHandlers();let h=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(f):this.logger.exitOnError,p;!l.length&&h&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),h=!1);function u(){r("doExit",h),r("process._exiting",process._exiting),h&&!process._exiting&&(p&&clearTimeout(p),process.exit(1))}if(!l||l.length===0)return process.nextTick(u);t(l,(c,m)=>{const d=n(m),g=c.transport||c;function y(v){return()=>{r(v),d()}}g._ending=!0,g.once("finish",y("finished")),g.once("error",y("error"))},()=>h&&u()),this.logger.log(o),h&&(p=setTimeout(u,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(f=>(f.transport||f).handleRejections)}},qi}var $i,ou;function zc(){if(ou)return $i;ou=1;class e{constructor(r){const n=ma();if(typeof r!="object"||Array.isArray(r)||!(r instanceof n))throw new Error("Logger is required for profiling");this.logger=r,this.start=Date.now()}done(...r){typeof r[r.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());const n=typeof r[r.length-1]=="object"?r.pop():{};return n.level=n.level||"info",n.durationMs=Date.now()-this.start,this.logger.write(n)}}return $i=e,$i}var Ii,uu;function ma(){if(uu)return Ii;uu=1;const{Stream:e,Transform:t}=Et(),r=ha(),{LEVEL:n,SPLAT:i}=_e(),a=el(),s=nl(),f=il(),o=Vu(),l=zc(),{warn:h}=Yu(),p=da(),u=/%[scdjifoO%]/g;class c extends t{constructor(g){super({objectMode:!0}),this.configure(g)}child(g){const y=this;return Object.create(y,{write:{value:function(v){const w=Object.assign({},g,v);v instanceof Error&&(w.stack=v.stack,w.message=v.message),y.write(w)}}})}configure({silent:g,format:y,defaultMeta:v,levels:w,level:S="info",exitOnError:x=!0,transports:R,colors:O,emitErrs:k,formatters:D,padLevels:Z,rewriters:ge,stripColors:ue,exceptionHandlers:ve,rejectionHandlers:Ae}={}){if(this.transports.length&&this.clear(),this.silent=g,this.format=y||this.format||ku()(),this.defaultMeta=v||null,this.levels=w||this.levels||p.npm.levels,this.level=S,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new s(this),this.rejections=new f(this),this.profilers={},this.exitOnError=x,R&&(R=Array.isArray(R)?R:[R],R.forEach(le=>this.add(le))),O||k||D||Z||ge||ue)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));ve&&this.exceptions.handle(ve),Ae&&this.rejections.handle(Ae)}isLevelEnabled(g){const y=m(this.levels,g);if(y===null)return!1;const v=m(this.levels,this.level);return v===null?!1:!this.transports||this.transports.length===0?v>=y:this.transports.findIndex(S=>{let x=m(this.levels,S.level);return x===null&&(x=v),x>=y})!==-1}log(g,y,...v){if(arguments.length===1)return g[n]=g.level,this._addDefaultMeta(g),this.write(g),this;if(arguments.length===2)return y&&typeof y=="object"?(y[n]=y.level=g,this._addDefaultMeta(y),this.write(y),this):(y={[n]:g,level:g,message:y},this._addDefaultMeta(y),this.write(y),this);const[w]=v;if(typeof w=="object"&&w!==null&&!(y&&y.match&&y.match(u))){const x=Object.assign({},this.defaultMeta,w,{[n]:g,[i]:v,level:g,message:y});return w.message&&(x.message=`${x.message} ${w.message}`),w.stack&&(x.stack=w.stack),w.cause&&(x.cause=w.cause),this.write(x),this}return this.write(Object.assign({},this.defaultMeta,{[n]:g,[i]:v,level:g,message:y})),this}_transform(g,y,v){if(this.silent)return v();g[n]||(g[n]=g.level),!this.levels[g[n]]&&this.levels[g[n]]!==0&&console.error("[winston] Unknown logger level: %s",g[n]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",g);try{this.push(this.format.transform(g,this.format.options))}finally{this._writableState.sync=!1,v()}}_final(g){const y=this.transports.slice();r(y,(v,w)=>{if(!v||v.finished)return setImmediate(w);v.once("finish",w),v.end()},g)}add(g){const y=!a(g)||g.log.length>2?new o({transport:g}):g;if(!y._writableState||!y._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",y),this._onEvent("warn",y),this.pipe(y),g.handleExceptions&&this.exceptions.handle(),g.handleRejections&&this.rejections.handle(),this}remove(g){if(!g)return this;let y=g;return(!a(g)||g.log.length>2)&&(y=this.transports.filter(v=>v.transport===g)[0]),y&&this.unpipe(y),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){h.deprecated("setLevels")}query(g,y){typeof g=="function"&&(y=g,g={}),g=g||{};const v={},w=Object.assign({},g.query||{});function S(R,O){g.query&&typeof R.formatQuery=="function"&&(g.query=R.formatQuery(w)),R.query(g,(k,D)=>{if(k)return O(k);typeof R.formatResults=="function"&&(D=R.formatResults(D,g.format)),O(null,D)})}function x(R,O){S(R,(k,D)=>{O&&(D=k||D,D&&(v[R.name]=D),O()),O=null})}r(this.transports.filter(R=>!!R.query),x,()=>y(null,v))}stream(g={}){const y=new e,v=[];return y._streams=v,y.destroy=()=>{let w=v.length;for(;w--;)v[w].destroy()},this.transports.filter(w=>!!w.stream).forEach(w=>{const S=w.stream(g);S&&(v.push(S),S.on("log",x=>{x.transport=x.transport||[],x.transport.push(w.name),y.emit("log",x)}),S.on("error",x=>{x.transport=x.transport||[],x.transport.push(w.name),y.emit("error",x)}))}),y}startTimer(){return new l(this)}profile(g,...y){const v=Date.now();if(this.profilers[g]){const w=this.profilers[g];delete this.profilers[g],typeof y[y.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),y.pop());const S=typeof y[y.length-1]=="object"?y.pop():{};return S.level=S.level||"info",S.durationMs=v-w,S.message=S.message||g,this.write(S)}return this.profilers[g]=v,this}handleExceptions(...g){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...g)}unhandleExceptions(...g){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...g)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(g,y){function v(w){g==="error"&&!this.transports.includes(y)&&this.add(y),this.emit(g,w,y)}y["__winston"+g]||(y["__winston"+g]=v.bind(this),y.on(g,y["__winston"+g]))}_addDefaultMeta(g){this.defaultMeta&&Object.assign(g,this.defaultMeta)}}function m(d,g){const y=d[g];return!y&&y!==0?null:y}return Object.defineProperty(c.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:d}=this._readableState;return Array.isArray(d)?d:[d].filter(Boolean)}}),Ii=c,Ii}var ji,lu;function al(){if(lu)return ji;lu=1;const{LEVEL:e}=_e(),t=da(),r=ma(),n=Gr()("winston:create-logger");function i(a){return"is"+a.charAt(0).toUpperCase()+a.slice(1)+"Enabled"}return ji=function(a={}){a.levels=a.levels||t.npm.levels;class s extends r{constructor(l){super(l)}}const f=new s(a);return Object.keys(a.levels).forEach(function(o){if(n('Define prototype method for "%s"',o),o==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}s.prototype[o]=function(...l){const h=this||f;if(l.length===1){const[p]=l,u=p&&p.message&&p||{message:p};return u.level=u[e]=o,h._addDefaultMeta(u),h.write(u),this||f}return l.length===0?(h.log(o,""),h):h.log(o,...l)},s.prototype[i(o)]=function(){return(this||f).isLevelEnabled(o)}}),f},ji}var Yi,fu;function Gc(){if(fu)return Yi;fu=1;const e=al();return Yi=class{constructor(r={}){this.loggers=new Map,this.options=r}add(r,n){if(!this.loggers.has(r)){n=Object.assign({},n||this.options);const i=n.transports||this.options.transports;i?n.transports=Array.isArray(i)?i.slice():[i]:n.transports=[];const a=e(n);a.on("close",()=>this._delete(r)),this.loggers.set(r,a)}return this.loggers.get(r)}get(r,n){return this.add(r,n)}has(r){return!!this.loggers.has(r)}close(r){if(r)return this._removeLogger(r);this.loggers.forEach((n,i)=>this._removeLogger(i))}_removeLogger(r){if(!this.loggers.has(r))return;this.loggers.get(r).close(),this._delete(r)}_delete(r){this.loggers.delete(r)}},Yi}var cu;function sl(){return cu||(cu=1,function(e){const t=ju(),{warn:r}=Yu();e.version=Kf.version,e.transports=Ic(),e.config=da(),e.addColors=t.levels,e.format=t.format,e.createLogger=al(),e.Logger=ma(),e.ExceptionHandler=nl(),e.RejectionHandler=il(),e.Container=Gc(),e.Transport=xt(),e.loggers=new e.Container;const n=e.createLogger();Object.keys(e.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(i=>e[i]=(...a)=>n[i](...a)),Object.defineProperty(e,"level",{get(){return n.level},set(i){n.level=i}}),Object.defineProperty(e,"exceptions",{get(){return n.exceptions}}),Object.defineProperty(e,"rejections",{get(){return n.rejections}}),["exitOnError"].forEach(i=>{Object.defineProperty(e,i,{get(){return n[i]},set(a){n[i]=a}})}),Object.defineProperty(e,"default",{get(){return{exceptionHandlers:n.exceptionHandlers,rejectionHandlers:n.rejectionHandlers,transports:n.transports}}}),r.deprecated(e,"setLevels"),r.forFunctions(e,"useFormat",["cli"]),r.forProperties(e,"useFormat",["padLevels","stripColors"]),r.forFunctions(e,"deprecated",["addRewriter","addFilter","clone","extend"]),r.forProperties(e,"deprecated",["emitErrs","levelLength"])}(fn)),fn}var Vc=sl();const ze=Ru(Vc);var Or={exports:{}},du;function Bc(){return du||(du=1,function(e,t){var r=Eu;t=e.exports=n;function n(p,u){return u=s(p,u),o(p,u)}t.sha1=function(p){return n(p)},t.keys=function(p){return n(p,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},t.MD5=function(p){return n(p,{algorithm:"md5",encoding:"hex"})},t.keysMD5=function(p){return n(p,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var i=r.getHashes?r.getHashes().slice():["sha1","md5"];i.push("passthrough");var a=["buffer","hex","binary","base64"];function s(p,u){u=u||{};var c={};if(c.algorithm=u.algorithm||"sha1",c.encoding=u.encoding||"hex",c.excludeValues=!!u.excludeValues,c.algorithm=c.algorithm.toLowerCase(),c.encoding=c.encoding.toLowerCase(),c.ignoreUnknown=u.ignoreUnknown===!0,c.respectType=u.respectType!==!1,c.respectFunctionNames=u.respectFunctionNames!==!1,c.respectFunctionProperties=u.respectFunctionProperties!==!1,c.unorderedArrays=u.unorderedArrays===!0,c.unorderedSets=u.unorderedSets!==!1,c.unorderedObjects=u.unorderedObjects!==!1,c.replacer=u.replacer||void 0,c.excludeKeys=u.excludeKeys||void 0,typeof p>"u")throw new Error("Object argument required.");for(var m=0;m<i.length;++m)i[m].toLowerCase()===c.algorithm.toLowerCase()&&(c.algorithm=i[m]);if(i.indexOf(c.algorithm)===-1)throw new Error('Algorithm "'+c.algorithm+'"  not supported. supported values: '+i.join(", "));if(a.indexOf(c.encoding)===-1&&c.algorithm!=="passthrough")throw new Error('Encoding "'+c.encoding+'"  not supported. supported values: '+a.join(", "));return c}function f(p){if(typeof p!="function")return!1;var u=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return u.exec(Function.prototype.toString.call(p))!=null}function o(p,u){var c;u.algorithm!=="passthrough"?c=r.createHash(u.algorithm):c=new h,typeof c.write>"u"&&(c.write=c.update,c.end=c.update);var m=l(u,c);if(m.dispatch(p),c.update||c.end(""),c.digest)return c.digest(u.encoding==="buffer"?void 0:u.encoding);var d=c.read();return u.encoding==="buffer"?d:d.toString(u.encoding)}t.writeToStream=function(p,u,c){return typeof c>"u"&&(c=u,u={}),u=s(p,u),l(u,c).dispatch(p)};function l(p,u,c){c=c||[];var m=function(d){return u.update?u.update(d,"utf8"):u.write(d,"utf8")};return{dispatch:function(d){p.replacer&&(d=p.replacer(d));var g=typeof d;return d===null&&(g="null"),this["_"+g](d)},_object:function(d){var g=/\[object (.*)\]/i,y=Object.prototype.toString.call(d),v=g.exec(y);v?v=v[1]:v="unknown:["+y+"]",v=v.toLowerCase();var w=null;if((w=c.indexOf(d))>=0)return this.dispatch("[CIRCULAR:"+w+"]");if(c.push(d),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(d))return m("buffer:"),m(d);if(v!=="object"&&v!=="function"&&v!=="asyncfunction")if(this["_"+v])this["_"+v](d);else{if(p.ignoreUnknown)return m("["+v+"]");throw new Error('Unknown object type "'+v+'"')}else{var S=Object.keys(d);p.unorderedObjects&&(S=S.sort()),p.respectType!==!1&&!f(d)&&S.splice(0,0,"prototype","__proto__","constructor"),p.excludeKeys&&(S=S.filter(function(R){return!p.excludeKeys(R)})),m("object:"+S.length+":");var x=this;return S.forEach(function(R){x.dispatch(R),m(":"),p.excludeValues||x.dispatch(d[R]),m(",")})}},_array:function(d,g){g=typeof g<"u"?g:p.unorderedArrays!==!1;var y=this;if(m("array:"+d.length+":"),!g||d.length<=1)return d.forEach(function(S){return y.dispatch(S)});var v=[],w=d.map(function(S){var x=new h,R=c.slice(),O=l(p,x,R);return O.dispatch(S),v=v.concat(R.slice(c.length)),x.read().toString()});return c=c.concat(v),w.sort(),this._array(w,!1)},_date:function(d){return m("date:"+d.toJSON())},_symbol:function(d){return m("symbol:"+d.toString())},_error:function(d){return m("error:"+d.toString())},_boolean:function(d){return m("bool:"+d.toString())},_string:function(d){m("string:"+d.length+":"),m(d.toString())},_function:function(d){m("fn:"),f(d)?this.dispatch("[native]"):this.dispatch(d.toString()),p.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(d.name)),p.respectFunctionProperties&&this._object(d)},_number:function(d){return m("number:"+d.toString())},_xml:function(d){return m("xml:"+d.toString())},_null:function(){return m("Null")},_undefined:function(){return m("Undefined")},_regexp:function(d){return m("regex:"+d.toString())},_uint8array:function(d){return m("uint8array:"),this.dispatch(Array.prototype.slice.call(d))},_uint8clampedarray:function(d){return m("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(d))},_int8array:function(d){return m("int8array:"),this.dispatch(Array.prototype.slice.call(d))},_uint16array:function(d){return m("uint16array:"),this.dispatch(Array.prototype.slice.call(d))},_int16array:function(d){return m("int16array:"),this.dispatch(Array.prototype.slice.call(d))},_uint32array:function(d){return m("uint32array:"),this.dispatch(Array.prototype.slice.call(d))},_int32array:function(d){return m("int32array:"),this.dispatch(Array.prototype.slice.call(d))},_float32array:function(d){return m("float32array:"),this.dispatch(Array.prototype.slice.call(d))},_float64array:function(d){return m("float64array:"),this.dispatch(Array.prototype.slice.call(d))},_arraybuffer:function(d){return m("arraybuffer:"),this.dispatch(new Uint8Array(d))},_url:function(d){return m("url:"+d.toString())},_map:function(d){m("map:");var g=Array.from(d);return this._array(g,p.unorderedSets!==!1)},_set:function(d){m("set:");var g=Array.from(d);return this._array(g,p.unorderedSets!==!1)},_file:function(d){return m("file:"),this.dispatch([d.name,d.size,d.type,d.lastModfied])},_blob:function(){if(p.ignoreUnknown)return m("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return m("domwindow")},_bigint:function(d){return m("bigint:"+d.toString())},_process:function(){return m("process")},_timer:function(){return m("timer")},_pipe:function(){return m("pipe")},_tcp:function(){return m("tcp")},_udp:function(){return m("udp")},_tty:function(){return m("tty")},_statwatcher:function(){return m("statwatcher")},_securecontext:function(){return m("securecontext")},_connection:function(){return m("connection")},_zlib:function(){return m("zlib")},_context:function(){return m("context")},_nodescript:function(){return m("nodescript")},_httpparser:function(){return m("httpparser")},_dataview:function(){return m("dataview")},_signal:function(){return m("signal")},_fsevent:function(){return m("fsevent")},_tlswrap:function(){return m("tlswrap")}}}function h(){return{buf:"",write:function(p){this.buf+=p},end:function(p){this.buf+=p},read:function(){return this.buf}}}}(Or,Or.exports)),Or.exports}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ol;function F(){return ol.apply(null,arguments)}function Jc(e){ol=e}function Pe(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ut(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ga(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ie(e,t))return!1;return!0}function Ee(e){return e===void 0}function Ze(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function zt(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function ul(e,t){var r=[],n,i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function tt(e,t){for(var r in t)ie(t,r)&&(e[r]=t[r]);return ie(t,"toString")&&(e.toString=t.toString),ie(t,"valueOf")&&(e.valueOf=t.valueOf),e}function je(e,t,r,n){return Al(e,t,r,n,!0).utc()}function Zc(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Q(e){return e._pf==null&&(e._pf=Zc()),e._pf}var Zi;Array.prototype.some?Zi=Array.prototype.some:Zi=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function pa(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Q(e),r=Zi.call(t.parsedDateParts,function(i){return i!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Vr(e){var t=je(NaN);return e!=null?tt(Q(t),e):Q(t).userInvalidated=!0,t}var hu=F.momentProperties=[],Wi=!1;function ya(e,t){var r,n,i,a=hu.length;if(Ee(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ee(t._i)||(e._i=t._i),Ee(t._f)||(e._f=t._f),Ee(t._l)||(e._l=t._l),Ee(t._strict)||(e._strict=t._strict),Ee(t._tzm)||(e._tzm=t._tzm),Ee(t._isUTC)||(e._isUTC=t._isUTC),Ee(t._offset)||(e._offset=t._offset),Ee(t._pf)||(e._pf=Q(t)),Ee(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=hu[r],i=t[n],Ee(i)||(e[n]=i);return e}function Gt(e){ya(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Wi===!1&&(Wi=!0,F.updateOffset(this),Wi=!1)}function Le(e){return e instanceof Gt||e!=null&&e._isAMomentObject!=null}function ll(e){F.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Te(e,t){var r=!0;return tt(function(){if(F.deprecationHandler!=null&&F.deprecationHandler(null,e),r){var n=[],i,a,s,f=arguments.length;for(a=0;a<f;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(s in arguments[0])ie(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}ll(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var mu={};function fl(e,t){F.deprecationHandler!=null&&F.deprecationHandler(e,t),mu[e]||(ll(t),mu[e]=!0)}F.suppressDeprecationWarnings=!1;F.deprecationHandler=null;function Ye(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Kc(e){var t,r;for(r in e)ie(e,r)&&(t=e[r],Ye(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ki(e,t){var r=tt({},e),n;for(n in t)ie(t,n)&&(ut(e[n])&&ut(t[n])?(r[n]={},tt(r[n],e[n]),tt(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)ie(e,n)&&!ie(t,n)&&ut(e[n])&&(r[n]=tt({},r[n]));return r}function va(e){e!=null&&this.set(e)}var Qi;Object.keys?Qi=Object.keys:Qi=function(e){var t,r=[];for(t in e)ie(e,t)&&r.push(t);return r};var Qc={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Xc(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Ye(n)?n.call(t,r):n}function Ie(e,t,r){var n=""+Math.abs(e),i=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var wa=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Dr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ui={},wt={};function Y(e,t,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),e&&(wt[e]=i),t&&(wt[t[0]]=function(){return Ie(i.apply(this,arguments),t[1],t[2])}),r&&(wt[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function ed(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function td(e){var t=e.match(wa),r,n;for(r=0,n=t.length;r<n;r++)wt[t[r]]?t[r]=wt[t[r]]:t[r]=ed(t[r]);return function(i){var a="",s;for(s=0;s<n;s++)a+=Ye(t[s])?t[s].call(i,e):t[s];return a}}function Ar(e,t){return e.isValid()?(t=cl(t,e.localeData()),Ui[t]=Ui[t]||td(t),Ui[t](e)):e.localeData().invalidDate()}function cl(e,t){var r=5;function n(i){return t.longDateFormat(i)||i}for(Dr.lastIndex=0;r>=0&&Dr.test(e);)e=e.replace(Dr,n),Dr.lastIndex=0,r-=1;return e}var rd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nd(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(wa).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var id="Invalid date";function ad(){return this._invalidDate}var sd="%d",od=/\d{1,2}/;function ud(e){return this._ordinal.replace("%d",e)}var ld={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function fd(e,t,r,n){var i=this._relativeTime[r];return Ye(i)?i(e,t,r,n):i.replace(/%d/i,e)}function cd(e,t){var r=this._relativeTime[e>0?"future":"past"];return Ye(r)?r(t):r.replace(/%s/i,t)}var gu={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ke(e){return typeof e=="string"?gu[e]||gu[e.toLowerCase()]:void 0}function _a(e){var t={},r,n;for(n in e)ie(e,n)&&(r=ke(n),r&&(t[r]=e[n]));return t}var dd={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function hd(e){var t=[],r;for(r in e)ie(e,r)&&t.push({unit:r,priority:dd[r]});return t.sort(function(n,i){return n.priority-i.priority}),t}var dl=/\d/,Oe=/\d\d/,hl=/\d{3}/,ba=/\d{4}/,Br=/[+-]?\d{6}/,de=/\d\d?/,ml=/\d\d\d\d?/,gl=/\d\d\d\d\d\d?/,Jr=/\d{1,3}/,Sa=/\d{1,4}/,Zr=/[+-]?\d{1,6}/,Rt=/\d+/,Kr=/[+-]?\d+/,md=/Z|[+-]\d\d:?\d\d/gi,Qr=/Z|[+-]\d\d(?::?\d\d)?/gi,gd=/[+-]?\d+(\.\d{1,3})?/,Vt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ot=/^[1-9]\d?/,xa=/^([1-9]\d|\d)/,$r;$r={};function N(e,t,r){$r[e]=Ye(t)?t:function(n,i){return n&&r?r:t}}function pd(e,t){return ie($r,e)?$r[e](t._strict,t._locale):new RegExp(yd(e))}function yd(e){return Be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,i,a){return r||n||i||a}))}function Be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function De(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function te(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=De(t)),r}var Xi={};function oe(e,t){var r,n=t,i;for(typeof e=="string"&&(e=[e]),Ze(t)&&(n=function(a,s){s[t]=te(a)}),i=e.length,r=0;r<i;r++)Xi[e[r]]=n}function Bt(e,t){oe(e,function(r,n,i,a){i._w=i._w||{},t(r,i._w,i,a)})}function vd(e,t,r){t!=null&&ie(Xi,e)&&Xi[e](t,r._a,r,e)}function Xr(e){return e%4===0&&e%100!==0||e%400===0}var Se=0,Ge=1,$e=2,be=3,Ce=4,Ve=5,ot=6,wd=7,_d=8;Y("Y",0,0,function(){var e=this.year();return e<=9999?Ie(e,4):"+"+e});Y(0,["YY",2],0,function(){return this.year()%100});Y(0,["YYYY",4],0,"year");Y(0,["YYYYY",5],0,"year");Y(0,["YYYYYY",6,!0],0,"year");N("Y",Kr);N("YY",de,Oe);N("YYYY",Sa,ba);N("YYYYY",Zr,Br);N("YYYYYY",Zr,Br);oe(["YYYYY","YYYYYY"],Se);oe("YYYY",function(e,t){t[Se]=e.length===2?F.parseTwoDigitYear(e):te(e)});oe("YY",function(e,t){t[Se]=F.parseTwoDigitYear(e)});oe("Y",function(e,t){t[Se]=parseInt(e,10)});function Nt(e){return Xr(e)?366:365}F.parseTwoDigitYear=function(e){return te(e)+(te(e)>68?1900:2e3)};var pl=Dt("FullYear",!0);function bd(){return Xr(this.year())}function Dt(e,t){return function(r){return r!=null?(yl(this,e,r),F.updateOffset(this,t),this):qt(this,e)}}function qt(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function yl(e,t,r){var n,i,a,s,f;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,s=e.month(),f=e.date(),f=f===29&&s===1&&!Xr(a)?28:f,i?n.setUTCFullYear(a,s,f):n.setFullYear(a,s,f)}}function Sd(e){return e=ke(e),Ye(this[e])?this[e]():this}function xd(e,t){if(typeof e=="object"){e=_a(e);var r=hd(e),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=ke(e),Ye(this[e]))return this[e](t);return this}function Md(e,t){return(e%t+t)%t}var we;Array.prototype.indexOf?we=Array.prototype.indexOf:we=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Ma(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Md(t,12);return e+=(t-r)/12,r===1?Xr(e)?29:28:31-r%7%2}Y("M",["MM",2],"Mo",function(){return this.month()+1});Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Y("MMMM",0,0,function(e){return this.localeData().months(this,e)});N("M",de,Ot);N("MM",de,Oe);N("MMM",function(e,t){return t.monthsShortRegex(e)});N("MMMM",function(e,t){return t.monthsRegex(e)});oe(["M","MM"],function(e,t){t[Ge]=te(e)-1});oe(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);i!=null?t[Ge]=i:Q(r).invalidMonth=e});var Ed="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wl=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Rd=Vt,Od=Vt;function Dd(e,t){return e?Pe(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||wl).test(t)?"format":"standalone"][e.month()]:Pe(this._months)?this._months:this._months.standalone}function Td(e,t){return e?Pe(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[wl.test(t)?"format":"standalone"][e.month()]:Pe(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function kd(e,t,r){var n,i,a,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=je([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(i=we.call(this._shortMonthsParse,s),i!==-1?i:null):(i=we.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=we.call(this._shortMonthsParse,s),i!==-1?i:(i=we.call(this._longMonthsParse,s),i!==-1?i:null)):(i=we.call(this._longMonthsParse,s),i!==-1?i:(i=we.call(this._shortMonthsParse,s),i!==-1?i:null))}function Ad(e,t,r){var n,i,a;if(this._monthsParseExact)return kd.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=je([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function _l(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=te(t);else if(t=e.localeData().monthsParse(t),!Ze(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,Ma(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function bl(e){return e!=null?(_l(this,e),F.updateOffset(this,!0),this):qt(this,"Month")}function Cd(){return Ma(this.year(),this.month())}function Pd(e){return this._monthsParseExact?(ie(this,"_monthsRegex")||Sl.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ie(this,"_monthsShortRegex")||(this._monthsShortRegex=Rd),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ld(e){return this._monthsParseExact?(ie(this,"_monthsRegex")||Sl.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ie(this,"_monthsRegex")||(this._monthsRegex=Od),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Sl(){function e(o,l){return l.length-o.length}var t=[],r=[],n=[],i,a,s,f;for(i=0;i<12;i++)a=je([2e3,i]),s=Be(this.monthsShort(a,"")),f=Be(this.months(a,"")),t.push(s),r.push(f),n.push(f),n.push(s);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Fd(e,t,r,n,i,a,s){var f;return e<100&&e>=0?(f=new Date(e+400,t,r,n,i,a,s),isFinite(f.getFullYear())&&f.setFullYear(e)):f=new Date(e,t,r,n,i,a,s),f}function $t(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ir(e,t,r){var n=7+t-r,i=(7+$t(e,0,n).getUTCDay()-t)%7;return-i+n-1}function xl(e,t,r,n,i){var a=(7+r-n)%7,s=Ir(e,n,i),f=1+7*(t-1)+a+s,o,l;return f<=0?(o=e-1,l=Nt(o)+f):f>Nt(e)?(o=e+1,l=f-Nt(e)):(o=e,l=f),{year:o,dayOfYear:l}}function It(e,t,r){var n=Ir(e.year(),t,r),i=Math.floor((e.dayOfYear()-n-1)/7)+1,a,s;return i<1?(s=e.year()-1,a=i+Je(s,t,r)):i>Je(e.year(),t,r)?(a=i-Je(e.year(),t,r),s=e.year()+1):(s=e.year(),a=i),{week:a,year:s}}function Je(e,t,r){var n=Ir(e,t,r),i=Ir(e+1,t,r);return(Nt(e)-n+i)/7}Y("w",["ww",2],"wo","week");Y("W",["WW",2],"Wo","isoWeek");N("w",de,Ot);N("ww",de,Oe);N("W",de,Ot);N("WW",de,Oe);Bt(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=te(e)});function Nd(e){return It(e,this._week.dow,this._week.doy).week}var qd={dow:0,doy:6};function $d(){return this._week.dow}function Id(){return this._week.doy}function jd(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Yd(e){var t=It(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Y("d",0,"do","day");Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Y("e",0,0,"weekday");Y("E",0,0,"isoWeekday");N("d",de);N("e",de);N("E",de);N("dd",function(e,t){return t.weekdaysMinRegex(e)});N("ddd",function(e,t){return t.weekdaysShortRegex(e)});N("dddd",function(e,t){return t.weekdaysRegex(e)});Bt(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);i!=null?t.d=i:Q(r).invalidWeekday=e});Bt(["d","e","E"],function(e,t,r,n){t[n]=te(e)});function Wd(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Ud(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ea(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Hd="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ml="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zd="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gd=Vt,Vd=Vt,Bd=Vt;function Jd(e,t){var r=Pe(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Ea(r,this._week.dow):e?r[e.day()]:r}function Zd(e){return e===!0?Ea(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Kd(e){return e===!0?Ea(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Qd(e,t,r){var n,i,a,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=je([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(i=we.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=we.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=we.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=we.call(this._weekdaysParse,s),i!==-1||(i=we.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=we.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=we.call(this._shortWeekdaysParse,s),i!==-1||(i=we.call(this._weekdaysParse,s),i!==-1)?i:(i=we.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=we.call(this._minWeekdaysParse,s),i!==-1||(i=we.call(this._weekdaysParse,s),i!==-1)?i:(i=we.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function Xd(e,t,r){var n,i,a;if(this._weekdaysParseExact)return Qd.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=je([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function eh(e){if(!this.isValid())return e!=null?this:NaN;var t=qt(this,"Day");return e!=null?(e=Wd(e,this.localeData()),this.add(e-t,"d")):t}function th(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function rh(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Ud(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function nh(e){return this._weekdaysParseExact?(ie(this,"_weekdaysRegex")||Ra.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ie(this,"_weekdaysRegex")||(this._weekdaysRegex=Gd),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function ih(e){return this._weekdaysParseExact?(ie(this,"_weekdaysRegex")||Ra.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ie(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vd),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ah(e){return this._weekdaysParseExact?(ie(this,"_weekdaysRegex")||Ra.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ie(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bd),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ra(){function e(h,p){return p.length-h.length}var t=[],r=[],n=[],i=[],a,s,f,o,l;for(a=0;a<7;a++)s=je([2e3,1]).day(a),f=Be(this.weekdaysMin(s,"")),o=Be(this.weekdaysShort(s,"")),l=Be(this.weekdays(s,"")),t.push(f),r.push(o),n.push(l),i.push(f),i.push(o),i.push(l);t.sort(e),r.sort(e),n.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Oa(){return this.hours()%12||12}function sh(){return this.hours()||24}Y("H",["HH",2],0,"hour");Y("h",["hh",2],0,Oa);Y("k",["kk",2],0,sh);Y("hmm",0,0,function(){return""+Oa.apply(this)+Ie(this.minutes(),2)});Y("hmmss",0,0,function(){return""+Oa.apply(this)+Ie(this.minutes(),2)+Ie(this.seconds(),2)});Y("Hmm",0,0,function(){return""+this.hours()+Ie(this.minutes(),2)});Y("Hmmss",0,0,function(){return""+this.hours()+Ie(this.minutes(),2)+Ie(this.seconds(),2)});function El(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}El("a",!0);El("A",!1);function Rl(e,t){return t._meridiemParse}N("a",Rl);N("A",Rl);N("H",de,xa);N("h",de,Ot);N("k",de,Ot);N("HH",de,Oe);N("hh",de,Oe);N("kk",de,Oe);N("hmm",ml);N("hmmss",gl);N("Hmm",ml);N("Hmmss",gl);oe(["H","HH"],be);oe(["k","kk"],function(e,t,r){var n=te(e);t[be]=n===24?0:n});oe(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});oe(["h","hh"],function(e,t,r){t[be]=te(e),Q(r).bigHour=!0});oe("hmm",function(e,t,r){var n=e.length-2;t[be]=te(e.substr(0,n)),t[Ce]=te(e.substr(n)),Q(r).bigHour=!0});oe("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[be]=te(e.substr(0,n)),t[Ce]=te(e.substr(n,2)),t[Ve]=te(e.substr(i)),Q(r).bigHour=!0});oe("Hmm",function(e,t,r){var n=e.length-2;t[be]=te(e.substr(0,n)),t[Ce]=te(e.substr(n))});oe("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[be]=te(e.substr(0,n)),t[Ce]=te(e.substr(n,2)),t[Ve]=te(e.substr(i))});function oh(e){return(e+"").toLowerCase().charAt(0)==="p"}var uh=/[ap]\.?m?\.?/i,lh=Dt("Hours",!0);function fh(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var Ol={calendar:Qc,longDateFormat:rd,invalidDate:id,ordinal:sd,dayOfMonthOrdinalParse:od,relativeTime:ld,months:Ed,monthsShort:vl,week:qd,weekdays:Hd,weekdaysMin:zd,weekdaysShort:Ml,meridiemParse:uh},me={},Pt={},jt;function ch(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function pu(e){return e&&e.toLowerCase().replace("_","-")}function dh(e){for(var t=0,r,n,i,a;t<e.length;){for(a=pu(e[t]).split("-"),r=a.length,n=pu(e[t+1]),n=n?n.split("-"):null;r>0;){if(i=en(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&ch(a,n)>=r-1)break;r--}t++}return jt}function hh(e){return!!(e&&e.match("^[^/\\\\]*$"))}function en(e){var t=null,r;if(me[e]===void 0&&typeof module<"u"&&module&&module.exports&&hh(e))try{t=jt._abbr,r=require,r("./locale/"+e),nt(t)}catch{me[e]=null}return me[e]}function nt(e,t){var r;return e&&(Ee(t)?r=Ke(e):r=Da(e,t),r?jt=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),jt._abbr}function Da(e,t){if(t!==null){var r,n=Ol;if(t.abbr=e,me[e]!=null)fl("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=me[e]._config;else if(t.parentLocale!=null)if(me[t.parentLocale]!=null)n=me[t.parentLocale]._config;else if(r=en(t.parentLocale),r!=null)n=r._config;else return Pt[t.parentLocale]||(Pt[t.parentLocale]=[]),Pt[t.parentLocale].push({name:e,config:t}),null;return me[e]=new va(Ki(n,t)),Pt[e]&&Pt[e].forEach(function(i){Da(i.name,i.config)}),nt(e),me[e]}else return delete me[e],null}function mh(e,t){if(t!=null){var r,n,i=Ol;me[e]!=null&&me[e].parentLocale!=null?me[e].set(Ki(me[e]._config,t)):(n=en(e),n!=null&&(i=n._config),t=Ki(i,t),n==null&&(t.abbr=e),r=new va(t),r.parentLocale=me[e],me[e]=r),nt(e)}else me[e]!=null&&(me[e].parentLocale!=null?(me[e]=me[e].parentLocale,e===nt()&&nt(e)):me[e]!=null&&delete me[e]);return me[e]}function Ke(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return jt;if(!Pe(e)){if(t=en(e),t)return t;e=[e]}return dh(e)}function gh(){return Qi(me)}function Ta(e){var t,r=e._a;return r&&Q(e).overflow===-2&&(t=r[Ge]<0||r[Ge]>11?Ge:r[$e]<1||r[$e]>Ma(r[Se],r[Ge])?$e:r[be]<0||r[be]>24||r[be]===24&&(r[Ce]!==0||r[Ve]!==0||r[ot]!==0)?be:r[Ce]<0||r[Ce]>59?Ce:r[Ve]<0||r[Ve]>59?Ve:r[ot]<0||r[ot]>999?ot:-1,Q(e)._overflowDayOfYear&&(t<Se||t>$e)&&(t=$e),Q(e)._overflowWeeks&&t===-1&&(t=wd),Q(e)._overflowWeekday&&t===-1&&(t=_d),Q(e).overflow=t),e}var ph=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vh=/Z|[+-]\d\d(?::?\d\d)?/,Tr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Hi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wh=/^\/?Date\((-?\d+)/i,_h=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bh={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Dl(e){var t,r,n=e._i,i=ph.exec(n)||yh.exec(n),a,s,f,o,l=Tr.length,h=Hi.length;if(i){for(Q(e).iso=!0,t=0,r=l;t<r;t++)if(Tr[t][1].exec(i[1])){s=Tr[t][0],a=Tr[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,r=h;t<r;t++)if(Hi[t][1].exec(i[3])){f=(i[2]||" ")+Hi[t][0];break}if(f==null){e._isValid=!1;return}}if(!a&&f!=null){e._isValid=!1;return}if(i[4])if(vh.exec(i[4]))o="Z";else{e._isValid=!1;return}e._f=s+(f||"")+(o||""),Aa(e)}else e._isValid=!1}function Sh(e,t,r,n,i,a){var s=[xh(e),vl.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&s.push(parseInt(a,10)),s}function xh(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Mh(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Eh(e,t,r){if(e){var n=Ml.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(n!==i)return Q(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Rh(e,t,r){if(e)return bh[e];if(t)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function Tl(e){var t=_h.exec(Mh(e._i)),r;if(t){if(r=Sh(t[4],t[3],t[2],t[5],t[6],t[7]),!Eh(t[1],r,e))return;e._a=r,e._tzm=Rh(t[8],t[9],t[10]),e._d=$t.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Q(e).rfc2822=!0}else e._isValid=!1}function Oh(e){var t=wh.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Dl(e),e._isValid===!1)delete e._isValid;else return;if(Tl(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:F.createFromInputFallback(e)}F.createFromInputFallback=Te("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function yt(e,t,r){return e??t??r}function Dh(e){var t=new Date(F.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ka(e){var t,r,n=[],i,a,s;if(!e._d){for(i=Dh(e),e._w&&e._a[$e]==null&&e._a[Ge]==null&&Th(e),e._dayOfYear!=null&&(s=yt(e._a[Se],i[Se]),(e._dayOfYear>Nt(s)||e._dayOfYear===0)&&(Q(e)._overflowDayOfYear=!0),r=$t(s,0,e._dayOfYear),e._a[Ge]=r.getUTCMonth(),e._a[$e]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[be]===24&&e._a[Ce]===0&&e._a[Ve]===0&&e._a[ot]===0&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?$t:Fd).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(Q(e).weekdayMismatch=!0)}}function Th(e){var t,r,n,i,a,s,f,o,l;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,s=4,r=yt(t.GG,e._a[Se],It(ce(),1,4).year),n=yt(t.W,1),i=yt(t.E,1),(i<1||i>7)&&(o=!0)):(a=e._locale._week.dow,s=e._locale._week.doy,l=It(ce(),a,s),r=yt(t.gg,e._a[Se],l.year),n=yt(t.w,l.week),t.d!=null?(i=t.d,(i<0||i>6)&&(o=!0)):t.e!=null?(i=t.e+a,(t.e<0||t.e>6)&&(o=!0)):i=a),n<1||n>Je(r,a,s)?Q(e)._overflowWeeks=!0:o!=null?Q(e)._overflowWeekday=!0:(f=xl(r,n,i,a,s),e._a[Se]=f.year,e._dayOfYear=f.dayOfYear)}F.ISO_8601=function(){};F.RFC_2822=function(){};function Aa(e){if(e._f===F.ISO_8601){Dl(e);return}if(e._f===F.RFC_2822){Tl(e);return}e._a=[],Q(e).empty=!0;var t=""+e._i,r,n,i,a,s,f=t.length,o=0,l,h;for(i=cl(e._f,e._locale).match(wa)||[],h=i.length,r=0;r<h;r++)a=i[r],n=(t.match(pd(a,e))||[])[0],n&&(s=t.substr(0,t.indexOf(n)),s.length>0&&Q(e).unusedInput.push(s),t=t.slice(t.indexOf(n)+n.length),o+=n.length),wt[a]?(n?Q(e).empty=!1:Q(e).unusedTokens.push(a),vd(a,n,e)):e._strict&&!n&&Q(e).unusedTokens.push(a);Q(e).charsLeftOver=f-o,t.length>0&&Q(e).unusedInput.push(t),e._a[be]<=12&&Q(e).bigHour===!0&&e._a[be]>0&&(Q(e).bigHour=void 0),Q(e).parsedDateParts=e._a.slice(0),Q(e).meridiem=e._meridiem,e._a[be]=kh(e._locale,e._a[be],e._meridiem),l=Q(e).era,l!==null&&(e._a[Se]=e._locale.erasConvertYear(l,e._a[Se])),ka(e),Ta(e)}function kh(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Ah(e){var t,r,n,i,a,s,f=!1,o=e._f.length;if(o===0){Q(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<o;i++)a=0,s=!1,t=ya({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Aa(t),pa(t)&&(s=!0),a+=Q(t).charsLeftOver,a+=Q(t).unusedTokens.length*10,Q(t).score=a,f?a<n&&(n=a,r=t):(n==null||a<n||s)&&(n=a,r=t,s&&(f=!0));tt(e,r||t)}function Ch(e){if(!e._d){var t=_a(e._i),r=t.day===void 0?t.date:t.day;e._a=ul([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),ka(e)}}function Ph(e){var t=new Gt(Ta(kl(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function kl(e){var t=e._i,r=e._f;return e._locale=e._locale||Ke(e._l),t===null||r===void 0&&t===""?Vr({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Le(t)?new Gt(Ta(t)):(zt(t)?e._d=t:Pe(r)?Ah(e):r?Aa(e):Lh(e),pa(e)||(e._d=null),e))}function Lh(e){var t=e._i;Ee(t)?e._d=new Date(F.now()):zt(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Oh(e):Pe(t)?(e._a=ul(t.slice(0),function(r){return parseInt(r,10)}),ka(e)):ut(t)?Ch(e):Ze(t)?e._d=new Date(t):F.createFromInputFallback(e)}function Al(e,t,r,n,i){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(ut(e)&&ga(e)||Pe(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=e,a._f=t,a._strict=n,Ph(a)}function ce(e,t,r,n){return Al(e,t,r,n,!1)}var Fh=Te("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ce.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Vr()}),Nh=Te("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ce.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Vr()});function Cl(e,t){var r,n;if(t.length===1&&Pe(t[0])&&(t=t[0]),!t.length)return ce();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function qh(){var e=[].slice.call(arguments,0);return Cl("isBefore",e)}function $h(){var e=[].slice.call(arguments,0);return Cl("isAfter",e)}var Ih=function(){return Date.now?Date.now():+new Date},Lt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jh(e){var t,r=!1,n,i=Lt.length;for(t in e)if(ie(e,t)&&!(we.call(Lt,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<i;++n)if(e[Lt[n]]){if(r)return!1;parseFloat(e[Lt[n]])!==te(e[Lt[n]])&&(r=!0)}return!0}function Yh(){return this._isValid}function Wh(){return Ne(NaN)}function tn(e){var t=_a(e),r=t.year||0,n=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,f=t.hour||0,o=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=jh(t),this._milliseconds=+h+l*1e3+o*6e4+f*1e3*60*60,this._days=+s+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=Ke(),this._bubble()}function Cr(e){return e instanceof tn}function ea(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Uh(e,t,r){var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,s;for(s=0;s<n;s++)te(e[s])!==te(t[s])&&a++;return a+i}function Pl(e,t){Y(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Ie(~~(r/60),2)+t+Ie(~~r%60,2)})}Pl("Z",":");Pl("ZZ","");N("Z",Qr);N("ZZ",Qr);oe(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Ca(Qr,e)});var Hh=/([\+\-]|\d\d)/gi;function Ca(e,t){var r=(t||"").match(e),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(Hh)||["-",0,0],a=+(i[1]*60)+te(i[2]),a===0?0:i[0]==="+"?a:-a)}function Pa(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Le(e)||zt(e)?e.valueOf():ce(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),F.updateOffset(r,!1),r):ce(e).local()}function ta(e){return-Math.round(e._d.getTimezoneOffset())}F.updateOffset=function(){};function zh(e,t,r){var n=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Ca(Qr,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=ta(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?Nl(this,Ne(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,F.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:ta(this)}function Gh(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Vh(e){return this.utcOffset(0,e)}function Bh(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ta(this),"m")),this}function Jh(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Ca(md,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Zh(e){return this.isValid()?(e=e?ce(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Kh(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Qh(){if(!Ee(this._isDSTShifted))return this._isDSTShifted;var e={},t;return ya(e,this),e=kl(e),e._a?(t=e._isUTC?je(e._a):ce(e._a),this._isDSTShifted=this.isValid()&&Uh(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Xh(){return this.isValid()?!this._isUTC:!1}function em(){return this.isValid()?this._isUTC:!1}function Ll(){return this.isValid()?this._isUTC&&this._offset===0:!1}var tm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,rm=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ne(e,t){var r=e,n=null,i,a,s;return Cr(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Ze(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=tm.exec(e))?(i=n[1]==="-"?-1:1,r={y:0,d:te(n[$e])*i,h:te(n[be])*i,m:te(n[Ce])*i,s:te(n[Ve])*i,ms:te(ea(n[ot]*1e3))*i}):(n=rm.exec(e))?(i=n[1]==="-"?-1:1,r={y:st(n[2],i),M:st(n[3],i),w:st(n[4],i),d:st(n[5],i),h:st(n[6],i),m:st(n[7],i),s:st(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=nm(ce(r.from),ce(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),a=new tn(r),Cr(e)&&ie(e,"_locale")&&(a._locale=e._locale),Cr(e)&&ie(e,"_isValid")&&(a._isValid=e._isValid),a}Ne.fn=tn.prototype;Ne.invalid=Wh;function st(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function yu(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function nm(e,t){var r;return e.isValid()&&t.isValid()?(t=Pa(t,e),e.isBefore(t)?r=yu(e,t):(r=yu(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Fl(e,t){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(fl(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=Ne(r,n),Nl(this,i,e),this}}function Nl(e,t,r,n){var i=t._milliseconds,a=ea(t._days),s=ea(t._months);e.isValid()&&(n=n??!0,s&&_l(e,qt(e,"Month")+s*r),a&&yl(e,"Date",qt(e,"Date")+a*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&F.updateOffset(e,a||s))}var im=Fl(1,"add"),am=Fl(-1,"subtract");function ql(e){return typeof e=="string"||e instanceof String}function sm(e){return Le(e)||zt(e)||ql(e)||Ze(e)||um(e)||om(e)||e===null||e===void 0}function om(e){var t=ut(e)&&!ga(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,s=n.length;for(i=0;i<s;i+=1)a=n[i],r=r||ie(e,a);return t&&r}function um(e){var t=Pe(e),r=!1;return t&&(r=e.filter(function(n){return!Ze(n)&&ql(e)}).length===0),t&&r}function lm(e){var t=ut(e)&&!ga(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||ie(e,a);return t&&r}function fm(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function cm(e,t){arguments.length===1&&(arguments[0]?sm(arguments[0])?(e=arguments[0],t=void 0):lm(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||ce(),n=Pa(r,this).startOf("day"),i=F.calendarFormat(this,n)||"sameElse",a=t&&(Ye(t[i])?t[i].call(this,r):t[i]);return this.format(a||this.localeData().calendar(i,this,ce(r)))}function dm(){return new Gt(this)}function hm(e,t){var r=Le(e)?e:ce(e);return this.isValid()&&r.isValid()?(t=ke(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function mm(e,t){var r=Le(e)?e:ce(e);return this.isValid()&&r.isValid()?(t=ke(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function gm(e,t,r,n){var i=Le(e)?e:ce(e),a=Le(t)?t:ce(t);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function pm(e,t){var r=Le(e)?e:ce(e),n;return this.isValid()&&r.isValid()?(t=ke(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function ym(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vm(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function wm(e,t,r){var n,i,a;if(!this.isValid())return NaN;if(n=Pa(e,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,t=ke(t),t){case"year":a=Pr(this,n)/12;break;case"month":a=Pr(this,n);break;case"quarter":a=Pr(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:De(a)}function Pr(e,t){if(e.date()<t.date())return-Pr(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),i,a;return t-n<0?(i=e.clone().add(r-1,"months"),a=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),a=(t-n)/(i-n)),-(r+a)||0}F.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";F.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _m(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bm(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Ar(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ye(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ar(r,"Z")):Ar(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Sm(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,i,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+i+a)}function xm(e){e||(e=this.isUtc()?F.defaultFormatUtc:F.defaultFormat);var t=Ar(this,e);return this.localeData().postformat(t)}function Mm(e,t){return this.isValid()&&(Le(e)&&e.isValid()||ce(e).isValid())?Ne({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Em(e){return this.from(ce(),e)}function Rm(e,t){return this.isValid()&&(Le(e)&&e.isValid()||ce(e).isValid())?Ne({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Om(e){return this.to(ce(),e)}function $l(e){var t;return e===void 0?this._locale._abbr:(t=Ke(e),t!=null&&(this._locale=t),this)}var Il=Te("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function jl(){return this._locale}var jr=1e3,_t=60*jr,Yr=60*_t,Yl=(365*400+97)*24*Yr;function bt(e,t){return(e%t+t)%t}function Wl(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-Yl:new Date(e,t,r).valueOf()}function Ul(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-Yl:Date.UTC(e,t,r)}function Dm(e){var t,r;if(e=ke(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Ul:Wl,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=bt(t+(this._isUTC?0:this.utcOffset()*_t),Yr);break;case"minute":t=this._d.valueOf(),t-=bt(t,_t);break;case"second":t=this._d.valueOf(),t-=bt(t,jr);break}return this._d.setTime(t),F.updateOffset(this,!0),this}function Tm(e){var t,r;if(e=ke(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Ul:Wl,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Yr-bt(t+(this._isUTC?0:this.utcOffset()*_t),Yr)-1;break;case"minute":t=this._d.valueOf(),t+=_t-bt(t,_t)-1;break;case"second":t=this._d.valueOf(),t+=jr-bt(t,jr)-1;break}return this._d.setTime(t),F.updateOffset(this,!0),this}function km(){return this._d.valueOf()-(this._offset||0)*6e4}function Am(){return Math.floor(this.valueOf()/1e3)}function Cm(){return new Date(this.valueOf())}function Pm(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Lm(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Fm(){return this.isValid()?this.toISOString():null}function Nm(){return pa(this)}function qm(){return tt({},Q(this))}function $m(){return Q(this).overflow}function Im(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y("N",0,0,"eraAbbr");Y("NN",0,0,"eraAbbr");Y("NNN",0,0,"eraAbbr");Y("NNNN",0,0,"eraName");Y("NNNNN",0,0,"eraNarrow");Y("y",["y",1],"yo","eraYear");Y("y",["yy",2],0,"eraYear");Y("y",["yyy",3],0,"eraYear");Y("y",["yyyy",4],0,"eraYear");N("N",La);N("NN",La);N("NNN",La);N("NNNN",Zm);N("NNNNN",Km);oe(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?Q(r).era=i:Q(r).invalidEra=e});N("y",Rt);N("yy",Rt);N("yyy",Rt);N("yyyy",Rt);N("yo",Qm);oe(["y","yy","yyy","yyyy"],Se);oe(["yo"],function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Se]=r._locale.eraYearOrdinalParse(e,i):t[Se]=parseInt(e,10)});function jm(e,t){var r,n,i,a=this._eras||Ke("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=F(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=F(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function Ym(e,t,r){var n,i,a=this.eras(),s,f,o;for(e=e.toUpperCase(),n=0,i=a.length;n<i;++n)if(s=a[n].name.toUpperCase(),f=a[n].abbr.toUpperCase(),o=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(f===e)return a[n];break;case"NNNN":if(s===e)return a[n];break;case"NNNNN":if(o===e)return a[n];break}else if([s,f,o].indexOf(e)>=0)return a[n]}function Wm(e,t){var r=e.since<=e.until?1:-1;return t===void 0?F(e.since).year():F(e.since).year()+(t-e.offset)*r}function Um(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function Hm(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function zm(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function Gm(){var e,t,r,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return(this.year()-F(i[e].since).year())*r+i[e].offset;return this.year()}function Vm(e){return ie(this,"_erasNameRegex")||Fa.call(this),e?this._erasNameRegex:this._erasRegex}function Bm(e){return ie(this,"_erasAbbrRegex")||Fa.call(this),e?this._erasAbbrRegex:this._erasRegex}function Jm(e){return ie(this,"_erasNarrowRegex")||Fa.call(this),e?this._erasNarrowRegex:this._erasRegex}function La(e,t){return t.erasAbbrRegex(e)}function Zm(e,t){return t.erasNameRegex(e)}function Km(e,t){return t.erasNarrowRegex(e)}function Qm(e,t){return t._eraYearOrdinalRegex||Rt}function Fa(){var e=[],t=[],r=[],n=[],i,a,s,f,o,l=this.eras();for(i=0,a=l.length;i<a;++i)s=Be(l[i].name),f=Be(l[i].abbr),o=Be(l[i].narrow),t.push(s),e.push(f),r.push(o),n.push(s),n.push(f),n.push(o);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Y(0,["gg",2],0,function(){return this.weekYear()%100});Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function rn(e,t){Y(0,[e,e.length],0,t)}rn("gggg","weekYear");rn("ggggg","weekYear");rn("GGGG","isoWeekYear");rn("GGGGG","isoWeekYear");N("G",Kr);N("g",Kr);N("GG",de,Oe);N("gg",de,Oe);N("GGGG",Sa,ba);N("gggg",Sa,ba);N("GGGGG",Zr,Br);N("ggggg",Zr,Br);Bt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=te(e)});Bt(["gg","GG"],function(e,t,r,n){t[n]=F.parseTwoDigitYear(e)});function Xm(e){return Hl.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function eg(e){return Hl.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function tg(){return Je(this.year(),1,4)}function rg(){return Je(this.isoWeekYear(),1,4)}function ng(){var e=this.localeData()._week;return Je(this.year(),e.dow,e.doy)}function ig(){var e=this.localeData()._week;return Je(this.weekYear(),e.dow,e.doy)}function Hl(e,t,r,n,i){var a;return e==null?It(this,n,i).year:(a=Je(e,n,i),t>a&&(t=a),ag.call(this,e,t,r,n,i))}function ag(e,t,r,n,i){var a=xl(e,t,r,n,i),s=$t(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Y("Q",0,"Qo","quarter");N("Q",dl);oe("Q",function(e,t){t[Ge]=(te(e)-1)*3});function sg(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Y("D",["DD",2],"Do","date");N("D",de,Ot);N("DD",de,Oe);N("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});oe(["D","DD"],$e);oe("Do",function(e,t){t[$e]=te(e.match(de)[0])});var zl=Dt("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear");N("DDD",Jr);N("DDDD",hl);oe(["DDD","DDDD"],function(e,t,r){r._dayOfYear=te(e)});function og(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Y("m",["mm",2],0,"minute");N("m",de,xa);N("mm",de,Oe);oe(["m","mm"],Ce);var ug=Dt("Minutes",!1);Y("s",["ss",2],0,"second");N("s",de,xa);N("ss",de,Oe);oe(["s","ss"],Ve);var lg=Dt("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)});Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Y(0,["SSS",3],0,"millisecond");Y(0,["SSSS",4],0,function(){return this.millisecond()*10});Y(0,["SSSSS",5],0,function(){return this.millisecond()*100});Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});N("S",Jr,dl);N("SS",Jr,Oe);N("SSS",Jr,hl);var rt,Gl;for(rt="SSSS";rt.length<=9;rt+="S")N(rt,Rt);function fg(e,t){t[ot]=te(("0."+e)*1e3)}for(rt="S";rt.length<=9;rt+="S")oe(rt,fg);Gl=Dt("Milliseconds",!1);Y("z",0,0,"zoneAbbr");Y("zz",0,0,"zoneName");function cg(){return this._isUTC?"UTC":""}function dg(){return this._isUTC?"Coordinated Universal Time":""}var P=Gt.prototype;P.add=im;P.calendar=cm;P.clone=dm;P.diff=wm;P.endOf=Tm;P.format=xm;P.from=Mm;P.fromNow=Em;P.to=Rm;P.toNow=Om;P.get=Sd;P.invalidAt=$m;P.isAfter=hm;P.isBefore=mm;P.isBetween=gm;P.isSame=pm;P.isSameOrAfter=ym;P.isSameOrBefore=vm;P.isValid=Nm;P.lang=Il;P.locale=$l;P.localeData=jl;P.max=Nh;P.min=Fh;P.parsingFlags=qm;P.set=xd;P.startOf=Dm;P.subtract=am;P.toArray=Pm;P.toObject=Lm;P.toDate=Cm;P.toISOString=bm;P.inspect=Sm;typeof Symbol<"u"&&Symbol.for!=null&&(P[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});P.toJSON=Fm;P.toString=_m;P.unix=Am;P.valueOf=km;P.creationData=Im;P.eraName=Um;P.eraNarrow=Hm;P.eraAbbr=zm;P.eraYear=Gm;P.year=pl;P.isLeapYear=bd;P.weekYear=Xm;P.isoWeekYear=eg;P.quarter=P.quarters=sg;P.month=bl;P.daysInMonth=Cd;P.week=P.weeks=jd;P.isoWeek=P.isoWeeks=Yd;P.weeksInYear=ng;P.weeksInWeekYear=ig;P.isoWeeksInYear=tg;P.isoWeeksInISOWeekYear=rg;P.date=zl;P.day=P.days=eh;P.weekday=th;P.isoWeekday=rh;P.dayOfYear=og;P.hour=P.hours=lh;P.minute=P.minutes=ug;P.second=P.seconds=lg;P.millisecond=P.milliseconds=Gl;P.utcOffset=zh;P.utc=Vh;P.local=Bh;P.parseZone=Jh;P.hasAlignedHourOffset=Zh;P.isDST=Kh;P.isLocal=Xh;P.isUtcOffset=em;P.isUtc=Ll;P.isUTC=Ll;P.zoneAbbr=cg;P.zoneName=dg;P.dates=Te("dates accessor is deprecated. Use date instead.",zl);P.months=Te("months accessor is deprecated. Use month instead",bl);P.years=Te("years accessor is deprecated. Use year instead",pl);P.zone=Te("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Gh);P.isDSTShifted=Te("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Qh);function hg(e){return ce(e*1e3)}function mg(){return ce.apply(null,arguments).parseZone()}function Vl(e){return e}var ae=va.prototype;ae.calendar=Xc;ae.longDateFormat=nd;ae.invalidDate=ad;ae.ordinal=ud;ae.preparse=Vl;ae.postformat=Vl;ae.relativeTime=fd;ae.pastFuture=cd;ae.set=Kc;ae.eras=jm;ae.erasParse=Ym;ae.erasConvertYear=Wm;ae.erasAbbrRegex=Bm;ae.erasNameRegex=Vm;ae.erasNarrowRegex=Jm;ae.months=Dd;ae.monthsShort=Td;ae.monthsParse=Ad;ae.monthsRegex=Ld;ae.monthsShortRegex=Pd;ae.week=Nd;ae.firstDayOfYear=Id;ae.firstDayOfWeek=$d;ae.weekdays=Jd;ae.weekdaysMin=Kd;ae.weekdaysShort=Zd;ae.weekdaysParse=Xd;ae.weekdaysRegex=nh;ae.weekdaysShortRegex=ih;ae.weekdaysMinRegex=ah;ae.isPM=oh;ae.meridiem=fh;function Wr(e,t,r,n){var i=Ke(),a=je().set(n,t);return i[r](a,e)}function Bl(e,t,r){if(Ze(e)&&(t=e,e=void 0),e=e||"",t!=null)return Wr(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Wr(e,n,r,"month");return i}function Na(e,t,r,n){typeof e=="boolean"?(Ze(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Ze(t)&&(r=t,t=void 0),t=t||"");var i=Ke(),a=e?i._week.dow:0,s,f=[];if(r!=null)return Wr(t,(r+a)%7,n,"day");for(s=0;s<7;s++)f[s]=Wr(t,(s+a)%7,n,"day");return f}function gg(e,t){return Bl(e,t,"months")}function pg(e,t){return Bl(e,t,"monthsShort")}function yg(e,t,r){return Na(e,t,r,"weekdays")}function vg(e,t,r){return Na(e,t,r,"weekdaysShort")}function wg(e,t,r){return Na(e,t,r,"weekdaysMin")}nt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=te(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});F.lang=Te("moment.lang is deprecated. Use moment.locale instead.",nt);F.langData=Te("moment.langData is deprecated. Use moment.localeData instead.",Ke);var Ue=Math.abs;function _g(){var e=this._data;return this._milliseconds=Ue(this._milliseconds),this._days=Ue(this._days),this._months=Ue(this._months),e.milliseconds=Ue(e.milliseconds),e.seconds=Ue(e.seconds),e.minutes=Ue(e.minutes),e.hours=Ue(e.hours),e.months=Ue(e.months),e.years=Ue(e.years),this}function Jl(e,t,r,n){var i=Ne(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function bg(e,t){return Jl(this,e,t,1)}function Sg(e,t){return Jl(this,e,t,-1)}function vu(e){return e<0?Math.floor(e):Math.ceil(e)}function xg(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,i,a,s,f,o;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=vu(ra(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,i=De(e/1e3),n.seconds=i%60,a=De(i/60),n.minutes=a%60,s=De(a/60),n.hours=s%24,t+=De(s/24),o=De(Zl(t)),r+=o,t-=vu(ra(o)),f=De(r/12),r%=12,n.days=t,n.months=r,n.years=f,this}function Zl(e){return e*4800/146097}function ra(e){return e*146097/4800}function Mg(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=ke(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+Zl(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(ra(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Qe(e){return function(){return this.as(e)}}var Kl=Qe("ms"),Eg=Qe("s"),Rg=Qe("m"),Og=Qe("h"),Dg=Qe("d"),Tg=Qe("w"),kg=Qe("M"),Ag=Qe("Q"),Cg=Qe("y"),Pg=Kl;function Lg(){return Ne(this)}function Fg(e){return e=ke(e),this.isValid()?this[e+"s"]():NaN}function ct(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ng=ct("milliseconds"),qg=ct("seconds"),$g=ct("minutes"),Ig=ct("hours"),jg=ct("days"),Yg=ct("months"),Wg=ct("years");function Ug(){return De(this.days()/7)}var He=Math.round,vt={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Hg(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function zg(e,t,r,n){var i=Ne(e).abs(),a=He(i.as("s")),s=He(i.as("m")),f=He(i.as("h")),o=He(i.as("d")),l=He(i.as("M")),h=He(i.as("w")),p=He(i.as("y")),u=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||s<=1&&["m"]||s<r.m&&["mm",s]||f<=1&&["h"]||f<r.h&&["hh",f]||o<=1&&["d"]||o<r.d&&["dd",o];return r.w!=null&&(u=u||h<=1&&["w"]||h<r.w&&["ww",h]),u=u||l<=1&&["M"]||l<r.M&&["MM",l]||p<=1&&["y"]||["yy",p],u[2]=t,u[3]=+e>0,u[4]=n,Hg.apply(null,u)}function Gg(e){return e===void 0?He:typeof e=="function"?(He=e,!0):!1}function Vg(e,t){return vt[e]===void 0?!1:t===void 0?vt[e]:(vt[e]=t,e==="s"&&(vt.ss=t-1),!0)}function Bg(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=vt,i,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},vt,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),i=this.localeData(),a=zg(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var zi=Math.abs;function pt(e){return(e>0)-(e<0)||+e}function nn(){if(!this.isValid())return this.localeData().invalidDate();var e=zi(this._milliseconds)/1e3,t=zi(this._days),r=zi(this._months),n,i,a,s,f=this.asSeconds(),o,l,h,p;return f?(n=De(e/60),i=De(n/60),e%=60,n%=60,a=De(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",o=f<0?"-":"",l=pt(this._months)!==pt(f)?"-":"",h=pt(this._days)!==pt(f)?"-":"",p=pt(this._milliseconds)!==pt(f)?"-":"",o+"P"+(a?l+a+"Y":"")+(r?l+r+"M":"")+(t?h+t+"D":"")+(i||n||e?"T":"")+(i?p+i+"H":"")+(n?p+n+"M":"")+(e?p+s+"S":"")):"P0D"}var ne=tn.prototype;ne.isValid=Yh;ne.abs=_g;ne.add=bg;ne.subtract=Sg;ne.as=Mg;ne.asMilliseconds=Kl;ne.asSeconds=Eg;ne.asMinutes=Rg;ne.asHours=Og;ne.asDays=Dg;ne.asWeeks=Tg;ne.asMonths=kg;ne.asQuarters=Ag;ne.asYears=Cg;ne.valueOf=Pg;ne._bubble=xg;ne.clone=Lg;ne.get=Fg;ne.milliseconds=Ng;ne.seconds=qg;ne.minutes=$g;ne.hours=Ig;ne.days=jg;ne.weeks=Ug;ne.months=Yg;ne.years=Wg;ne.humanize=Bg;ne.toISOString=nn;ne.toString=nn;ne.toJSON=nn;ne.locale=$l;ne.localeData=jl;ne.toIsoString=Te("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nn);ne.lang=Il;Y("X",0,0,"unix");Y("x",0,0,"valueOf");N("x",Kr);N("X",gd);oe("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});oe("x",function(e,t,r){r._d=new Date(te(e))});//! moment.js
F.version="2.30.1";Jc(ce);F.fn=P;F.min=qh;F.max=$h;F.now=Ih;F.utc=je;F.unix=hg;F.months=gg;F.isDate=zt;F.locale=nt;F.invalid=Vr;F.duration=Ne;F.isMoment=Le;F.weekdays=yg;F.parseZone=mg;F.localeData=Ke;F.isDuration=Cr;F.monthsShort=pg;F.weekdaysMin=wg;F.defineLocale=Da;F.updateLocale=mh;F.locales=gh;F.weekdaysShort=vg;F.normalizeUnits=ke;F.relativeTimeRounding=Gg;F.relativeTimeThreshold=Vg;F.calendarFormat=fm;F.prototype=P;F.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Jg=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"})),Zg=Ou(Jg);var Gi,wu;function Kg(){if(wu)return Gi;wu=1;/*!
 * FileStreamRotator
 * Copyright(c) 2012-2017 Holiday Extras.
 * Copyright(c) 2017 Roger C.
 * MIT Licensed
 */var e=Wt,t=it,r=Zg,n=Eu,i=xu,a={};Gi=a;var s=["daily","test","m","h","custom"],f="YYYYMMDDHHmm",o=function(d,g){if(typeof g=="number"){switch(d){case"m":if(g<0||g>60)return!1;break;case"h":if(g<0||g>24)return!1;break}return{type:d,digit:g}}},l=function(d){switch(d){case"custom":case"daily":return{type:d,digit:void 0};case"test":return{type:d,digit:0}}return!1};a.getFrequency=function(d){var g=d.toLowerCase().match(/^(\d+)([mh])$/);if(g)return o(g[2],parseInt(g[1]));var y=l(d);return y||!1},a.parseFileSize=function(d){if(d&&typeof d=="string"){var g=d.toLowerCase().match(/^((?:0\.)?\d+)([kmg])$/);if(g)switch(g[2]){case"k":return g[1]*1024;case"m":return g[1]*1024*1024;case"g":return g[1]*1024*1024*1024}}return null},a.getDate=function(d,g,y){g=g||f;let v=y?r.utc():r().local();if(d&&s.indexOf(d.type)!==-1)switch(d.type){case"m":var w=Math.floor(v.minutes()/d.digit)*d.digit;return v.minutes(w).format(g);case"h":var S=Math.floor(v.hour()/d.digit)*d.digit;return v.hour(S).format(g);case"daily":case"custom":case"test":return v.format(g)}return v.format(g)},a.setAuditLog=function(d,g,y){var v=null;if(d){var w=d.toString().substr(-1),S=d.toString().match(/^(\d+)/);if(Number(S[1])>0){var x=t.dirname(y.replace(/%DATE%.+/,"_filename"));try{if(g){var R=t.resolve(g);v=JSON.parse(e.readFileSync(R,{encoding:"utf-8"}))}else{var R=t.resolve(x+"/.audit.json");v=JSON.parse(e.readFileSync(R,{encoding:"utf-8"}))}}catch(O){if(O.code!=="ENOENT")return null;v={keep:{days:!1,amount:Number(S[1])},auditLog:g||x+"/.audit.json",files:[]}}v.keep={days:w==="d",amount:Number(S[1])}}}return v},a.writeAuditLog=function(d,g){try{c(d.auditLog),e.writeFileSync(d.auditLog,JSON.stringify(d,null,4))}catch(y){g&&console.error(new Date,"[FileStreamRotator] Failed to store log audit at:",d.auditLog,"Error:",y)}};function h(d,g){if(d.hash===n.createHash(d.hashType).update(d.name+"LOG_FILE"+d.date).digest("hex"))try{e.existsSync(d.name)&&e.unlinkSync(d.name)}catch{g&&console.error(new Date,"[FileStreamRotator] Could not remove old log file: ",d.name)}}function p(d,g,y){let v=g||"current.log",w=t.dirname(d),S=t.basename(d),x=w+"/"+v;try{e.lstatSync(x).isSymbolicLink()&&(e.unlinkSync(x),e.symlinkSync(S,x))}catch(R){if(R&&R.code=="ENOENT")try{e.symlinkSync(S,x)}catch{y&&console.error(new Date,"[FileStreamRotator] Could not create symlink file: ",x," -> ",S)}}}function u(d,g,y){if(!d)return null;try{let v=e.lstatSync(d);return e.watch(d,function(w,S){if(w=="rename")try{let x=e.lstatSync(d)}catch(x){y(x,d)}})}catch{g&&console.log(new Date,"[FileStreamRotator] Could not add watcher for "+d)}}a.addLogToAudit=function(d,g,y,v){if(g&&g.files){var w=g.files.findIndex(function(k){return k.name===d});if(w!==-1)return g;var S=Date.now();if(g.files.push({date:S,name:d,hash:n.createHash(g.hashType).update(d+"LOG_FILE"+S).digest("hex")}),g.keep.days){var x=r().subtract(g.keep.amount,"days").valueOf(),R=g.files.filter(function(k){return k.date>x?!0:(k.hashType=g.hashType,h(k,v),y.emit("logRemoved",k),!1)});g.files=R}else{var O=g.files.splice(-g.keep.amount);g.files.length>0&&g.files.filter(function(k){return k.hashType=g.hashType,h(k,v),y.emit("logRemoved",k),!1}),g.files=O}a.writeAuditLog(g,v)}return g},a.getStream=function(d){var g=null,y=null,v=this;if(!d.filename)return console.error(new Date,"[FileStreamRotator] No filename supplied. Defaulting to STDOUT"),process.stdout;d.frequency&&(g=v.getFrequency(d.frequency));let w=v.setAuditLog(d.max_logs,d.audit_file,d.filename);w!=null&&(w.hashType=d.audit_hash_type!==void 0?d.audit_hash_type:"md5"),v.verbose=d.verbose!==void 0?d.verbose:!0;var S=null,x=0,R=0;d.size&&(S=a.parseFileSize(d.size));var O=d.date_format||f;g&&g.type=="daily"&&(d.date_format||(O="YYYY-MM-DD"),(r().format(O)!=r().endOf("day").format(O)||r().format(O)==r().add(1,"day").format(O))&&(v.verbose&&console.log(new Date,"[FileStreamRotator] Changing type to custom as date format changes more often than once a day or not every day"),g.type="custom")),g&&(y=d.frequency?v.getDate(g,O,d.utc):""),d.create_symlink=d.create_symlink||!1,d.extension=d.extension||"";var k=d.filename,D=null,Z=k+(y?"."+y:"");if(k.match(/%DATE%/)&&(Z=k.replace(/%DATE%/g,y||v.getDate(null,O,d.utc))),S){var ge=null,ue=Z;if(w&&w.files&&w.files instanceof Array&&w.files.length>0){var ve=w.files[w.files.length-1].name;if(ve.match(ue)){var Ae=ve.match(ue+"\\.(\\d+)");Ae&&(ue=ve,x=Ae[1])}}for(x==0&&ue==Z&&(ue+=d.extension);e.existsSync(ue);)ge=ue,x++,ue=Z+"."+x+d.extension;if(ge){var le=e.statSync(ge);le.size<S&&(ue=ge,x--,R=le.size)}Z=ue}else Z+=d.extension;v.verbose&&console.log(new Date,"[FileStreamRotator] Logging to: ",Z),c(Z);var T=d.file_options||{flags:"a"},L=e.createWriteStream(Z,T);if(y&&g&&s.indexOf(g.type)>-1||S>0){v.verbose&&console.log(new Date,"[FileStreamRotator] Rotating file: ",g?g.type:"",S?"size: "+S:"");var I=new i;I.auditLog=w,I.end=function(){L.end.apply(L,arguments)},m(L,I),I.on("close",function(){V&&V.close()}),I.on("new",function(G){I.auditLog=v.addLogToAudit(G,I.auditLog,I,v.verbose),d.create_symlink&&p(G,d.symlink_name,v.verbose),d.watch_log&&I.emit("addWatcher",G)});var V;return I.on("addWatcher",function(G){V&&V.close(),d.watch_log&&(V=u(G,v.verbose,function(W,B){I.emit("createLog",B)}))}),I.on("createLog",function(G){try{let W=e.lstatSync(G)}catch{L&&L.end=="function"&&L.end(),L=e.createWriteStream(G,T),I.emit("new",G),m(L,I)}}),I.write=(function(G,W){var B=g?this.getDate(g,O,d.utc):y;if(B!=y||S&&R>S){var X=k+(y&&g?"."+B:"");k.match(/%DATE%/)&&y&&(X=k.replace(/%DATE%/g,B)),S&&R>S?(x++,X+="."+x+d.extension):(x=0,X+=d.extension),R=0,v.verbose&&console.log(new Date,Fe.format("[FileStreamRotator] Changing logs from %s to %s",Z,X)),y=B,D=Z,Z=X,d.end_stream===!0?L.end():L.destroy(),c(Z),L=e.createWriteStream(X,T),I.emit("new",X),I.emit("rotate",D,X),m(L,I)}L.write(G,W),R+=Buffer.byteLength(G,W)}).bind(this),process.nextTick(function(){I.emit("new",Z)}),I.emit("new",Z),I}else return v.verbose&&console.log(new Date,"[FileStreamRotator] File won't be rotated: ",d.frequency,d.size),process.nextTick(function(){L.emit("new",Z)}),L};var c=function(d){var g=t.dirname(d);g.split(t.sep).reduce(function(y,v){if(y+=v+t.sep,!e.existsSync(y))try{e.mkdirSync(y)}catch(w){if(w.code!=="EEXIST")throw w}return y},"")},m=function(g,y){g.on("close",function(){y.emit("close")}),g.on("finish",function(){y.emit("finish")}),g.on("error",function(v){y.emit("error",v)}),g.on("open",function(v){y.emit("open",v)})};return Gi}var Vi,_u;function Qg(){if(_u)return Vi;_u=1;const e=Wt,t=lt,r=it,n=Fe,i=Mu,a=Bc(),s=_e().MESSAGE,f=ia.PassThrough,o=xt(),l={json:!1,colorize:!1,eol:t.EOL,logstash:null,prettyPrint:!1,label:null,stringify:!1,depth:null,showLevel:!0,timestamp:()=>new Date().toISOString()},h=function(u){u=u||{},o.call(this,u);function c(y){Array.prototype.slice.call(arguments,1).forEach(v=>{if(u[v])throw new Error("Cannot set "+v+" and "+y+" together")})}function m(y){if(y&&typeof y=="string"){if(y.toLowerCase().match(/^((?:0\.)?\d+)([kmg])$/))return y}else if(y&&Number.isInteger(y)){const v=Math.round(y/1024);return v===0?"1k":v+"k"}return null}function d(y){return!/["<>|:*?\\/\x00\x01\x02\x03\x04\x05\x06\x07\x08\x09\x0a\x0b\x0c\x0d\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f]/g.test(y)}function g(y){return!/["<>|\x00\x01\x02\x03\x04\x05\x06\x07\x08\x09\x0a\x0b\x0c\x0d\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f]/g.test(y)}if(this.options=Object.assign({},l,u),u.stream)c("stream","filename","maxsize"),this.logStream=new f,this.logStream.pipe(u.stream);else{if(this.filename=u.filename?r.basename(u.filename):"winston.log",this.dirname=u.dirname||r.dirname(u.filename),!d(this.filename)||!g(this.dirname))throw new Error("Your path or filename contain an invalid character.");this.logStream=Kg().getStream({filename:r.join(this.dirname,this.filename),frequency:u.frequency?u.frequency:"custom",date_format:u.datePattern?u.datePattern:"YYYY-MM-DD",verbose:!1,size:m(u.maxSize),max_logs:u.maxFiles,end_stream:!0,audit_file:u.auditFile?u.auditFile:r.join(this.dirname,"."+a(u)+"-audit.json"),file_options:u.options?u.options:{flags:"a"},utc:u.utc?u.utc:!1,extension:u.extension?u.extension:"",create_symlink:u.createSymlink?u.createSymlink:!1,symlink_name:u.symlinkName?u.symlinkName:"current.log",watch_log:u.watchLog?u.watchLog:!1,audit_hash_type:u.auditHashType?u.auditHashType:"sha256"}),this.logStream.on("new",y=>{this.emit("new",y)}),this.logStream.on("rotate",(y,v)=>{this.emit("rotate",y,v)}),this.logStream.on("logRemoved",y=>{if(u.zippedArchive){const v=y.name+".gz";try{e.unlinkSync(v)}catch(w){if(w.code!=="ENOENT"){w.message=`Error occurred while removing ${v}: ${w.message}`,this.emit("error",w);return}}this.emit("logRemoved",v);return}this.emit("logRemoved",y.name)}),u.zippedArchive&&this.logStream.on("rotate",y=>{try{if(!e.existsSync(y))return}catch(x){x.message=`Error occurred while checking existence of ${y}: ${x.message}`,this.emit("error",x);return}try{if(e.existsSync(`${y}.gz`))return}catch(x){x.message=`Error occurred while checking existence of ${y}.gz: ${x.message}`,this.emit("error",x);return}const v=i.createGzip(),w=e.createReadStream(y);w.on("error",x=>{x.message=`Error occurred while reading ${y}: ${x.message}`,this.emit("error",x)});const S=e.createWriteStream(y+".gz");S.on("error",x=>{x.message=`Error occurred while writing ${y}.gz: ${x.message}`,this.emit("error",x)}),w.pipe(v).pipe(S).on("finish",()=>{try{e.unlinkSync(y)}catch(x){if(x.code!=="ENOENT"){x.message=`Error occurred while removing ${y}: ${x.message}`,this.emit("error",x);return}}this.emit("archive",y+".gz")})}),u.watchLog&&this.logStream.on("addWatcher",y=>{this.emit("addWatcher",y)})}};Vi=h,n.inherits(h,o),h.prototype.name="dailyRotateFile";const p=function(){};return h.prototype.log=function(u,c){c=c||p,this.logStream.write(u[s]+this.options.eol),this.emit("logged",u),c(null,!0)},h.prototype.close=function(){this.logStream&&this.logStream.end(()=>{this.emit("finish")})},h.prototype.query=function(u,c){if(typeof u=="function"&&(c=u,u={}),!this.options.json)throw new Error("query() may not be used without the json option being set to true");if(!this.filename)throw new Error("query() may not be used when initializing with a stream");let m=[];u=u||{},u.rows=u.rows||u.limit||10,u.start=u.start||0,u.until=u.until||new Date,typeof u.until!="object"&&(u.until=new Date(u.until)),u.from=u.from||u.until-24*60*60*1e3,typeof u.from!="object"&&(u.from=new Date(u.from)),u.order=u.order||"desc";const d=(()=>{const y=new RegExp(this.filename.replace("%DATE%",".*"),"i");return e.readdirSync(this.dirname).filter(v=>r.basename(v).match(y))})();d.length===0&&c&&c(null,m);const g=y=>{if(!y)return;const v=r.join(this.dirname,y);let w="",S;if(y.endsWith(".gz")){S=new f;const R=e.createReadStream(v);R.on("error",O=>{O.message=`Error occurred while reading ${v}: ${O.message}`,S.emit("error",O)}),R.pipe(i.createGunzip()).pipe(S)}else S=e.createReadStream(v,{encoding:"utf8"});S.on("error",R=>{if(S.readable&&S.destroy(),!!c)return R.code==="ENOENT"?c(null,m):c(R)}),S.on("data",R=>{R=(w+R).split(/\n+/);const O=R.length-1;for(let k=0;k<O;k++)x(R[k]);w=R[O]}),S.on("end",()=>{if(w&&x(w,!0),d.length)g(d.shift());else if(c){m.sort((k,D)=>{const Z=new Date(k.timestamp).getTime(),ge=new Date(D.timestamp).getTime();return Z>ge?1:Z<ge?-1:0}),u.order==="desc"&&(m=m.reverse());const R=u.start||0,O=u.limit||m.length;m=m.slice(R,R+O),u.fields&&(m=m.map(k=>{const D={};return u.fields.forEach(Z=>{D[Z]=k[Z]}),D})),c(null,m)}});function x(R,O){try{const k=JSON.parse(R);if(!k||typeof k!="object")return;const D=new Date(k.timestamp);if(u.from&&D<u.from||u.until&&D>u.until||u.level&&u.level!==k.level)return;m.push(k)}catch(k){O||S.emit("error",k)}}};g(d.shift())},Vi}var Bi,bu;function Xg(){if(bu)return Bi;bu=1;const e=sl(),t=Qg();return e.transports.DailyRotateFile=t,Bi=t,Bi}var ep=Xg();const Ql=Ru(ep),Yt=H.join(K.app.getPath("userData"),"logs");Ya.existsSync(Yt)||Ya.mkdirSync(Yt,{recursive:!0});const qa=ze.format.combine(ze.format.timestamp({format:"YYYY-MM-DD HH:mm:ss.SSS"}),ze.format.errors({stack:!0}),ze.format.printf(({timestamp:e,level:t,message:r,stack:n,...i})=>{let a=`${e} [${t.toUpperCase()}] ${r}`;return n&&(a+=`
${n}`),Object.keys(i).length>0&&(a+=`
Meta: ${JSON.stringify(i,null,2)}`),a})),$a=new Ql({filename:H.join(Yt,"icarus-%DATE%.log"),datePattern:"YYYY-MM-DD",maxSize:"10m",maxFiles:"30d",format:qa,level:"debug"}),tp=new Ql({filename:H.join(Yt,"icarus-error-%DATE%.log"),datePattern:"YYYY-MM-DD",maxSize:"10m",maxFiles:"30d",format:qa,level:"error"}),rp=new ze.transports.Console({format:ze.format.combine(ze.format.colorize(),ze.format.simple()),level:process.env.NODE_ENV==="development"?"debug":"info"}),xe=ze.createLogger({level:"debug",format:qa,transports:[$a,tp,rp],exitOnError:!1});$a.on("rotate",(e,t)=>{xe.info("Log file rotated",{oldFilename:e,newFilename:t})});$a.on("error",e=>{console.error("Daily rotate file error:",e)});const $={startup:(e,t)=>xe.info(`[STARTUP] ${e}`,t),shutdown:(e,t)=>xe.info(`[SHUTDOWN] ${e}`,t),ipc:(e,t)=>xe.debug(`[IPC] ${e}`,t),rag:(e,t)=>xe.info(`[RAG] ${e}`,t),ollama:(e,t)=>xe.info(`[OLLAMA] ${e}`,t),file:(e,t)=>xe.debug(`[FILE] ${e}`,t),chat:(e,t)=>xe.debug(`[CHAT] ${e}`,t),settings:(e,t)=>xe.debug(`[SETTINGS] ${e}`,t),error:(e,t,r)=>{xe.error(e,{error:t==null?void 0:t.message,stack:t==null?void 0:t.stack,...r})},performance:(e,t,r)=>{xe.info(`[PERFORMANCE] ${e} took ${t}ms`,r)},security:(e,t)=>xe.warn(`[SECURITY] ${e}`,t),user:(e,t)=>xe.info(`[USER] ${e}`,t)};xe.info("Logger initialized",{logsDir:Yt,environment:process.env.NODE_ENV||"production",electronVersion:process.versions.electron,nodeVersion:process.versions.node});const np=af.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:ln&&ln.tagName.toUpperCase()==="SCRIPT"&&ln.src||new URL("main.js",document.baseURI).href),na=it.dirname(np);let U=null;const re=[],J={directories:[],sensitivity:70,lastIndexed:0,isIndexing:!1};let Lr=null;const kr=H.join(K.app.getPath("userData"),"icarus-settings.json"),Ji=H.join(K.app.getPath("userData"),"icarus-conversations.json"),Xl=H.join(K.app.getPath("userData"),"icarus-rag-database.json"),Su=async()=>{if($.startup("Creating main window"),U=new K.BrowserWindow({width:1400,height:900,minWidth:800,minHeight:600,webPreferences:{preload:it.join(na,"preload.js"),nodeIntegration:!1,contextIsolation:!0},titleBarStyle:process.platform==="darwin"?"hiddenInset":"hidden",frame:!1,backgroundColor:"#1a0d1a",show:!1,resizable:!0}),U.once("ready-to-show",()=>{$.startup("Main window ready to show"),U==null||U.show()}),process.env.VITE_DEV_SERVER_URL)$.startup("Loading development URL"),U.loadURL(process.env.VITE_DEV_SERVER_URL),U.webContents.openDevTools();else try{$.startup("Attempting to load development URL"),await U.loadURL("http://localhost:5173/"),U.webContents.openDevTools()}catch{$.startup("Development server not available, loading production HTML file"),U.loadFile(it.join(na,"../renderer/main_window/index.html"))}U.on("closed",()=>{$.startup("Main window closed"),U=null}),U.webContents.setWindowOpenHandler(({url:e})=>(K.shell.openExternal(e),{action:"deny"}))};K.app.whenReady().then(async()=>{$.startup("Electron app ready, initializing..."),await Su(),ip();try{await ef(),$.startup("RAG database loaded on startup")}catch(e){$.error("Failed to load RAG database on startup",e)}vp(),K.app.on("activate",async()=>{K.BrowserWindow.getAllWindows().length===0&&($.startup("Reactivating app - creating new window"),await Su())})}).catch(e=>{$.error("Failed to start app",e)});K.app.on("window-all-closed",()=>{$.shutdown("All windows closed"),process.platform!=="darwin"&&K.app.quit()});const ef=async()=>{try{$.rag("Loading RAG database from disk");const e=await ye.readFile(Xl,"utf-8"),t=JSON.parse(e);Array.isArray(t)?(re.length=0,re.push(...t),$.rag("RAG database loaded successfully",{documentCount:re.length,totalSize:re.length})):$.rag("Invalid RAG database format, starting fresh")}catch(e){e.code==="ENOENT"?$.rag("No existing RAG database found, starting fresh"):$.error("Failed to load RAG database",e)}},tf=async()=>{try{$.rag("Saving RAG database to disk",{documentCount:re.length});const e=re.map(t=>({content:t.content,file:t.file,lastModified:t.lastModified,indexed:t.indexed,size:t.size}));await ye.writeFile(Xl,JSON.stringify(e,null,2),"utf-8"),$.rag("RAG database saved successfully")}catch(e){throw $.error("Failed to save RAG database",e),e}};function ip(){K.ipcMain.handle("app:version",()=>K.app.getVersion()),K.ipcMain.handle("platform:info",()=>({platform:process.platform,arch:process.arch,version:process.getSystemVersion()})),K.ipcMain.handle("asset:get",async(t,r)=>{try{const n=it.join(na,"../renderer/main_window",r);$.startup(`Reading asset: ${r} from ${n}`);const i=await ye.readFile(n),a=H.extname(r).toLowerCase();let s="application/octet-stream";a===".jpeg"||a===".jpg"?s="image/jpeg":a===".png"?s="image/png":a===".svg"&&(s="image/svg+xml");const f=i.toString("base64"),o=`data:${s};base64,${f}`;return $.startup(`Successfully loaded asset: ${r} (${i.length} bytes)`),o}catch(n){throw $.error(`Failed to load asset: ${r}`,n),n}}),K.ipcMain.handle("app:logs-directory",()=>{const t=H.join(K.app.getPath("userData"),"logs");return $.user("Requested logs directory",{logsDir:t}),t}),K.ipcMain.handle("settings:load",async()=>{var r;$.ipc("Loading settings");const t={showThinking:!1,ragEnabled:!1,ragDirectories:[],ragSensitivity:70,selectedModel:"",systemPrompt:"You are Icarus, a expert chatbot versed in Amazon Web Services writing practices. Ask the user for clarifying questions.",temperature:.7,contextLength:4e4,topP:.9,topK:40,repeatPenalty:1.1};try{const n=await ye.readFile(kr,"utf-8"),i=JSON.parse(n),a={...t,...i};return i.ragDirectory&&!i.ragDirectories&&(a.ragDirectories=[i.ragDirectory],delete a.ragDirectory,$.settings("Migrated legacy RAG directory setting")),$.settings("Settings loaded successfully",{ragEnabled:a.ragEnabled,ragDirectories:((r=a.ragDirectories)==null?void 0:r.length)||0,selectedModel:a.selectedModel}),a.ragDirectories&&a.ragDirectories.length>0&&(J.directories=a.ragDirectories,J.sensitivity=a.ragSensitivity||70,$.rag("RAG settings updated",{directories:a.ragDirectories,sensitivity:a.ragSensitivity})),a}catch(n){return $.settings("Settings file not found, using defaults",{error:n.message}),t}}),K.ipcMain.handle("settings:save",async(t,r)=>{try{console.log("Saving settings to file:",r);const n=H.dirname(kr);await ye.mkdir(n,{recursive:!0}),await ye.writeFile(kr,JSON.stringify(r,null,2)),console.log("Settings saved successfully to:",kr);const i=J.directories,a=J.sensitivity;J.directories=r.ragDirectories||[],J.sensitivity=r.ragSensitivity||70;const s=JSON.stringify(i)!==JSON.stringify(J.directories),f=a!==J.sensitivity;return s&&(console.log("RAG directories changed from",i,"to",J.directories),r.ragEnabled&&J.directories.length>0&&(console.log("Auto-indexing new RAG directories..."),setTimeout(()=>Ur(),1e3))),f&&console.log("RAG sensitivity changed from",a,"to",J.sensitivity),{success:!0}}catch(n){throw console.error("Failed to save settings:",n),n}}),K.ipcMain.handle("rag:load-database",ef),K.ipcMain.handle("rag:save-database",tf),K.ipcMain.handle("conversations:load",async()=>{const t=[];try{const r=await ye.readFile(Ji,"utf-8"),n=JSON.parse(r);return Array.isArray(n)?(console.log(`Loaded ${n.length} conversations from disk`),n):(console.log("Invalid conversations format, using defaults"),t)}catch(r){return r.code==="ENOENT"?console.log("Conversations file not found, using defaults"):console.error("Error loading conversations:",r),t}}),K.ipcMain.handle("conversations:save",async(t,r)=>{try{const n=H.dirname(Ji);if(await ye.mkdir(n,{recursive:!0}),!Array.isArray(r))throw new Error("Conversations must be an array");return await ye.writeFile(Ji,JSON.stringify(r,null,2)),console.log(`Saved ${r.length} conversations to disk`),{success:!0}}catch(n){throw console.error("Failed to save conversations:",n),n}}),K.ipcMain.handle("ollama:list",async()=>{var t;$.ipc("Fetching Ollama models");try{const r=Date.now(),n=await fetch("http://localhost:11434/api/tags");if(!n.ok)throw new Error("Ollama not running");const a=(await n.json()).models||[];$.performance("Ollama model list fetch",Date.now()-r),$.ollama("Fetched models successfully",{count:a.length});const s=a.some(f=>f.name.includes("qwen3:4b"));if(a.length===0||!s){$.ollama("Installing default model qwen3:4b");try{await _p();const f=await fetch("http://localhost:11434/api/tags");if(f.ok){const o=await f.json();return $.ollama("Default model installed, models updated",{count:((t=o.models)==null?void 0:t.length)||0}),o.models||[]}}catch(f){$.error("Failed to install default model",f)}}return a}catch(r){return $.error("Failed to fetch Ollama models",r),[]}}),K.ipcMain.handle("ollama:pull",async(t,r)=>{const n=typeof r=="string"?r:r.model;return await e(n)}),K.ipcMain.handle("ollama:install-model",async(t,r)=>await e(r));async function e(t){var r;try{console.log("Installing model:",t);const n=await fetch("http://localhost:11434/api/pull",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!n.ok)throw new Error("Failed to start model installation");const i=(r=n.body)==null?void 0:r.getReader();if(!i)throw new Error("No response body");const a=new TextDecoder;let s="";for(;;){const{value:f,done:o}=await i.read();if(o)break;s+=a.decode(f,{stream:!0});const l=s.split(`
`);s=l.pop()||"";for(const h of l)if(h.trim())try{const p=JSON.parse(h);if(U&&U.webContents.send("ollama:pull:progress",p),p.status==="success")return{success:!0}}catch{console.log("Failed to parse installation progress:",h)}}return{success:!0}}catch(n){throw console.error("Model installation error:",n),n}}K.ipcMain.handle("ollama:recommend",async()=>"qwen2.5:8b"),K.ipcMain.handle("ollama:chat",async(t,r)=>{var n,i;$.chat("Starting chat request",{model:r.model,messageCount:((n=r.messages)==null?void 0:n.length)||0,ragEnabled:r.ragEnabled});try{let a=[...r.messages];if(r.ragEnabled&&re.length>0){const p=r.messages[r.messages.length-1];if(p&&p.role==="user"){$.rag("Searching RAG database",{query:p.content.substring(0,100)+"...",databaseSize:re.length});const u=p.content.toLowerCase().split(/\s+/).filter(g=>g.length>2);console.log("Search terms:",u);const c=re.map(g=>{const y=g.content.toLowerCase();let v=0,w=0;return u.forEach(S=>{y.includes(S)&&(w++,y.match(new RegExp(`\\b${S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`))?v+=3:v+=1)}),w>1&&(v+=w*2),{doc:g,score:v,matchedTerms:w}}).filter(g=>{const y=u.length*5,v=J.sensitivity/100*y;return g.score>=Math.max(1,v)}).sort((g,y)=>y.score-g.score).slice(0,3),m=c.map(g=>g.doc);console.log(`Found ${m.length} relevant documents with scores:`,c.map(g=>({file:g.doc.file,score:g.score,terms:g.matchedTerms})));const d=m.map(g=>`[From ${g.file}]: ${g.content}`).join(`

`);if(d){console.log("Found RAG context:",d.length,"characters");const g=m.map(v=>({file:v.file,content:v.content.substring(0,200)+(v.content.length>200?"...":""),lastModified:v.lastModified})),y={role:"system",content:`Here is relevant information from the user's documents to help answer their question:

${d}

Please use this information to provide a more accurate and informed response.`};a.splice(-1,0,y),U&&(U.webContents.send("rag:sources-found",{sources:g,query:p.content}),U.webContents.send("rag:matching-documents",{documents:g,searchTerms:u,totalMatches:m.length}))}else console.log("No RAG context found for query:",p.content)}}const s=await fetch("http://localhost:11434/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,messages:a,stream:!0,think:r.think||!1,options:r.options||{}})});if(!s.ok)throw new Error("Chat request failed");const f=(i=s.body)==null?void 0:i.getReader();if(!f)throw new Error("No response body");const o=new TextDecoder;let l={content:"",thinking:""},h="";for(;;){const{value:p,done:u}=await f.read();if(u)break;h+=o.decode(p,{stream:!0});const c=h.split(`
`);h=c.pop()||"";for(const m of c)if(m.trim())try{const d=JSON.parse(m);if(U&&U.webContents.send("ollama:chat:stream",d),d.message&&(d.message.content&&(l.content+=d.message.content),d.message.thinking&&(l.thinking+=d.message.thinking)),d.done)return console.log("Stream complete, final message:",l),[{message:l}]}catch(d){console.log("Failed to parse line:",m,d)}}return[{message:l}]}catch(a){throw console.error("Chat error:",a),a}}),K.ipcMain.handle("ollama:model-info",async(t,r)=>{var n,i;try{const a=await fetch("http://localhost:11434/api/show",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r})});if(!a.ok)throw new Error("Failed to get model info");const s=await a.json(),f=r.toLowerCase().includes("deepseek")||r.toLowerCase().includes("r1")||r.toLowerCase().includes("qwen3")||r.toLowerCase().includes("o1")||r.toLowerCase().includes("intuitive-thinker")||r.toLowerCase().includes("chain-of-thought")||((n=s.details)==null?void 0:n.family)&&["deepseek","qwen3","o1"].some(h=>s.details.family.toLowerCase().includes(h)),o=r.toLowerCase().includes("llava")||r.toLowerCase().includes("minicpm")||r.toLowerCase().includes("moondream")||r.toLowerCase().includes("bakllava")||r.toLowerCase().includes("vision")||r.toLowerCase().includes("visual")||r.toLowerCase().includes("qwen2-vl")||r.toLowerCase().includes("qwen2.5-vision")||r.toLowerCase().includes("qwen-vl")||r.toLowerCase().includes("gemma2-vision")||r.toLowerCase().includes("gemma-vision")||r.toLowerCase().includes("pixtral")||r.toLowerCase().includes("internvl")||r.toLowerCase().includes("cogvlm")||((i=s.details)==null?void 0:i.family)&&["llava","minicpm","moondream","vision","qwen-vl","qwen2-vl","gemma2","pixtral","internvl","cogvlm"].some(h=>s.details.family.toLowerCase().includes(h));let l=4e4;if(s.parameters){const h=s.parameters.toLowerCase(),p=h.match(/num_ctx[^\d]*(\d+)/),u=h.match(/context[^\d]*(\d+)/),c=h.match(/context_length[^\d]*(\d+)/);p?l=parseInt(p[1]):u?l=parseInt(u[1]):c&&(l=parseInt(c[1])),l<512&&(l=512),l>32768&&(l=32768)}return{...s,supportsThinking:f,supportsVision:o,contextLength:l}}catch(a){return console.error("Model info error:",a),{supportsThinking:!1,supportsVision:!1}}}),K.ipcMain.handle("dialog:select-directory",async()=>{if(!U)throw new Error("No main window available");const t=await K.dialog.showOpenDialog(U,{properties:["openDirectory"],title:"Select RAG Documents Directory",buttonLabel:"Select Folder"});return t.canceled?null:t.filePaths[0]}),K.ipcMain.handle("rag:index-all-directories",async()=>{const t=Date.now();$.rag("Starting RAG indexing for all directories",{directories:J.directories,directoryCount:J.directories.length});try{if(J.directories.length===0)throw new Error("No directories configured");return J.isIndexing=!0,U&&U.webContents.send("rag:indexing-status",{isIndexing:!0,message:"Starting to index all directories..."}),await Ur(),$.performance("RAG indexing completed",Date.now()-t),$.rag("RAG indexing completed successfully",{documentCount:re.length,directories:J.directories.length}),{success:!0,documentCount:re.length,lastIndexed:J.lastIndexed}}catch(r){throw J.isIndexing=!1,$.error("RAG indexing failed",r,{directories:J.directories,duration:Date.now()-t}),r}}),K.ipcMain.handle("rag:index-directory",async(t,r)=>{try{if(!r)throw new Error("No directory provided");J.directories.includes(r)||J.directories.push(r),J.isIndexing=!0,U&&U.webContents.send("rag:indexing-status",{isIndexing:!0,message:"Starting to index documents..."});const n=await an(r),i=[".md",".txt",".json",".csv",".mmd",".pdf",".docx",".doc",".xlsx",".xls",".pptx",".ppt",".eml",".msg"],a=n.filter(s=>{const f=H.extname(s).toLowerCase();return i.includes(f)});return await pp(r,!0,a.length,0),J.isIndexing=!1,J.lastIndexed=Date.now(),U&&U.webContents.send("rag:indexing-status",{isIndexing:!1,message:`Indexed ${re.length} documents`,documentCount:re.length,indexingProgress:100}),{success:!0,documentCount:re.length,lastIndexed:J.lastIndexed}}catch(n){throw J.isIndexing=!1,console.error("RAG indexing error:",n),n}}),K.ipcMain.handle("rag:search",async(t,r)=>!r||re.length===0?[]:re.filter(i=>i.content.toLowerCase().includes(r.toLowerCase())).slice(0,5).map(i=>({content:i.content.substring(0,500)+"...",file:i.file,snippet:yp(i.content,r)}))),K.ipcMain.handle("rag:status",async()=>({isIndexing:J.isIndexing,documentCount:re.length,lastIndexed:J.lastIndexed,directories:J.directories,sensitivity:J.sensitivity})),K.ipcMain.handle("rag:clear",async()=>{try{return re.length=0,J.lastIndexed=0,U&&U.webContents.send("rag:indexing-status",{isIndexing:!1,message:"RAG database cleared",documentCount:0,lastIndexed:0}),{success:!0,message:"RAG database cleared successfully"}}catch(t){throw console.error("Failed to clear RAG database:",t),t}}),K.ipcMain.handle("window:minimize",()=>{U&&U.minimize()}),K.ipcMain.handle("window:maximize",()=>{U&&(U.isMaximized()?U.restore():U.maximize())}),K.ipcMain.handle("window:close",()=>{U&&U.close()}),K.ipcMain.handle("fs:open-directory",async(t,r)=>{try{const n=H.dirname(r);return $.file("Opening directory in explorer",{filePath:r,directoryPath:n}),await K.shell.openPath(n),$.user("Opened file in explorer",{fileName:H.basename(r)}),{success:!0}}catch(n){throw $.error("Failed to open directory",n,{filePath:r}),n}}),K.ipcMain.handle("fs:read-file",async(t,r)=>{try{let n=null;for(const s of J.directories){const f=H.join(s,r);try{await ye.access(f),n=f;break}catch{continue}}if(!n)throw new Error(`File not found in any configured directory: ${r}`);console.log("Reading file:",n);const i=await ye.readFile(n,"utf-8"),a=await ye.stat(n);return{success:!0,content:i,filePath:n,size:a.size,lastModified:a.mtime.getTime(),fileName:H.basename(n)}}catch(n){throw console.error("Failed to read file:",n),n}}),K.ipcMain.handle("pdf:extract-text",async(t,r)=>{try{const n=console.warn,i=console.error;console.warn=(...s)=>{try{const f=s.map(o=>{try{return typeof o=="string"?o:typeof o=="object"&&o!==null?JSON.stringify(o):String(o)}catch{return"[Object]"}}).join(" ");!f.includes("Setting up fake worker")&&!f.includes("TT: undefined function")&&!f.includes("Unsupported: field.type of Link")&&!f.includes("NOT valid form element")&&!f.includes("Unsupported")&&!f.includes("field.type")&&!f.includes("form element")&&n(...s)}catch{n(...s)}},console.error=(...s)=>{try{const f=s.map(o=>{try{return typeof o=="string"?o:typeof o=="object"&&o!==null?JSON.stringify(o):String(o)}catch{return"[Object]"}}).join(" ");!f.includes("Unsupported: field.type of Link")&&!f.includes("NOT valid form element")&&!f.includes("Unsupported")&&!f.includes("field.type")&&!f.includes("form element")&&i(...s)}catch{i(...s)}};const a=(await Promise.resolve().then(()=>require("./pdfparser-CdcIcdvz.js"))).default;return new Promise(s=>{const f=new a;f.on("pdfParser_dataReady",l=>{try{let h="";l.Pages&&Array.isArray(l.Pages)&&l.Pages.forEach((p,u)=>{const c=u+1;let m="";p.Texts&&Array.isArray(p.Texts)&&(m=p.Texts.map(d=>d.R&&Array.isArray(d.R)?d.R.map(g=>decodeURIComponent(g.T||"")).join(""):"").filter(d=>d.trim()).join(" ")),m.trim()&&(h+=`Page ${c}:
${m}

`)}),s({success:!0,text:h.trim()||"No extractable text found in this PDF."})}catch(h){console.error("PDF data parsing error:",h),s({success:!1,error:"Failed to parse PDF content"})}}),f.on("pdfParser_dataError",l=>{console.error("PDF parsing error:",l),s({success:!1,error:l.parserError||"Failed to parse PDF file"})});const o=Buffer.from(r);f.parseBuffer(o),setTimeout(()=>{console.warn=n,console.error=i},100)})}catch(n){return console.error("PDF processing error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown PDF processing error"}}})}async function rf(e,t){const r=H.basename(e);switch(t.toLowerCase()){case".pdf":return await ap(e);case".docx":return await sp(e);case".doc":return await op(e);case".xlsx":case".xls":return await up(e);case".eml":return await lp(e);case".msg":return await fp(e);case".ppt":case".pptx":return await cp(e);default:return`${t.toUpperCase().substring(1)} Document: ${r}

Unsupported file format for text extraction.`}}async function ap(e){try{const t=await ye.readFile(e),r=await new Promise(n=>{const i=console.warn,a=console.error;console.warn=(...o)=>{try{const l=o.map(h=>{try{return typeof h=="string"?h:typeof h=="object"&&h!==null?JSON.stringify(h):String(h)}catch{return"[Object]"}}).join(" ");!l.includes("Setting up fake worker")&&!l.includes("TT: undefined function")&&!l.includes("Unsupported: field.type of Link")&&!l.includes("NOT valid form element")&&!l.includes("Unsupported")&&!l.includes("field.type")&&!l.includes("form element")&&i(...o)}catch{i(...o)}},console.error=(...o)=>{try{const l=o.map(h=>{try{return typeof h=="string"?h:typeof h=="object"&&h!==null?JSON.stringify(h):String(h)}catch{return"[Object]"}}).join(" ");!l.includes("Unsupported: field.type of Link")&&!l.includes("NOT valid form element")&&!l.includes("Unsupported")&&!l.includes("field.type")&&!l.includes("form element")&&a(...o)}catch{a(...o)}};const s=require("pdf2json"),f=new s(null,1);f.on("pdfParser_dataReady",o=>{try{let l="";o.Pages&&Array.isArray(o.Pages)&&o.Pages.forEach((h,p)=>{const u=p+1;let c="";h.Texts&&Array.isArray(h.Texts)&&(c=h.Texts.map(m=>m.R&&Array.isArray(m.R)?m.R.map(d=>decodeURIComponent(d.T||"")).join(""):"").filter(m=>m.trim()).join(" ")),c.trim()&&(l+=`Page ${u}:
${c}

`)}),n({success:!0,text:l.trim()||"No extractable text found in this PDF."})}catch{n({success:!1,error:"Failed to parse PDF content"})}}),f.on("pdfParser_dataError",o=>{n({success:!1,error:o.parserError||"Failed to parse PDF file"})}),f.parseBuffer(t),setTimeout(()=>{console.warn=i,console.error=a},100)});if(r.success)return`PDF Document: ${H.basename(e)}

${r.text}`;throw new Error(r.error)}catch(t){throw new Error(`PDF processing failed: ${t instanceof Error?t.message:"Unknown error"}`)}}async function sp(e){try{const t=require("mammoth"),r=await ye.readFile(e),n=await t.extractRawText({buffer:r});return`DOCX Document: ${H.basename(e)}

${n.value}`}catch(t){throw new Error(`DOCX processing failed: ${t instanceof Error?t.message:"Unknown error"}`)}}async function op(e){try{const t=require("word-extractor"),n=await new t().extract(e);return`DOC Document: ${H.basename(e)}

${n.getBody()}`}catch(t){throw new Error(`DOC processing failed: ${t instanceof Error?t.message:"Unknown error"}`)}}async function up(e){try{const t=require("xlsx"),r=console.warn;console.warn=(...a)=>{try{const s=a.map(f=>{try{return typeof f=="string"?f:typeof f=="object"&&f!==null?JSON.stringify(f):String(f)}catch{return"[Object]"}}).join(" ");!s.includes("TT: undefined function")&&!s.includes("Setting up fake worker")&&r(...a)}catch{r(...a)}};const n=t.readFile(e,{cellFormula:!1,cellHTML:!1,cellText:!0,cellDates:!0,sheetStubs:!1});console.warn=r;let i=`Excel Document: ${H.basename(e)}

`;return n.SheetNames.forEach(a=>{const s=n.Sheets[a],f=t.utils.sheet_to_csv(s);f.trim()&&(i+=`Sheet: ${a}
${f}

`)}),i}catch(t){throw new Error(`Excel processing failed: ${t instanceof Error?t.message:"Unknown error"}`)}}async function lp(e){try{const r=(await ye.readFile(e,"utf-8")).split(`
`);let n="",i="",a="",s="",f="",o=!1;for(const l of r)o?f+=l+`
`:l.toLowerCase().startsWith("subject:")?n=l.substring(8).trim():l.toLowerCase().startsWith("from:")?i=l.substring(5).trim():l.toLowerCase().startsWith("to:")?a=l.substring(3).trim():l.toLowerCase().startsWith("date:")?s=l.substring(5).trim():l.trim()===""&&(o=!0);return`Email: ${H.basename(e)}

From: ${i}
To: ${a}
Date: ${s}
Subject: ${n}

${f.trim()}`}catch(t){throw new Error(`EML processing failed: ${t instanceof Error?t.message:"Unknown error"}`)}}async function fp(e){try{const t=require("@kenjiuno/msgreader").default,r=await ye.readFile(e),i=new t(r).getFileData();if(i.error)throw new Error(i.error);{const a=i.subject||"No Subject",s=i.senderName||"Unknown Sender",f=i.body||"No Body Content";return`Outlook Message: ${H.basename(e)}

From: ${s}
Subject: ${a}

${f}`}}catch(t){throw new Error(`MSG processing failed: ${t instanceof Error?t.message:"Unknown error"}`)}}async function cp(e){return`PowerPoint Document: ${H.basename(e)}

Note: PowerPoint text extraction is not yet fully implemented. Consider exporting slides to PDF or text format for better indexing.`}const dp=async(e,t)=>{try{const r=await ye.stat(e);return t?r.mtime.getTime()!==t.lastModified||r.size!==t.size:!0}catch{return!1}},hp=async()=>{const e=[];for(let t=0;t<re.length;t++){const r=re[t];try{await ye.access(r.file)}catch{e.push(t)}}for(let t=e.length-1;t>=0;t--)re.splice(e[t],1);e.length>0&&$.rag("Removed chunks for deleted files",{removedCount:e.length})},mp=e=>{const t=re.length,r=H.relative(process.cwd(),e);for(let i=re.length-1;i>=0;i--){const a=re[i];(a.file===r||a.file===e)&&re.splice(i,1)}const n=t-re.length;n>0&&$.rag("Removed old chunks for updated file",{file:H.basename(e),removedChunks:n})},gp=async e=>{try{const t=await ye.stat(e),r=H.extname(e).toLowerCase(),n=await rf(e,r);if(!n||n.trim().length===0){$.file("Skipping empty file",{file:H.basename(e)});return}const i=n.split(/\n\s*\n/).filter(f=>f.trim().length>50);i.length===0&&i.push(n.trim());const a=J.directories.find(f=>e.startsWith(f))||process.cwd(),s=H.relative(a,e);for(const f of i)re.push({content:f.trim(),file:s,lastModified:t.mtime.getTime(),indexed:Date.now(),size:t.size});$.file("File indexed successfully",{file:H.basename(e),chunks:i.length,size:t.size})}catch(t){throw $.error("Failed to process individual file",t,{file:e}),t}};async function Ur(){try{$.rag("Starting incremental RAG indexing"),await hp();const e=[],t=[],r=[".md",".txt",".json",".csv",".mmd",".pdf",".docx",".doc",".xlsx",".xls",".pptx",".ppt",".eml",".msg"],n=new Map;re.forEach(s=>{const f=H.isAbsolute(s.file)?s.file:H.resolve(s.file);n.set(f,s)});for(const s of J.directories)if(s&&s.trim()){$.rag("Scanning directory for changes",{directory:s});const o=(await an(s)).filter(l=>{const h=H.extname(l).toLowerCase();return r.includes(h)});for(const l of o){const h=n.get(l);await dp(l,h)?(e.push(l),h&&$.rag("File changed, will reindex",{file:H.basename(l),lastModified:new Date(h.lastModified).toISOString()})):t.push(l)}}if($.rag("File processing summary",{totalFiles:e.length+t.length,toProcess:e.length,skipped:t.length}),e.length===0){U&&U.webContents.send("rag:indexing-status",{isIndexing:!1,message:t.length>0?"All files are up to date":"No supported files found in selected directories",documentCount:re.length,indexingProgress:100});return}let i=0;const a=e.length;for(const s of e)try{U&&U.webContents.send("rag:indexing-status",{isIndexing:!0,message:`Processing: ${H.basename(s)}...`,indexingProgress:Math.round(i/a*100)}),mp(s),await gp(s),i++,$.file("File processed for RAG",{file:H.basename(s),progress:`${i}/${a}`})}catch(f){$.error("Error processing file for RAG",f,{file:s,progress:`${i}/${a}`}),i++}J.lastIndexed=Date.now();try{await tf(),$.rag("RAG database saved after incremental indexing")}catch(s){$.error("Failed to save RAG database after indexing",s)}if(U){const s=e.length,f=s>0?`Updated ${s} files, ${re.length} total documents indexed`:`All files up to date, ${re.length} documents available`;U.webContents.send("rag:indexing-status",{isIndexing:!1,message:f,documentCount:re.length,lastIndexed:J.lastIndexed,indexingProgress:100})}}catch(e){throw console.error("Error indexing all directories:",e),e}}async function pp(e,t=!0,r=0,n=0){try{$.rag("Starting document indexing",{directory:e,clearFirst:t,totalFiles:r});const i=await an(e),a=[".md",".txt",".json",".csv",".mmd",".pdf",".docx",".doc",".xlsx",".xls",".pptx",".ppt",".eml",".msg"];t&&(re.length=0,$.rag("Cleared existing RAG database"));for(const s of i){const f=H.extname(s).toLowerCase();if(a.includes(f))try{const o=await ye.stat(s);let l="";if([".pdf",".docx",".doc",".xlsx",".xls",".pptx",".ppt",".eml",".msg"].includes(f))try{const p=Date.now();$.file(`Processing ${f} file for RAG`,{file:H.basename(s),extension:f}),l=await rf(s,f),$.performance(`File extraction (${f})`,Date.now()-p)}catch(p){$.error("Error extracting content from file",p,{file:H.basename(s),extension:f,fullPath:s}),l=`${f.toUpperCase().substring(1)} Document: ${H.basename(s)}

Error: Could not extract text content from this file.`}else{const p=await ye.readFile(s,"utf-8");if(f===".csv"){const u=p.split(`
`);if(u.length>0){const c=u[0].split(",").map(m=>m.trim().replace(/"/g,""));l=`CSV File: ${H.basename(s)}
Columns: ${c.join(", ")}

Data:
${p}`}else l=`CSV File: ${H.basename(s)}

${p}`}else if(f===".json")try{const u=JSON.parse(p);l=`JSON File: ${H.basename(s)}

${JSON.stringify(u,null,2)}`}catch{l=`JSON File: ${H.basename(s)}

${p}`}else f===".md"?l=`Markdown File: ${H.basename(s)}

${p}`:f===".txt"?l=`Text File: ${H.basename(s)}

${p}`:f===".mmd"?l=`Mermaid Diagram: ${H.basename(s)}

${p}`:l=`${f.toUpperCase().substring(1)} File: ${H.basename(s)}

${p}`}const h=l.split(`

`).filter(p=>p.trim().length>50);h.length===0&&l.trim().length>50&&h.push(l.trim());for(const p of h)re.push({content:p.trim(),file:H.relative(e,s),lastModified:o.mtime.getTime(),indexed:Date.now(),size:o.size});if(r>0&&U){n++;const p=Math.round(n/r*100);U.webContents.send("rag:indexing-status",{isIndexing:!0,message:`Indexed: ${H.basename(s)} (${f.toUpperCase()})`,indexingProgress:p})}else U&&U.webContents.send("rag:indexing-status",{isIndexing:!0,message:`Indexed: ${H.basename(s)} (${f.toUpperCase()})`})}catch(o){console.error(`Error indexing file ${s}:`,o)}}return n}catch(i){throw console.error("Error indexing documents:",i),i}}async function an(e){const t=[];try{const r=await ye.readdir(e,{withFileTypes:!0});for(const n of r){const i=H.join(e,n.name);n.isDirectory()?t.push(...await an(i)):t.push(i)}}catch(r){console.error(`Error reading directory ${e}:`,r)}return t}function yp(e,t,r=100){const n=e.toLowerCase(),i=t.toLowerCase(),a=n.indexOf(i);if(a===-1)return e.substring(0,r)+"...";const s=Math.max(0,a-r/2),f=Math.min(e.length,a+t.length+r/2);return"..."+e.substring(s,f)+"..."}function vp(){Lr=setInterval(async()=>{if(J.directories.length>0&&!J.isIndexing){const e=Date.now()-864e5;if(J.lastIndexed<e){console.log("Auto-indexing RAG directories (daily check):",J.directories);try{await Ur()}catch(t){console.error("Auto-indexing failed:",t)}}}},60*60*1e3),setTimeout(wp,5e3)}async function wp(){if(J.directories.length>0&&!J.isIndexing){const e=Date.now()-6e4;if(J.lastIndexed<e){console.log("Auto-indexing RAG directories on startup:",J.directories);try{await Ur()}catch(t){console.error("Startup auto-indexing failed:",t)}}}}async function _p(){var t;const e="qwen3:4b";console.log("Installing default model:",e);try{const r=await fetch("http://localhost:11434/api/pull",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!r.ok)throw new Error("Failed to start model installation");const n=(t=r.body)==null?void 0:t.getReader();if(!n)throw new Error("No response body");const i=new TextDecoder;let a="";for(U&&U.webContents.send("ollama:pull:progress",{status:"pulling",message:`Installing default model: ${e}...`});;){const{value:s,done:f}=await n.read();if(f)break;a+=i.decode(s,{stream:!0});const o=a.split(`
`);a=o.pop()||"";for(const l of o)if(l.trim())try{const h=JSON.parse(l);if(U&&U.webContents.send("ollama:pull:progress",h),h.status==="success")return console.log("Default model installation completed"),!0}catch{console.log("Failed to parse installation progress:",l)}}return!0}catch(r){throw console.error("Failed to install default model:",r),U&&U.webContents.send("ollama:pull:progress",{status:"error",message:`Failed to install ${e}: ${r.message}`}),r}}K.app.on("before-quit",()=>{$.shutdown("App quitting - cleaning up"),Lr&&(clearInterval(Lr),Lr=null),xe.close()});
